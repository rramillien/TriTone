(function(e){"use strict";function r(e,r,t){"string"==typeof e?e[r]=t:Object.defineProperty(e,r,{value:t,enumerable:!1,configurable:!0,writable:!0})}function t(e){var r,t,n;for(r=0,t=j.tracers_for_class.length;r<t;r++)(n=j.tracers_for_class[r]).trace_object=e,n.block.$call(n)}function n(e,r){if(e.$$autoload[r].loaded){if(e.$$autoload[r].loaded&&!e.$$autoload[r].required&&e.$$autoload[r].exception)throw e.$$autoload[r].exception}else{e.$$autoload[r].loaded=!0;try{j.Kernel.$require(e.$$autoload[r].path)}catch(t){throw e.$$autoload[r].exception=t,t}if(e.$$autoload[r].required=!0,null!=e.$$const[r])return e.$$autoload[r].success=!0,e.$$const[r]}}function i(e,r){if(e){if(null!=e.$$const[r])return e.$$const[r];if(e.$$autoload&&e.$$autoload[r])return n(e,r)}}function a(e,r){var t,i,a;if(0!==e.length)for(t=0,i=e.length;t<i;t++){if(null!=(a=e[t].$$const[r]))return a;if(e[t].$$autoload&&e[t].$$autoload[r])return n(e[t],r)}}function o(e,r){var t,i,a;if(null!=e)for(t=0,i=(a=j.ancestors(e)).length;t<i;t++){if(a[t].$$const&&M.call(a[t].$$const,r))return a[t].$$const[r];if(a[t].$$autoload&&a[t].$$autoload[r])return n(a[t],r)}}function $(e,r){if(null==e||e.$$is_module)return o(O,r)}function s(e,r,t){if(!t)return(e||O).$const_missing(r)}function u(e,t,n){return null!=e&&"::"!==e||(e=O),n.$$is_a_module&&(null!=n.$$name&&n.$$name!==A||(n.$$name=t),null==n.$$base_module&&(n.$$base_module=e)),e.$$const=e.$$const||Object.create(null),e.$$const[t]=n,e.$$=e.$$const,j.const_cache_version++,e===O&&(j[t]=n),r(e,t,n),n}function l(e,r){var t=i(e,r);if(t){if(!t.$$is_class)throw j.TypeError.$new(r+" is not a class");return t}}function c(e,r){if(e.$$super!==r)throw j.TypeError.$new("superclass mismatch for class "+e.$$name)}function f(e,r){var t=i(e,r);if(null==t&&e===O&&(t=o(O,r)),t&&!t.$$is_module&&t!==O)throw j.TypeError.$new(r+" is not a module");return t}function d(e){return e.hasOwnProperty("$$iclass")&&e.hasOwnProperty("$$root")}function h(e){for(var r,t=[],n=Object.getPrototypeOf(e.$$prototype);n&&!n.hasOwnProperty("$$class");)(r=y(n))&&t.push(r),n=Object.getPrototypeOf(n);return t}function _(e){var r,t=[],n=Object.getPrototypeOf(e.$$prototype);if(e.$$prototype.hasOwnProperty("$$dummy"))for(;n&&n!==e.$$prototype.$$define_methods_on;)(r=y(n))&&t.push(r),n=Object.getPrototypeOf(n);return t}function p(e){for(var r=e.$$prototype,t=Object.getOwnPropertyNames(r),n=0;n<t.length;n++){var i=t[n];j.is_method(i)&&delete r[i]}}function g(e){var r=m(e);return e.$$is_module&&e.$$iclasses.push(r),r}function m(e){var t={},n=e.$$prototype;n.hasOwnProperty("$$dummy")&&(n=n.$$define_methods_on);var i,a=Object.getOwnPropertyNames(n),o=a.length;for(i=0;i<o;i++){var $=a[i];r(t,$,n[$])}return r(t,"$$iclass",!0),r(t,"$$module",e),t}function v(e){var t=e.length,n=e[0];if(r(n,"$$root",!0),1===t)return{first:n,last:n};for(var i=n,a=1;a<t;a++){var o=e[a];T(i,o),i=o}return{first:e[0],last:e[t-1]}}function y(e){if(!e.hasOwnProperty("$$dummy"))return e.hasOwnProperty("$$iclass")?e.$$module:e.hasOwnProperty("$$class")?e.$$class:void 0}function b(e){return e.$$own_prepended_modules.concat([e]).concat(e.$$own_included_modules)}function w(e,r){"number"==typeof r?e.$$arity=r:"object"==typeof r&&Object.assign(e,r)}function E(e){return"function"==typeof e&&!e.$$stub}function x(){var e=j.slice.call(arguments),r=x.$$p;return delete x.$$p,j.send(O,"define_method",e,r)}var k,A,I,O,S,N,z,q;if("undefined"!=typeof globalThis?e=globalThis:"undefined"!=typeof global?e=global:"undefined"!=typeof window&&(e=window),"log"in(k="object"==typeof e.console?e.console:null==e.console?e.console={}:{})||(k.log=function(){}),"warn"in k||(k.warn=k.log),"undefined"!=typeof e.Opal)return k.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),e.Opal;var j=e.Opal={};j.global=e,e.Opal=j,j.config={missing_require_severity:"error",unsupported_features_severity:"warning",experimental_features_severity:"warning",enable_stack_trace:!0};var M=Object.hasOwnProperty,R=Function.prototype.bind,T=Object.setPrototypeOf,C=Array.prototype.slice,F=Array.prototype.splice,P=4,D=P;j.uid=function(){return D+=2},j.id=function(e){return e.$$is_number?2*e+1:null!=e.$$id?e.$$id:(r(e,"$$id",j.uid()),e.$$id)},j.gvars={},j.exit=function(e){j.gvars.DEBUG&&k.log("Exited with status "+e)},j.exceptions=[],j.pop_exception=function(){var e=j.exceptions.pop();e?(j.gvars["!"]=e,j.gvars["@"]=e.$backtrace()):j.gvars["!"]=j.gvars["@"]=A},j.prop=r,j.defineProperty=j.prop,j.slice=C;var L=j.truthy=function(e){return!(!1===e||A===e||undefined===e||null===e||e instanceof Boolean&&!0!==e.valueOf())};j.falsy=function(e){return!L(e)},j.type_error=function(e,r,t,n){return e=e.$$class,n&&t?(n=n.$$class,j.TypeError.$new("can't convert "+e+" into "+r+" ("+e+"#"+t+" gives "+n+")")):j.TypeError.$new("no implicit conversion of "+e+" into "+r)},j.coerce_to=function(e,r,t,n){if(r["$==="](e))return e;if(!e["$respond_to?"](t))throw j.type_error(e,r);return null==n&&(n=[]),j.send(e,t,n)},j.respond_to=function(e,r,t){if(null==e||!e.$$class)return!1;t=!!t;var n=e[r];return e["$respond_to?"].$$pristine?"function"==typeof n&&!n.$$stub||(e["$respond_to_missing?"].$$pristine?void 0:j.send(e,e["$respond_to_missing?"],[r.substr(1),t])):j.send(e,e["$respond_to?"],[r.substr(1),t])},j.trace_class=!1,j.tracers_for_class=[],j.const_get_local=function(e,r,t){var n;if(null!=e){if("::"===e&&(e=O),!e.$$is_module&&!e.$$is_class)throw new j.TypeError(e.toString()+" is not a class/module");return null!=(n=i(e,r))?n:null!=(n=s(e,r,t))?n:void 0}},j.const_get_qualified=function(e,t,n){var a,$,u,l=j.const_cache_version;if(null==t)return null!=(a=i(O,e))?a:j.const_get_qualified(O,e,n);if(null!=e){if("::"===e&&(e=O),!e.$$is_module&&!e.$$is_class)throw new j.TypeError(e.toString()+" is not a class/module");return null==($=e.$$const_cache)&&(r(e,"$$const_cache",Object.create(null)),$=e.$$const_cache),null==(u=$[t])||u[0]!==l?(null!=(a=i(e,t))||(a=o(e,t)),$[t]=[l,a]):a=u[1],null!=a?a:s(e,t,n)}},j.const_cache_version=1,j.const_get_relative=function(e,t,n){var u,l,c,f=e[0],d=j.const_cache_version;return null==(l=e.$$const_cache)&&(r(e,"$$const_cache",Object.create(null)),l=e.$$const_cache),null==(c=l[t])||c[0]!==d?(null!=(u=i(f,t))||null!=(u=a(e,t))||null!=(u=o(f,t))||(u=$(f,t)),l[t]=[d,u]):u=c[1],null!=u?u:s(f,t,n)},j.const_set=u,j.constants=function(e,r){null==r&&(r=!0);var t,n,i,a,o=[e],$={};for(r&&(o=o.concat(j.ancestors(e))),r&&e.$$is_module&&(o=o.concat([j.Object]).concat(j.ancestors(j.Object))),n=0,i=o.length;n<i&&(t=o[n],e===O||t!=O);n++){for(a in t.$$const)$[a]=!0;if(t.$$autoload)for(a in t.$$autoload)$[a]=!0}return Object.keys($)},j.const_remove=function(e,r){if(j.const_cache_version++,null!=e.$$const[r]){var t=e.$$const[r];return delete e.$$const[r],t}if(e.$$autoload&&e.$$autoload[r])return delete e.$$autoload[r],A;throw j.NameError.$new("constant "+e+"::"+e.$name()+" not defined")},j.const_get_relative_factory=function(e){return function(r,t){return j.$$(e,r,t)}},j.$$=j.const_get_relative,j.$$$=j.const_get_qualified,j.$r=j.const_get_relative_factory,j.allocate_class=function(e,t,n){var i,a;if(a=null!=t&&t.$$bridge?function(){var e=C.call(arguments),r=new(R.apply(t.$$constructor,[null].concat(e)));return T(r,i.$$prototype),r}:function(){},e&&e!==A&&r(a,"displayName","::"+e),r(i=a,"$$name",e),r(i,"$$constructor",a),r(i,"$$prototype",a.prototype),r(i,"$$const",{}),r(i,"$$is_class",!0),r(i,"$$is_a_module",!0),r(i,"$$super",t),r(i,"$$cvars",{}),r(i,"$$own_included_modules",[]),r(i,"$$own_prepended_modules",[]),r(i,"$$ancestors",[]),r(i,"$$ancestors_cache_version",null),r(i,"$$subclasses",[]),r(i.$$prototype,"$$class",i),j.Class&&T(i,j.Class.prototype),null!=t){if(T(i.$$prototype,t.$$prototype),!0!==n)if("undefined"!=typeof WeakRef){var o,$,s=[];for(o=0;o<t.$$subclasses.length;o++)($=t.$$subclasses[o]).deref()!==undefined&&s.push($);s.push(new WeakRef(i)),t.$$subclasses=s}else t.$$subclasses.push(i);t.$$meta&&j.build_class_singleton_class(i)}return i},j.klass=function(e,r,n){var i;if(null==e||"::"==e?e=O:e.$$is_class||e.$$is_module||(e=e.$$class),null!=r&&(!r.hasOwnProperty||r.hasOwnProperty&&!r.hasOwnProperty("$$is_class"))){if(!r.constructor||"Function"!=r.constructor.name)throw j.TypeError.$new("superclass must be a Class ("+(r.constructor&&(r.constructor.name||r.constructor.$$name)||typeof r)+" given)");i=r,r=O}var a=l(e,n);return a?(r&&c(a,r),j.trace_class&&t(a),a):(null==r&&(r=O),u(e,n,a=j.allocate_class(n,r)),r.$inherited&&r.$inherited(a),i&&j.bridge(i,a),j.trace_class&&t(a),a)},j.allocate_module=function(e){var t=function(){};e&&r(t,"displayName",e+".$$constructor");var n=t;return e&&r(t,"displayName",e+".constructor"),r(n,"$$name",e),r(n,"$$prototype",t.prototype),r(n,"$$const",{}),r(n,"$$is_module",!0),r(n,"$$is_a_module",!0),r(n,"$$cvars",{}),r(n,"$$iclasses",[]),r(n,"$$own_included_modules",[]),r(n,"$$own_prepended_modules",[]),r(n,"$$ancestors",[n]),r(n,"$$ancestors_cache_version",null),T(n,j.Module.prototype),n},j.module=function(e,r){var n;return null==e||"::"==e?e=O:e.$$is_class||e.$$is_module||(e=e.$$class),(n=f(e,r))?(j.trace_class&&t(n),n):(u(e,r,n=j.allocate_module(r)),j.trace_class&&t(n),n)},j.get_singleton_class=function(e){return e.$$meta?e.$$meta:e.hasOwnProperty("$$is_class")?j.build_class_singleton_class(e):e.hasOwnProperty("$$is_module")?j.build_module_singleton_class(e):j.build_object_singleton_class(e)},j.build_class_singleton_class=function(e){var t,n;return e.$$meta?e.$$meta:(t=e===I?N:j.get_singleton_class(e.$$super),r(n=j.allocate_class(null,t,!0),"$$is_singleton",!0),r(n,"$$singleton_of",e),r(e,"$$meta",n),T(e,n.$$prototype),r(e,"$$class",j.Class),n)},j.build_module_singleton_class=function(e){if(e.$$meta)return e.$$meta;var t=j.allocate_class(null,j.Module,!0);return r(t,"$$is_singleton",!0),r(t,"$$singleton_of",e),r(e,"$$meta",t),T(e,t.$$prototype),r(e,"$$class",j.Module),t},j.build_object_singleton_class=function(e){var t=e.$$class,n=j.allocate_class(A,t,!0);return r(n,"$$is_singleton",!0),r(n,"$$singleton_of",e),delete n.$$prototype.$$class,r(e,"$$meta",n),T(e,e.$$meta.$$prototype),n},j.is_method=function(e){return"$"===e[0]&&"$"!==e[1]},j.instance_methods=function(e){for(var r=[],t=[],n=j.ancestors(e),i=0,a=n.length;i<a;i++){var o=n[i].$$prototype;o.hasOwnProperty("$$dummy")&&(o=o.$$define_methods_on);for(var $=Object.getOwnPropertyNames(o),s=0,u=$.length;s<u;s++){var l=$[s];if(j.is_method(l)){var c=l.slice(1),f=o[l];f.$$stub&&-1===r.indexOf(c)&&r.push(c),f.$$stub||-1!==t.indexOf(c)||-1!==r.indexOf(c)||t.push(c)}}}return t},j.own_instance_methods=function(e){var r=[],t=e.$$prototype;t.hasOwnProperty("$$dummy")&&(t=t.$$define_methods_on);for(var n=Object.getOwnPropertyNames(t),i=0,a=n.length;i<a;i++){var o=n[i];if(j.is_method(o))if(!t[o].$$stub){var $=o.slice(1);r.push($)}}return r},j.methods=function(e){return j.instance_methods(e.$$meta||e.$$class)},j.own_methods=function(e){return e.$$meta?j.own_instance_methods(e.$$meta):[]},j.receiver_methods=function(e){var r=j.get_singleton_class(e),t=j.own_instance_methods(r),n=j.own_instance_methods(r.$$super);return t.concat(n)},j.class_variables=function(e){var r,t=j.ancestors(e),n={};for(r=t.length-1;r>=0;r--){var i=t[r];for(var a in i.$$cvars)n[a]=i.$$cvars[a]}return n},j.class_variable_set=function(e,r,t){var n,i=j.ancestors(e);for(n=i.length-2;n>=0;n--){var a=i[n];if(M.call(a.$$cvars,r))return a.$$cvars[r]=t,t}return e.$$cvars[r]=t,t},j.class_variable_get=function(e,r,t){if(M.call(e.$$cvars,r))return e.$$cvars[r];var n,i=j.ancestors(e),a=i.length;for(n=0;n<a;n++){var o=i[n];if(M.call(o.$$cvars,r))return o.$$cvars[r]}if(!t)throw j.NameError.$new("uninitialized class variable "+r+" in "+e.$name());return A},j.append_features=function(e,t){var n=j.ancestors(e),i=[];if(-1!==n.indexOf(t))throw j.ArgumentError.$new("cyclic include detected");for(var a=0,o=n.length;a<o;a++){var $=g(n[a]);r($,"$$included",!0),i.push($)}var s,u,l=j.ancestors(t),c=v(i);if(-1===l.indexOf(e))s=t.$$prototype,u=Object.getPrototypeOf(t.$$prototype);else{for(var f=t.$$prototype,_=Object.getPrototypeOf(f);null!=_&&(_.$$module!==e||!d(_));)f=_,_=Object.getPrototypeOf(_);if(_){for(var p=Object.getPrototypeOf(_);p.hasOwnProperty("$$iclass")&&!d(p);)p=Object.getPrototypeOf(p);s=f,u=p}else s=t.$$prototype,u=Object.getPrototypeOf(t.$$prototype)}T(s,c.first),T(c.last,u),t.$$own_included_modules=h(t),j.const_cache_version++},j.prepend_features=function(e,t){var n=j.ancestors(e),i=[];if(-1!==n.indexOf(t))throw j.ArgumentError.$new("cyclic prepend detected");for(var a=0,o=n.length;a<o;a++){var $=g(n[a]);r($,"$$prepended",!0),i.push($)}var s,u,l,c=v(i),f=t.$$prototype,d=Object.getPrototypeOf(f);if(f.hasOwnProperty("$$dummy")?s=f.$$define_methods_on:(s=m(t),p(t),r(f,"$$dummy",!0),r(f,"$$define_methods_on",s),T(f,s),T(s,d)),-1!==j.ancestors(t).indexOf(e))throw j.RuntimeError.$new("Prepending a module multiple times is not supported");for(u=f,l=Object.getPrototypeOf(f);null!=l&&!l.hasOwnProperty("$$root")&&l!==s&&l.hasOwnProperty("$$iclass");)l=Object.getPrototypeOf(l);T(u,c.first),T(c.last,l),t.$$own_prepended_modules=_(t),j.const_cache_version++},j.bridge=function(e,t){if(e.hasOwnProperty("$$bridge"))throw j.ArgumentError.$new("already bridged");r(e,"$$bridge",t),T(e.prototype,(t.$$super||j.Object).$$prototype),r(t,"$$prototype",e.prototype),r(t.$$prototype,"$$class",t),r(t,"$$constructor",e),r(t,"$$bridge",!0)},j.ancestors=function(e){if(!e)return[];if(e.$$ancestors_cache_version===j.const_cache_version)return e.$$ancestors;var r,t,n,i=[];for(r=0,n=(t=b(e)).length;r<n;r++)i.push(t[r]);if(e.$$super)for(r=0,n=(t=j.ancestors(e.$$super)).length;r<n;r++)i.push(t[r]);return e.$$ancestors_cache_version=j.const_cache_version,e.$$ancestors=i,i},j.included_modules=function(e){for(var r=[],t=null,n=Object.getPrototypeOf(e.$$prototype);n&&Object.getPrototypeOf(n);n=Object.getPrototypeOf(n))(t=y(n))&&t.$$is_module&&n.$$iclass&&n.$$included&&r.push(t);return r},j.add_stubs=function(e){for(var r,t,n=j.BasicObject.$$prototype,i=0,a=(e=e.split(",")).length;i<a;i++)(null==(t=n[r="$"+e[i]])||t.$$stub)&&j.add_stub_for(n,r)},j.add_stub_for=function(e,t){r(e,t,j.stub_for(t))},j.stub_for=function(e){function r(){this.$method_missing.$$p=r.$$p,delete r.$$p;for(var t=new Array(arguments.length),n=0,i=t.length;n<i;n++)t[n]=arguments[n];return this.$method_missing.apply(this,[e.slice(1)].concat(t))}return r.$$stub=!0,r},j.ac=function(e,r,t,n){var i="";throw t.$$is_a_module?i+=t.$$name+".":i+=t.$$class.$$name+"#",i+=n,j.ArgumentError.$new("["+i+"] wrong number of arguments (given "+e+", expected "+r+")")},j.block_ac=function(e,r,t){var n="`block in "+t+"'";throw j.ArgumentError.$new(n+": wrong number of arguments (given "+e+", expected "+r+")")},j.find_super=function(e,r,t,n,i){for(var a,o,$="$"+r,s=(a=e.hasOwnProperty("$$meta")?j.ancestors(e.$$meta):j.ancestors(e.$$class)).indexOf(t.$$owner)+1;s<a.length;s++){var u=a[s].$$prototype;if(u.hasOwnProperty("$$dummy")&&(u=u.$$define_methods_on),u.hasOwnProperty($)){o=u[$];break}}if(!n&&o&&o.$$stub&&e.$method_missing.$$pristine)throw j.NoMethodError.$new("super: no superclass method `"+r+"' for "+e,r);return o.$$stub&&!i?null:o},j.find_block_super=function(e,r,t,n,i){var a=r;if(!t)throw j.RuntimeError.$new("super called outside of method");if(i&&t.$$define_meth)throw j.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");return t.$$def&&(a=t.$$jsid),j.find_super(e,a,t,n)},j.find_super_dispatcher=j.find_super,j.find_iter_super_dispatcher=j.find_block_super,j.ret=function(e){throw j.returner.$v=e,j.returner},j.brk=function(e,r){throw r.$v=e,r},j.new_brk=function(){return new Error("unexpected break")},j.yield1=function(e,r){if("function"!=typeof e)throw j.LocalJumpError.$new("no block given");var t=e.$$has_top_level_mlhs_arg,n=e.$$has_trailing_comma_in_args;return(e.length>1||(t||n)&&1===e.length)&&(r=j.to_ary(r)),(e.length>1||n&&1===e.length)&&r.$$is_array?e.apply(null,r):e(r)},j.yieldX=function(e,r){if("function"!=typeof e)throw j.LocalJumpError.$new("no block given");if(e.length>1&&1===r.length&&r[0].$$is_array)return e.apply(null,r[0]);if(!r.$$is_array){for(var t=new Array(r.length),n=0,i=t.length;n<i;n++)t[n]=r[n];return e.apply(null,t)}return e.apply(null,r)},j.rescue=function(e,r){for(var t=0;t<r.length;t++){var n=r[t];if(n.$$is_array){var i=j.rescue(e,n);if(i)return i}else{if(n===j.JS.Error)return n;if(n["$==="](e))return n}}return null},j.is_a=function(e,r){if(null!=r&&e.$$meta===r||e.$$class===r)return!0;if(e.$$is_number&&r.$$is_number_class)return!r.$$is_integer_class||e%1==0;var t,n,i=j.ancestors(e.$$is_class?j.get_singleton_class(e):e.$$meta||e.$$class);for(t=0,n=i.length;t<n;t++)if(i[t]===r)return!0;return!1},j.to_hash=function(e){if(e.$$is_hash)return e;if(e["$respond_to?"]("to_hash",!0)){var r=e.$to_hash();if(r.$$is_hash)return r;throw j.TypeError.$new("Can't convert "+e.$$class+" to Hash ("+e.$$class+"#to_hash gives "+r.$$class+")")}throw j.TypeError.$new("no implicit conversion of "+e.$$class+" into Hash")},j.to_ary=function(e){if(e.$$is_array)return e;if(e["$respond_to?"]("to_ary",!0)){var r=e.$to_ary();if(r===A)return[e];if(r.$$is_array)return r;throw j.TypeError.$new("Can't convert "+e.$$class+" to Array ("+e.$$class+"#to_ary gives "+r.$$class+")")}return[e]},j.to_a=function(e){if(e.$$is_array)return e.slice();if(e["$respond_to?"]("to_a",!0)){var r=e.$to_a();if(r===A)return[e];if(r.$$is_array)return r;throw j.TypeError.$new("Can't convert "+e.$$class+" to Array ("+e.$$class+"#to_a gives "+r.$$class+")")}return[e]},j.extract_kwargs=function(e){var r=e[e.length-1];return null!=r&&j.respond_to(r,"$to_hash",!0)?(F.call(e,e.length-1),r.$to_hash()):j.hash2([],{})},j.kwrestargs=function(e,r){var t,n=[],i={},a=e.$$smap;for(t in a)r[t]||(n.push(t),i[t]=a[t]);return j.hash2(n,i)},j.send=function(e,r,t,n,i){var a;if(w(n,i),"function"==typeof r)a=r,r=null;else{if("string"!=typeof r)throw j.NameError.$new("Passed method should be a string or a function");a=e["$"+r]}return j.send2(e,a,r,t,n)},j.send2=function(e,r,t,n,i,a){return null==r&&null!=t&&e.$method_missing&&(r=e.$method_missing,n=[t].concat(n)),w(i,a),"function"==typeof i&&(r.$$p=i),r.apply(e,n)},j.refined_send=function(e,r,t,n,i,a){var o,$,s,u,l,c,f,d,h,_;for(u=r.hasOwnProperty("$$meta")?j.ancestors(r.$$meta):j.ancestors(r.$$class),w(i,a),o=0;o<u.length;o++)for(l=j.id(u[o]),$=0;$<e.length;$++)for(s=(c=e[$]).length-1;s>=0;s--)if("undefined"!=typeof(f=c[s]).$$refine_modules&&"undefined"!=typeof(d=f.$$refine_modules)[l]&&"undefined"!=typeof(h=d[l]).$$prototype["$"+t])return _=h.$$prototype["$"+t],j.send2(r,_,t,n,i);return j.send(r,t,n,i)},j.lambda=function(e,r){return e.$$is_lambda=!0,w(e,r),e},j.def=function(e,r,t,n){return w(t,n),e===j.top?j.defn(j.Object,r,t):!e.$$eval&&e.$$is_a_module?j.defn(e,r,t):j.defs(e,r,t)},j.defn=function(e,t,n){n.displayName=t,n.$$owner=e;var i=t.substr(1),a=e.$$prototype;if(a.hasOwnProperty("$$dummy")&&(a=a.$$define_methods_on),r(a,t,n),e.$$is_module){e.$$module_function&&j.defs(e,t,n);for(var o=0,$=e.$$iclasses,s=$.length;o<s;o++){r($[o],t,n)}}var u=e.$$singleton_of;return!e.$method_added||e.$method_added.$$stub||u?u&&u.$singleton_method_added&&!u.$singleton_method_added.$$stub&&u.$singleton_method_added(i):e.$method_added(i),i},j.defs=function(e,r,t,n){if(w(t,n),e.$$is_string||e.$$is_number)throw j.TypeError.$new("can't define singleton");return j.defn(j.get_singleton_class(e),r,t)},j.rdef=function(e,r){if(!M.call(e.$$prototype,r))throw j.NameError.$new("method '"+r.substr(1)+"' not defined in "+e.$name());delete e.$$prototype[r],e.$$is_singleton?e.$$prototype.$singleton_method_removed&&!e.$$prototype.$singleton_method_removed.$$stub&&e.$$prototype.$singleton_method_removed(r.substr(1)):e.$method_removed&&!e.$method_removed.$$stub&&e.$method_removed(r.substr(1))},j.udef=function(e,r){if(!e.$$prototype[r]||e.$$prototype[r].$$stub)throw j.NameError.$new("method '"+r.substr(1)+"' not defined in "+e.$name());j.add_stub_for(e.$$prototype,r),e.$$is_singleton?e.$$prototype.$singleton_method_undefined&&!e.$$prototype.$singleton_method_undefined.$$stub&&e.$$prototype.$singleton_method_undefined(r.substr(1)):e.$method_undefined&&!e.$method_undefined.$$stub&&e.$method_undefined(r.substr(1))},j.alias=function(e,r,t){var n,i,a="$"+r,o="$"+t;if("undefined"==typeof e.$$prototype&&(e=j.Object),n=e.$$prototype["$"+t],e.$$eval)return j.alias(j.get_singleton_class(e),r,t);if(!E(n)){for(var $=e.$$super;"function"!=typeof n&&$;)n=$[o],$=$.$$super;if(!E(n)&&e.$$is_module&&(n=j.Object.$$prototype[o]),!E(n))throw j.NameError.$new("undefined method `"+t+"' for class `"+e.$name()+"'")}n.$$alias_of&&(n=n.$$alias_of),i=function(){var e,r,t,a=i.$$p;for(e=new Array(arguments.length),r=0,t=arguments.length;r<t;r++)e[r]=arguments[r];return delete i.$$p,j.send(this,n,e,a)};try{Object.defineProperty(i,"length",{value:n.length})}catch(s){}return i.displayName=r,i.$$arity=n.$$arity,i.$$parameters=n.$$parameters,i.$$source_location=n.$$source_location,i.$$alias_of=n,i.$$alias_name=r,j.defn(e,a,i),e},j.alias_gvar=function(e,r){return Object.defineProperty(j.gvars,e,{configurable:!0,enumerable:!0,get:function(){return j.gvars[r]},set:function(e){j.gvars[r]=e}}),A},j.alias_native=function(e,r,t){var n="$"+r,i=e.$$prototype[t];if("function"!=typeof i||i.$$stub)throw j.NameError.$new("undefined native method `"+t+"' for class `"+e.$name()+"'");return j.defn(e,n,i),e},j.hash_init=function(e){e.$$smap=Object.create(null),e.$$map=Object.create(null),e.$$keys=[]},j.hash_clone=function(e,r){r.$$none=e.$$none,r.$$proc=e.$$proc;for(var t,n,i=0,a=e.$$keys,o=e.$$smap,$=a.length;i<$;i++)(t=a[i]).$$is_string?n=o[t]:(n=t.value,t=t.key),j.hash_put(r,t,n)},j.hash_put=function(e,r,t){if(r.$$is_string)return M.call(e.$$smap,r)||e.$$keys.push(r),void(e.$$smap[r]=t);var n,i,a;if(n=e.$$by_identity?j.id(r):r.$hash(),!M.call(e.$$map,n))return i={key:r,key_hash:n,value:t},e.$$keys.push(i),void(e.$$map[n]=i);for(i=e.$$map[n];i;){if(r===i.key||r["$eql?"](i.key)){a=undefined,i.value=t;break}a=i,i=i.next}a&&(i={key:r,key_hash:n,value:t},e.$$keys.push(i),a.next=i)},j.hash_get=function(e,r){if(r.$$is_string)return M.call(e.$$smap,r)?e.$$smap[r]:void 0;var t,n;if(t=e.$$by_identity?j.id(r):r.$hash(),M.call(e.$$map,t))for(n=e.$$map[t];n;){if(r===n.key||r["$eql?"](n.key))return n.value;n=n.next}},j.hash_delete=function(e,r){var t,n,i,a=e.$$keys,o=a.length;if(r.$$is_string){if("string"!=typeof r&&(r=r.valueOf()),!M.call(e.$$smap,r))return;for(t=0;t<o;t++)if((i=a[t]).$$is_string&&"string"!=typeof i&&(i=i.valueOf()),i===r){a.splice(t,1);break}return n=e.$$smap[r],delete e.$$smap[r],n}var $=r.$hash();if(M.call(e.$$map,$))for(var s,u=e.$$map[$];u;){if(r===u.key||r["$eql?"](u.key)){for(n=u.value,t=0;t<o;t++)if(a[t]===u){a.splice(t,1);break}return s&&u.next?s.next=u.next:s?delete s.next:u.next?e.$$map[$]=u.next:delete e.$$map[$],n}s=u,u=u.next}},j.hash_rehash=function(e){for(var r,t,n,i=0,a=e.$$keys.length;i<a;i++)if(!e.$$keys[i].$$is_string&&(r=e.$$keys[i].key.$hash())!==e.$$keys[i].key_hash){for(t=e.$$map[e.$$keys[i].key_hash],n=undefined;t;){if(t===e.$$keys[i]){n&&t.next?n.next=t.next:n?delete n.next:t.next?e.$$map[e.$$keys[i].key_hash]=t.next:delete e.$$map[e.$$keys[i].key_hash];break}n=t,t=t.next}if(e.$$keys[i].key_hash=r,M.call(e.$$map,r)){for(t=e.$$map[r],n=undefined;t;){if(t===e.$$keys[i]){n=undefined;break}n=t,t=t.next}n&&(n.next=e.$$keys[i])}else e.$$map[r]=e.$$keys[i]}},j.hash=function(){var e,r,t,n,i,a,o=arguments.length;if(1===o&&arguments[0].$$is_hash)return arguments[0];if(r=new j.Hash,j.hash_init(r),1===o&&arguments[0].$$is_array){for(n=(e=arguments[0]).length,t=0;t<n;t++){if(2!==e[t].length)throw j.ArgumentError.$new("value not of length 2: "+e[t].$inspect());i=e[t][0],a=e[t][1],j.hash_put(r,i,a)}return r}if(1===o){for(i in e=arguments[0])M.call(e,i)&&(a=e[i],j.hash_put(r,i,a));return r}if(o%2!=0)throw j.ArgumentError.$new("odd number of arguments for Hash");for(t=0;t<o;t+=2)i=arguments[t],a=arguments[t+1],j.hash_put(r,i,a);return r},j.hash2=function(e,r){var t=new j.Hash;return t.$$smap=r,t.$$map=Object.create(null),t.$$keys=e,t},j.range=function(e,r,t){var n=new j.Range;return n.begin=e,n.end=r,n.excl=t,n},j.ivar=function(e){return"constructor"===e||"displayName"===e||"__count__"===e||"__noSuchMethod__"===e||"__parent__"===e||"__proto__"===e||"hasOwnProperty"===e||"valueOf"===e?e+"$":e},j.escape_regexp=function(e){return e.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},j.global_regexp=function(e){return e.global?e:(null==e.$$g?e.$$g=new RegExp(e.source,(e.multiline?"gm":"g")+(e.ignoreCase?"i":"")):e.$$g.lastIndex=null,e.$$g)},j.global_multiline_regexp=function(e){var r;if(e.multiline){if(e.global)return e;r=null!=e.$$g?e.$$g:e.$$g=new RegExp(e.source,"gm"+(e.ignoreCase?"i":""))}else r=null!=e.$$gm?e.$$gm:e.$$gm=new RegExp(e.source,"gm"+(e.ignoreCase?"i":""));return r.lastIndex=null,r},j.regexp=function(e,r){for(var t,n=void 0!==r&&r&&r.indexOf("i")>=0,i=0,a=e.length;i<a;i++)(t=e[i])instanceof RegExp&&(t.ignoreCase!==n&&j.Kernel.$warn("ignore case doesn't match for "+t.source.$inspect(),j.hash({uplevel:1})),t=t.source),""===t&&(t="(?:"+t+")"),e[i]=t;return r?new RegExp(e.join(""),r):new RegExp(e.join(""))},j.modules={},j.loaded_features=["corelib/runtime"],j.current_dir=".",j.require_table={"corelib/runtime":!0},j.normalize=function(e){var r,t,n=[],i="/";"."!==j.current_dir&&(e=j.current_dir.replace(/\/*$/,"/")+e);for(var a=0,o=(r=(e=(e=e.replace(/^\.\//,"")).replace(/\.(rb|opal|js)$/,"")).split(i)).length;a<o;a++)""!==(t=r[a])&&(".."===t?n.pop():n.push(t));return n.join(i)},j.loaded=function(e){var r,t,n;for(r=0,t=e.length;r<t;r++)n=j.normalize(e[r]),j.require_table[n]||(j.loaded_features.push(n),j.require_table[n]=!0)},j.load=function(e){e=j.normalize(e),j.loaded([e]);var r=j.modules[e];if(r){var t=r(j);if("undefined"!=typeof Promise&&t instanceof Promise)return t.then(function(){return!0})}else{var n=j.config.missing_require_severity,i="cannot load such file -- "+e;if("error"===n)throw j.LoadError?j.LoadError.$new(i):i;"warning"===n&&k.warn("WARNING: LoadError: "+i)}return!0},j.require=function(e){return e=j.normalize(e),!j.require_table[e]&&j.load(e)},j.encodings=Object.create(null),j.set_encoding=function(e,r,t){if(void 0===t&&(t="encoding"),"string"==typeof e||!0===e.$$frozen)throw j.FrozenError.$new("can't modify frozen String");var n=j.find_encoding(r);return n===e[t]?e:(e[t]=n,e)},j.find_encoding=function(e){var r=j.encodings,t=r[e]||r[e.toUpperCase()];if(!t)throw j.ArgumentError.$new("unknown encoding name - "+e);return t},j.enc=function(e,r){var t=new String(e);return(t=j.set_encoding(t,r)).internal_encoding=t.encoding,t},j.binary=function(e){var r=new String(e);return j.set_encoding(r,"binary","internal_encoding")},j.last_promise=null,j.promise_unhandled_exception=!1,j.queue=function(e){if(j.last_promise)return j.last_promise=j.last_promise.then(function(){if(!j.promise_unhandled_exception)return e(j)})["catch"](function(e){j.respond_to(e,"$full_message")&&(e=e.$full_message()),k.error(e),j.promise_unhandled_exception=!0,j.exit(1)}),j.last_promise;var r=e(j);return"function"==typeof Promise&&"object"==typeof r&&r instanceof Promise&&(j.last_promise=r),r},j.rb_plus=function(e,r){return"number"==typeof e&&"number"==typeof r?e+r:e["$+"](r)},j.rb_minus=function(e,r){return"number"==typeof e&&"number"==typeof r?e-r:e["$-"](r)},j.rb_times=function(e,r){return"number"==typeof e&&"number"==typeof r?e*r:e["$*"](r)},j.rb_divide=function(e,r){return"number"==typeof e&&"number"==typeof r?e/r:e["$/"](r)},j.rb_lt=function(e,r){return"number"==typeof e&&"number"==typeof r?e<r:e["$<"](r)},j.rb_gt=function(e,r){return"number"==typeof e&&"number"==typeof r?e>r:e["$>"](r)},j.rb_le=function(e,r){return"number"==typeof e&&"number"==typeof r?e<=r:e["$<="](r)},j.rb_ge=function(e,r){return"number"==typeof e&&"number"==typeof r?e>=r:e["$>="](r)},j.eqeq=function(e,r){return"number"==typeof e&&"number"==typeof r||"string"==typeof e&&"string"==typeof r?e===r:L(e["$=="](r))},j.eqeqeq=function(e,r){return"number"==typeof e&&"number"==typeof r||"string"==typeof e&&"string"==typeof r?e===r:L(e["$==="](r))},j.neqeq=function(e,r){return"number"==typeof e&&"number"==typeof r||"string"==typeof e&&"string"==typeof r?e!==r:L(e["$!="](r))},j.not=function(e){return!0!==e&&(undefined===e||null===e||!1===e||A===e||L(e["$!"]()))},j.BasicObject=I=j.allocate_class("BasicObject",null),j.Object=O=j.allocate_class("Object",j.BasicObject),j.Module=S=j.allocate_class("Module",j.Object),j.Class=N=j.allocate_class("Class",j.Module),j.Opal=z=j.allocate_module("Opal"),j.Kernel=q=j.allocate_module("Kernel"),T(j.BasicObject,j.Class.$$prototype),T(j.Object,j.Class.$$prototype),T(j.Module,j.Class.$$prototype),T(j.Class,j.Class.$$prototype),I.$$const.BasicObject=I,u(O,"BasicObject",I),u(O,"Object",O),u(O,"Module",S),u(O,"Class",N),u(O,"Opal",z),u(O,"Kernel",q),I.$$class=N,O.$$class=N,S.$$class=N,N.$$class=N,z.$$class=S,q.$$class=S,r(O.$$prototype,"toString",function(){var e=this.$to_s();return e.$$is_string&&"object"==typeof e?e.valueOf():e}),r(O.$$prototype,"$require",j.require),j.top=new O,j.top.$to_s=j.top.$inspect=function(){return"main"},j.top.$define_method=x,j.NilClass=j.allocate_class("NilClass",j.Object),u(O,"NilClass",j.NilClass),(A=j.nil=new j.NilClass).$$id=P,A.call=A.apply=function(){throw j.LocalJumpError.$new("no block given")},j.breaker=new Error("unexpected break (old)"),j.returner=new Error("unexpected return"),TypeError.$$super=Error}).call(this),Opal.loaded(["corelib/runtime.js"]),Opal.modules["corelib/helpers"]=function(e){var r=e.nil,t=e.$$$,n=e.type_error,i=e.coerce_to,a=e.module,o=e.defs,$=e.eqeqeq,s=e.Kernel,u=e.truthy,l=e.Opal;return e.add_stubs("===,raise,respond_to?,nil?,__send__,<=>,class,coerce_to!,new,to_s,__id__"),function(){var c=a("::","Opal");o(c,"$bridge",function(r,t){return e.bridge(r,t)},2),o(c,"$coerce_to!",function(t,a,o){var u,l=r;return u=e.slice.call(arguments,3),l=i(t,a,o,u),$(a,l)||s.$raise(n(t,a,o,l)),l},-4),o(c,"$coerce_to?",function(t,a,o){var l,c=r;return l=e.slice.call(arguments,3),u(t["$respond_to?"](o))?(c=i(t,a,o,l),u(c["$nil?"]())?r:($(a,c)||s.$raise(n(t,a,o,c)),c)):r},-4),o(c,"$try_convert",function(e,t,n){return $(t,e)?e:u(e["$respond_to?"](n))?e.$__send__(n):r},3),o(c,"$compare",function(e,n){var i=r;return i=e["$<=>"](n),u(i===r)&&s.$raise(t("ArgumentError"),"comparison of "+e.$class()+" with "+n.$class()+" failed"),i},2),o(c,"$destructure",function(e){if(1==e.length)return e[0];if(e.$$is_array)return e;for(var r=new Array(e.length),t=0,n=r.length;t<n;t++)r[t]=e[t];return r},1),o(c,"$respond_to?",function(e,r,t){return null==t&&(t=!1),!(null==e||!e.$$class)&&e["$respond_to?"](r,t)},-3),o(c,"$instance_variable_name!",function(e){return e=l["$coerce_to!"](e,t("String"),"to_str"),u(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(e))||s.$raise(t("NameError").$new("'"+e+"' is not allowed as an instance variable name",e)),e},1),o(c,"$class_variable_name!",function(e){return e=l["$coerce_to!"](e,t("String"),"to_str"),u(e.length<3||"@@"!==e.slice(0,2))&&s.$raise(t("NameError").$new("`"+e+"' is not allowed as a class variable name",e)),e},1),o(c,"$const_name?",function(e){return"string"!=typeof e&&(e=l["$coerce_to!"](e,t("String"),"to_str")),e[0]===e[0].toUpperCase()},1),o(c,"$const_name!",function(e){var n=this;return u(t("::","String","skip_raise")?"constant":r)&&(e=l["$coerce_to!"](e,t("String"),"to_str")),e&&e[0]==e[0].toUpperCase()||n.$raise(t("NameError"),"wrong constant name "+e),e},1),o(c,"$pristine",function(t){for(var n,i,a,o=(n=e.slice.call(arguments,1)).length-1;o>=0;o--)i=n[o],(a=t.$$prototype["$"+i])&&!a.$$stub&&(a.$$pristine=!0);return r},-2);var f=[];return o(c,"$inspect",function(r){var n=!1;return function(){try{try{return null===r?"null":r===undefined?"undefined":"undefined"==typeof r.$$class?Object.prototype.toString.apply(r):"function"!=typeof r.$inspect||r.$inspect.$$stub?"#<"+r.$$class+":0x"+r.$__id__().$to_s(16)+">":-1!==f.indexOf(r.$__id__())?"#<"+r.$$class+":0x"+r.$__id__().$to_s(16)+">":(f.push(r.$__id__()),n=!0,r.$inspect())}catch(i){if(!e.rescue(i,[t("Exception")]))throw i;i;try{return"#<"+r.$$class+":0x"+r.$__id__().$to_s(16)+">"}finally{e.pop_exception()}}}finally{n&&f.pop()}}()},-1)}()},Opal.modules["corelib/module"]=function(e){var r,t,n=[],i=e.nil,a=e.$$$,o=e.truthy,$=e.coerce_to,s=e.const_set,u=e.Object,l=e.klass,c=e.defs,f=e.send,d=e.def,h=e.eqeqeq,_=e.Module,p=e.Kernel,g=e.rb_lt,m=e.rb_gt,v=e.to_a,y=e.hash2,b=e.Opal,w=e.eqeq,E=e.lambda,x=e.range,k=e.send2,A=e.find_super,I=e.alias
;return e.add_stubs("module_eval,to_proc,===,raise,equal?,<,>,nil?,attr_reader,attr_writer,warn,attr_accessor,const_name?,class_variable_name!,const_name!,=~,new,inject,split,const_get,==,start_with?,!~,bind,call,class,append_features,included,name,cover?,size,merge,compile,proc,any?,prepend_features,prepended,to_s,__id__,constants,include?,copy_class_variables,copy_constants,class_exec,inspect"),function(r,$super,t){var n=l("::",null,"Module"),O=[n].concat(t),S=e.$r(O);c(n,"$allocate",function(){var r=this,t=e.allocate_module(i,function(){});return r!==e.Module&&Object.setPrototypeOf(t,r.$$prototype),t},0),d(n,"$initialize",function N(){var e=N.$$p||i,r=this;return delete N.$$p,e!==i?f(r,"module_eval",[],e.$to_proc()):i},0),d(n,"$===",function(r){var t=this;return!o(null==r)&&e.is_a(r,t)},1),d(n,"$<",function(r){var t,n,o,$=this;if(h(_,r)||p.$raise(a("TypeError"),"compared with non class/module"),$===r)return!1;for(n=0,o=(t=e.ancestors($)).length;n<o;n++)if(t[n]===r)return!0;for(n=0,o=(t=e.ancestors(r)).length;n<o;n++)if(t[n]===$)return!1;return i},1),d(n,"$<=",function(e){var r=this,t=i;return o(t=r["$equal?"](e))?t:g(r,e)},1),d(n,"$>",function(e){var r=this;return h(_,e)||p.$raise(a("TypeError"),"compared with non class/module"),g(e,r)},1),d(n,"$>=",function(e){var r=this,t=i;return o(t=r["$equal?"](e))?t:m(r,e)},1),d(n,"$<=>",function(e){var r=this,t=i;return r===e?0:h(_,e)?(t=g(r,e),o(t["$nil?"]())?i:o(t)?-1:1):i},1),d(n,"$alias_method",function(r,t){var n=this;return r=$(r,a("String"),"to_str"),t=$(t,a("String"),"to_str"),e.alias(n,r,t),n},2),d(n,"$alias_native",function(r,t){var n=this;return null==t&&(t=r),e.alias_native(n,r,t),n},-2),d(n,"$ancestors",function(){var r=this;return e.ancestors(r)},0),d(n,"$append_features",function(r){var t=this;return e.append_features(t,r),t},1),d(n,"$attr_accessor",function(){var r,t,n=this;return r=e.slice.call(arguments),f(n,"attr_reader",v(t=r)),f(n,"attr_writer",v(t))},-1),d(n,"$attr",function(){var r,t=this;return 2!=(r=e.slice.call(arguments)).length||!0!==r[1]&&!1!==r[1]?f(t,"attr_reader",v(r)):(t.$warn("optional boolean argument is obsoleted",y(["uplevel"],{uplevel:1})),r[1]?t.$attr_accessor(r[0]):t.$attr_reader(r[0]),i)},-1),d(n,"$attr_reader",function(){var r,t=this;r=e.slice.call(arguments);for(var n=t.$$prototype,a=r.length-1;a>=0;a--){var o=r[a],$="$"+o,s=e.ivar(o),u=function(e){return function(){return null==this[e]?i:this[e]}}(s);e.prop(n,s,i),u.$$parameters=[],u.$$arity=0,e.defn(t,$,u)}return i},-1),d(n,"$attr_writer",function(){var r,t=this;r=e.slice.call(arguments);for(var n=t.$$prototype,a=r.length-1;a>=0;a--){var o=r[a],$="$"+o+"=",s=e.ivar(o),u=function(e){return function(r){return this[e]=r}}(s);u.$$parameters=[["req"]],u.$$arity=1,e.prop(n,s,i),e.defn(t,$,u)}return i},-1),d(n,"$autoload",function(r,t){var n=this;return S("Opal")["$const_name?"](r)||p.$raise(a("NameError"),"autoload must be constant name: "+r),""==t&&p.$raise(a("ArgumentError"),"empty file name"),n.$$const.hasOwnProperty(r)||(n.$$autoload||(n.$$autoload={}),e.const_cache_version++,n.$$autoload[r]={path:t,loaded:!1,required:!1,success:!1,exception:!1}),i},2),d(n,"$autoload?",function(e){var r=this;if(r.$$autoload&&r.$$autoload[e]&&!r.$$autoload[e].required&&!r.$$autoload[e].success)return r.$$autoload[e].path;for(var t=r.$ancestors(),n=0,a=t.length;n<a;n++)if(t[n].$$autoload&&t[n].$$autoload[e]&&!t[n].$$autoload[e].required&&!t[n].$$autoload[e].success)return t[n].$$autoload[e].path;return i},1),d(n,"$class_variables",function(){var r=this;return Object.keys(e.class_variables(r))},0),d(n,"$class_variable_get",function(r){var t=this;return r=b["$class_variable_name!"](r),e.class_variable_get(t,r,!1)},1),d(n,"$class_variable_set",function(r,t){var n=this;return r=b["$class_variable_name!"](r),e.class_variable_set(n,r,t)},2),d(n,"$class_variable_defined?",function(r){var t=this;return r=b["$class_variable_name!"](r),e.class_variables(t).hasOwnProperty(r)},1),d(n,"$remove_class_variable",function(r){var t=this;if(r=b["$class_variable_name!"](r),e.hasOwnProperty.call(t.$$cvars,r)){var n=t.$$cvars[r];return delete t.$$cvars[r],n}p.$raise(a("NameError"),"cannot remove "+r+" for "+t)},1),d(n,"$constants",function(r){var t=this;return null==r&&(r=!0),e.constants(t,r)},-1),c(n,"$constants",function(r){var t=this;if(null==r){var n,i,a,o=(t.$$nesting||[]).concat(u),$={};for(i=0,a=o.length;i<a;i++)for(n in o[i].$$const)$[n]=!0;return Object.keys($)}return e.constants(t,r)},-1),c(n,"$nesting",function(){return this.$$nesting||[]},0),d(n,"$const_defined?",function(r,t){var n=this;null==t&&(t=!0),r=S("Opal")["$const_name!"](r),o(r["$=~"](a(b,"CONST_NAME_REGEXP")))||p.$raise(a("NameError").$new("wrong constant name "+r,r));var i,$,s,l=[n];for(t&&(l=l.concat(e.ancestors(n)),n.$$is_module&&(l=l.concat([u]).concat(e.ancestors(u)))),$=0,s=l.length;$<s;$++){if(null!=(i=l[$]).$$const[r])return!0;if(i.$$autoload&&i.$$autoload[r]&&!i.$$autoload[r].required&&!i.$$autoload[r].success)return!0}return!1},-2),d(n,"$const_get",function(r,t){var n=this;return null==t&&(t=!0),0===(r=S("Opal")["$const_name!"](r)).indexOf("::")&&"::"!==r&&(r=r.slice(2)),o(-1!=r.indexOf("::")&&"::"!=r)?f(r.$split("::"),"inject",[n],function(e,r){return null==e&&(e=i),null==r&&(r=i),e.$const_get(r)},2):(o(r["$=~"](a(b,"CONST_NAME_REGEXP")))||p.$raise(a("NameError").$new("wrong constant name "+r,r)),t?e.$$([n],r):e.const_get_local(n,r))},-2),d(n,"$const_missing",function(e){var r=this,t=i;return t=w(r,u)?e:r+"::"+e,p.$raise(a("NameError").$new("uninitialized constant "+t,e))},1),d(n,"$const_set",function(e,r){var t=this;return e=b["$const_name!"](e),(o(e["$!~"](a(b,"CONST_NAME_REGEXP")))||o(e["$start_with?"]("::")))&&p.$raise(a("NameError").$new("wrong constant name "+e,e)),s(t,e,r),r},2),d(n,"$public_constant",function(){return i},1),d(n,"$define_method",function z(r,t){var n=z.$$p||i,$=this,s=i,u=i;delete z.$$p,t===undefined&&n===i&&p.$raise(a("ArgumentError"),"tried to create a Proc object without a block");var l="$"+r;return(n=o(s=n)?s:h(a("Proc"),u=t)?t:h(a("Method"),u)?t.$to_proc().$$unbound:h(a("UnboundMethod"),u)?E(function c(){var r,n=null==c.$$s?this:c.$$s,a=i;return r=e.slice.call(arguments),a=t.$bind(n),f(a,"call",v(r))},{$$arity:-1,$$s:$}):p.$raise(a("TypeError"),"wrong argument type "+n.$class()+" (expected Proc/Method)")).$$jsid=r,n.$$s=null,n.$$def=n,n.$$define_meth=!0,e.defn($,l,n)},-2),d(n,"$remove_method",function(){for(var r,t=this,n=0,i=(r=e.slice.call(arguments)).length;n<i;n++)e.rdef(t,"$"+r[n]);return t},-1),d(n,"$singleton_class?",function(){return!!this.$$is_singleton},0),d(n,"$include",function(){for(var r,t=this,n=(r=e.slice.call(arguments)).length-1;n>=0;n--){var i=r[n];i.$$is_module||p.$raise(a("TypeError"),"wrong argument type "+i.$class()+" (expected Module)"),i.$append_features(t),i.$included(t)}return t},-1),d(n,"$included_modules",function(){var r=this;return e.included_modules(r)},0),d(n,"$include?",function(r){var t=this;r.$$is_module||p.$raise(a("TypeError"),"wrong argument type "+r.$class()+" (expected Module)");var n,i,o,$=e.ancestors(t);for(n=0,i=$.length;n<i;n++)if((o=$[n])===r&&o!==t)return!0;return!1},1),d(n,"$instance_method",function(e){var r=this,t=r.$$prototype["$"+e];return t&&!t.$$stub||p.$raise(a("NameError").$new("undefined method `"+e+"' for class `"+r.$name()+"'",e)),a("UnboundMethod").$new(r,t.$$owner||r,t,e)},1),d(n,"$instance_methods",function(r){var t=this;return null==r&&(r=!0),o(r)?e.instance_methods(t):e.own_instance_methods(t)},-1),d(n,"$included",function(){return i},1),d(n,"$extended",function(){return i},1),d(n,"$extend_object",function(){return i},1),d(n,"$method_added",function(){return e.slice.call(arguments),i},-1),d(n,"$method_removed",function(){return e.slice.call(arguments),i},-1),d(n,"$method_undefined",function(){return e.slice.call(arguments),i},-1),d(n,"$module_eval",function q(){var r,t,n=q.$$p||i,$=this,s=i,u=i,l=i,c=i,d=i,h=i;delete q.$$p,r=e.slice.call(arguments),o(n["$nil?"]())&&o(!!e.compile)?(o(x(1,3,!1)["$cover?"](r.$size()))||p.$raise(a("ArgumentError"),"wrong number of arguments (0 for 1..3)"),s=null==(t=[].concat(v(r)))[0]?i:t[0],u=null==t[1]?i:t[1],null==t[2]?i:t[2],l=y(["file","eval"],{file:o(c=u)?c:"(eval)",eval:!0}),d=e.hash({arity_check:!1}).$merge(l),h=b.$compile(s,d),n=f(p,"proc",[],function m(){var r=null==m.$$s?this:m.$$s;return new Function("Opal,self","return "+h)(e,r)},{$$arity:0,$$s:$})):o(r["$any?"]())&&p.$raise(a("ArgumentError"),"wrong number of arguments ("+r.$size()+" for 0)\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");var _,g=n.$$s;return n.$$s=null,_=n.apply($,[$]),n.$$s=g,_},-1),d(n,"$module_exec",function j(){var r,t=j.$$p||i,n=this;delete j.$$p,r=e.slice.call(arguments),t===i&&p.$raise(a("LocalJumpError"),"no block given");var o,$=t.$$s;return t.$$s=null,o=t.apply(n,r),t.$$s=$,o},-1),d(n,"$method_defined?",function(e){var r=this.$$prototype["$"+e];return!!r&&!r.$$stub},1),d(n,"$module_function",function(){var r,t=this;if(0===(r=e.slice.call(arguments)).length)return t.$$module_function=!0,i;for(var n=0,a=r.length;n<a;n++){var o="$"+r[n],$=t.$$prototype[o];e.defs(t,o,$)}return 1===r.length?r[0]:r},-1),d(n,"$name",function(){var e=this;if(e.$$full_name)return e.$$full_name;for(var r=[],t=e;t;){if(t.$$name===i||null==t.$$name)return i;if(r.unshift(t.$$name),(t=t.$$base_module)===u)break}return 0===r.length?i:e.$$full_name=r.join("::")},0),d(n,"$prepend",function(){var r,t=this;0===(r=e.slice.call(arguments)).length&&p.$raise(a("ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var n=r.length-1;n>=0;n--){var i=r[n];i.$$is_module||p.$raise(a("TypeError"),"wrong argument type "+i.$class()+" (expected Module)"),i.$prepend_features(t),i.$prepended(t)}return t},-1),d(n,"$prepend_features",function(r){var t=this;return t.$$is_module||p.$raise(a("TypeError"),"wrong argument type "+t.$class()+" (expected Module)"),e.prepend_features(t,r),t},1),d(n,"$prepended",function(){return i},1),d(n,"$remove_const",function(r){var t=this;return e.const_remove(t,r)},1),d(n,"$to_s",function(){var r=this,t=i;return o(t=e.Module.$name.call(r))?t:"#<"+(r.$$is_module?"Module":"Class")+":0x"+r.$__id__().$to_s(16)+">"},0),d(n,"$undef_method",function(){for(var r,t=this,n=0,i=(r=e.slice.call(arguments)).length;n<i;n++)e.udef(t,"$"+r[n]);return t},-1),d(n,"$instance_variables",function(){var r=this,t=i;e.Module.$$nesting=O,t=r.$constants();var n=[];for(var a in r)r.hasOwnProperty(a)&&"$"!==a.charAt(0)&&"constructor"!==a&&!t["$include?"](a)&&n.push("@"+a);return n},0),d(n,"$dup",function M(){var e=M.$$p||i,r=this,t=i;return delete M.$$p,(t=k(r,A(r,"dup",M,!1,!0),"dup",[],e)).$copy_class_variables(r),t.$copy_constants(r),t},0),d(n,"$copy_class_variables",function(e){var r=this;for(var t in e.$$cvars)r.$$cvars[t]=e.$$cvars[t]},1),d(n,"$copy_constants",function(e){var r,t=this,n=e.$$const;for(r in n)s(t,r,n[r])},1),d(n,"$refine",function R(r){var t,n=R.$$p||i,o=this,$=i,s=i,u=i;return delete R.$$p,$=(t=[o,i,i])[0],s=t[1],u=t[2],u=e.id(r),"undefined"==typeof o.$$refine_modules&&(o.$$refine_modules={}),(s="undefined"==typeof o.$$refine_modules[u]?o.$$refine_modules[u]=a("Refinement").$new():o.$$refine_modules[u]).refinement_module=$,s.refined_class=r,f(s,"class_exec",[],n.$to_proc()),s},1),d(n,"$using",function(){return p.$raise("Module#using is not permitted in methods")},1),I(n,"class_eval","module_eval"),I(n,"class_exec","module_exec"),I(n,"inspect","to_s")}(0,0,n),r=l("::",_,"Refinement"),(t=r.$$prototype).refinement_module=t.refined_class=i,d(r,"$inspect",function O(){var e=O.$$p||i,r=this;return delete O.$$p,o(r.refinement_module)?"#<refinement:"+r.refined_class.$inspect()+"@"+r.refinement_module.$inspect()+">":k(r,A(r,"inspect",O,!1,!0),"inspect",[],e)},0)},Opal.modules["corelib/class"]=function(e){var r=e.top,t=[],n=e.nil,i=e.klass,a=e.send,o=e.defs,$=e.def,s=e.rb_plus,u=e.send2,l=e.find_super,c=e.alias;return e.add_stubs("require,class_eval,to_proc,+,subclasses,flatten,map,initialize_copy,allocate,name,to_s"),r.$require("corelib/module"),function(r,$super,t){var f=i("::",null,"Class"),d=[f].concat(t),h=e.$r(d);return o(f,"$new",function _(r){var t=_.$$p||n;if(delete _.$$p,null==r&&(r=h("Object")),!r.$$is_class)throw e.TypeError.$new("superclass must be a Class");var i=e.allocate_class(n,r);return r.$inherited(i),t!==n&&a(i,"class_eval",[],t.$to_proc()),i},-1),$(f,"$allocate",function(){var r=new this.$$constructor;return r.$$id=e.uid(),r},0),$(f,"$descendants",function(){var e=this;return s(e.$subclasses(),a(e.$subclasses(),"map",[],"descendants".$to_proc()).$flatten())},0),$(f,"$inherited",function(){return n},1),$(f,"$initialize_dup",function(e){var r=this;r.$initialize_copy(e),r.$$name=null,r.$$full_name=null},1),$(f,"$new",function p(){var r,t=p.$$p||n,i=this;delete p.$$p,r=e.slice.call(arguments);var a=i.$allocate();return e.send(a,a.$initialize,r,t),a},-1),$(f,"$subclasses",function(){var e=this;if("undefined"!=typeof WeakRef){var r,t,n=[];for(r=0;r<e.$$subclasses.length;r++)(t=e.$$subclasses[r].deref())!==undefined&&n.push(t);return n}return e.$$subclasses},0),$(f,"$superclass",function(){return this.$$super||n},0),$(f,"$to_s",function g(){g.$$p;var r=this;delete g.$$p;var t=r.$$singleton_of;return t&&t.$$is_a_module?"#<Class:"+t.$name()+">":t?"#<Class:#<"+t.$$class.$name()+":0x"+e.id(t).$to_s(16)+">>":u(r,l(r,"to_s",g,!1,!0),"to_s",[],null)},0),c(f,"inspect","to_s")}(0,0,t)},Opal.modules["corelib/basic_object"]=function(e){"use strict";var r,t=e.nil,n=e.$$$,i=e.klass,a=e.def,o=e.alias,$=e.truthy,s=e.range,u=e.Kernel,l=e.to_a,c=e.hash2,f=e.Opal,d=e.send,h=e.eqeq,_=e.rb_ge;return e.add_stubs("==,raise,inspect,!,nil?,cover?,size,merge,compile,proc,[],first,>=,length,instance_variable_get,any?,new,caller,pristine"),r=i("::",null,"BasicObject"),a(r,"$initialize",function(){return e.slice.call(arguments),t},-1),a(r,"$==",function(e){return this===e},1),a(r,"$eql?",function(e){return this["$=="](e)},1),o(r,"equal?","=="),a(r,"$__id__",function(){var r=this;return null!=r.$$id?r.$$id:(e.prop(r,"$$id",e.uid()),r.$$id)},0),a(r,"$__send__",function p(r){var i,a=p.$$p||t,o=this;delete p.$$p,i=e.slice.call(arguments,1),r.$$is_string||o.$raise(n("TypeError"),o.$inspect()+" is not a symbol nor a string");var $=o["$"+r];return $?(a!==t&&($.$$p=a),$.apply(o,i)):(a!==t&&(o.$method_missing.$$p=a),o.$method_missing.apply(o,[r].concat(i)))},-2),a(r,"$!",function(){return!1},0),a(r,"$!=",function(e){return this["$=="](e)["$!"]()},1),a(r,"$instance_eval",function g(){var r,i,a=g.$$p||t,o=this,p=t,m=t,v=t,y=t,b=t,w=t;if(delete g.$$p,r=e.slice.call(arguments),$(a["$nil?"]())&&$(!!e.compile))$(s(1,3,!1)["$cover?"](r.$size()))||u.$raise(n("ArgumentError"),"wrong number of arguments (0 for 1..3)"),p=null==(i=[].concat(l(r)))[0]?t:i[0],m=null==i[1]?t:i[1],null==i[2]||i[2],v=c(["file","eval"],{file:$(y=m)?y:"(eval)",eval:!0}),b=e.hash({arity_check:!1}).$merge(v),w=f.$compile(p,b),a=d(u,"proc",[],function k(){var r=null==k.$$s?this:k.$$s;return new Function("Opal,self","return "+w)(e,r)},{$$arity:0,$$s:o});else{if($(a["$nil?"]())&&$(_(r.$length(),1))&&h(r.$first()["$[]"](0),"@"))return o.$instance_variable_get(r.$first());$(r["$any?"]())&&u.$raise(n("ArgumentError"),"wrong number of arguments ("+r.$size()+" for 0)")}var E,x=a.$$s;if(a.$$s=null,o.$$is_a_module){o.$$eval=!0;try{E=a.call(o,o)}finally{o.$$eval=!1}}else E=a.call(o,o);return a.$$s=x,E},-1),a(r,"$instance_exec",function m(){var r,i=m.$$p||t,a=this;delete m.$$p,r=e.slice.call(arguments),$(i)||u.$raise(n("ArgumentError"),"no block given");var o,s=i.$$s;if(i.$$s=null,a.$$is_a_module){a.$$eval=!0;try{o=i.apply(a,r)}finally{a.$$eval=!1}}else o=i.apply(a,r);return i.$$s=s,o},-1),a(r,"$singleton_method_added",function(){return e.slice.call(arguments),t},-1),a(r,"$singleton_method_removed",function(){return e.slice.call(arguments),t},-1),a(r,"$singleton_method_undefined",function(){return e.slice.call(arguments),t},-1),a(r,"$method_missing",function v(r){v.$$p;var i,a=this,o=t;return delete v.$$p,i=e.slice.call(arguments,1),o=f.$inspect(a),u.$raise(n("NoMethodError").$new("undefined method `"+r+"' for "+o,r,i),t,u.$caller(1))},-2),f.$pristine(r,"method_missing"),a(r,"$respond_to_missing?",function(e,r){return null==r&&(r=!1),!1},-2)},Opal.modules["corelib/kernel"]=function(e){"use strict";var r,t=[],n=e.nil,i=e.$$$,a=e.truthy,o=e.coerce_to,$=e.respond_to,s=e.Opal,u=e.module,l=e.def,c=e.Kernel,f=e.gvars,d=e.hash2,h=e.send,_=e.to_a,p=e.rb_plus,g=e.eqeq,m=e.eqeqeq,v=e.rb_le,y=e.rb_lt,b=e.Object,w=e.alias,E=e.klass;return e.add_stubs("!,=~,==,object_id,raise,new,class,coerce_to?,<<,allocate,copy_instance_variables,copy_singleton_methods,initialize_clone,initialize_copy,define_method,singleton_class,to_proc,initialize_dup,for,empty?,pop,call,append_features,extend_object,extended,gets,__id__,include?,each,instance_variables,instance_variable_get,inspect,+,to_s,instance_variable_name!,respond_to?,to_int,coerce_to!,Integer,nil?,===,enum_for,result,any?,print,format,puts,<=,length,[],readline,<,first,split,caller,map,to_str,exception,backtrace,rand,respond_to_missing?,pristine,try_convert!,expand_path,join,start_with?,new_seed,srand,tag,value,open,include"),function(r,t){var E=u("::","Kernel"),x=[E].concat(t),k=e.$r(x);l(E,"$=~",function(){return!1},1),l(E,"$!~",function(e){return this["$=~"](e)["$!"]()},1),l(E,"$===",function(e){var r=this,t=n;return a(t=r.$object_id()["$=="](e.$object_id()))?t:r["$=="](e)},1),l(E,"$<=>",function(e){var r=this;r.$$comparable=!0;var t=r["$=="](e);return t&&t!==n?0:n},1),l(E,"$method",function(e){var r=this,t=r["$"+e];return t&&!t.$$stub||c.$raise(i("NameError").$new("undefined method `"+e+"' for class `"+r.$class()+"'",e)),i("Method").$new(r,t.$$owner||r.$class(),t,e)},1),l(E,"$methods",function(r){var t=this;return null==r&&(r=!0),a(r)?e.methods(t):e.own_methods(t)},-1),l(E,"$public_methods",function(r){var t=this;return null==r&&(r=!0),a(r)?e.methods(t):e.receiver_methods(t)},-1),l(E,"$Array",function(e){var r;return e===n?[]:e.$$is_array?e:(r=s["$coerce_to?"](e,i("Array"),"to_ary"))!==n?r:(r=s["$coerce_to?"](e,i("Array"),"to_a"))!==n?r:[e]},1),l(E,"$at_exit",function I(){var e=I.$$p||n,r=n;return null==f.__at_exit__&&(f.__at_exit__=n),delete I.$$p,f.__at_exit__=a(r=f.__at_exit__)?r:[],f.__at_exit__["$<<"](e),e},0),l(E,"$caller",function(e,r){var t,i;null==e&&(e=1),null==r&&(r=n),i=[];for(var a=e+1,o=(t=(new Error).$backtrace()).length;a<o;a++)t[a].match(/runtime\.js/)||i.push(t[a]);return r!=n&&(i=i.slice(0,r)),i},-1),l(E,"$class",function(){return this.$$class},0),l(E,"$copy_instance_variables",function(e){var r,t,n,i=this,a=Object.keys(e);for(r=0,t=a.length;r<t;r++)"$"!==(n=a[r]).charAt(0)&&e.hasOwnProperty(n)&&(i[n]=e[n])},1),l(E,"$copy_singleton_methods",function(r){var t,n,i,a,o=this;if(r.hasOwnProperty("$$meta")){var $=e.get_singleton_class(r),s=e.get_singleton_class(o);for(t=0,a=(i=Object.getOwnPropertyNames($.$$prototype)).length;t<a;t++)n=i[t],e.is_method(n)&&(s.$$prototype[n]=$.$$prototype[n]);s.$$const=Object.assign({},$.$$const),Object.setPrototypeOf(s.$$prototype,Object.getPrototypeOf($.$$prototype))}for(t=0,a=(i=Object.getOwnPropertyNames(r)).length;t<a;t++)"$"===(n=i[t]).charAt(0)&&"$"!==n.charAt(1)&&r.hasOwnProperty(n)&&(o[n]=r[n])},1),l(E,"$clone",function(r){var t=this,i=n;if(null==r)r=d([],{});else if(!r.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return null==r.$$smap.freeze&&!0,(i=t.$class().$allocate()).$copy_instance_variables(t),i.$copy_singleton_methods(t),i.$initialize_clone(t),i},-1),l(E,"$initialize_clone",function(e){return this.$initialize_copy(e)},1),l(E,"$define_singleton_method",function O(e,r){var t=O.$$p||n,i=this;return delete O.$$p,h(i.$singleton_class(),"define_method",[e,r],t.$to_proc())},-2),l(E,"$dup",function(){var e=this,r=n;return(r=e.$class().$allocate()).$copy_instance_variables(e),r.$initialize_dup(e),r},0),l(E,"$initialize_dup",function(e){return this.$initialize_copy(e)},1),l(E,"$enum_for",function S(){var r,t,a,o=S.$$p||n,$=this;return delete S.$$p,(r=e.slice.call(arguments)).length>0&&(t=r.shift()),null==t&&(t="each"),a=r,h(i("Enumerator"),"for",[$,t].concat(_(a)),o.$to_proc())},-1),l(E,"$equal?",function(e){return this===e},1),l(E,"$exit",function(r){var t=n;for(null==f.__at_exit__&&(f.__at_exit__=n),null==r&&(r=!0),f.__at_exit__=a(t=f.__at_exit__)?t:[];!a(f.__at_exit__["$empty?"]());)f.__at_exit__.$pop().$call();return r=r.$$is_boolean?r?0:1:o(r,i("Integer"),"to_int"),e.exit(r),n},-1),l(E,"$extend",function(){var r,t=this;r=e.slice.call(arguments);for(var n=t.$singleton_class(),a=r.length-1;a>=0;a--){var o=r[a];o.$$is_module||c.$raise(i("TypeError"),"wrong argument type "+o.$class()+" (expected Module)"),o.$append_features(n),o.$extend_object(t),o.$extended(t)}return t},-1),l(E,"$gets",function(){var r;return null==f.stdin&&(f.stdin=n),r=e.slice.call(arguments),h(f.stdin,"gets",_(r))},-1),l(E,"$hash",function(){return this.$__id__()},0),l(E,"$initialize_copy",function(){return n},1);var A=[];l(E,"$inspect",function(){var r=this,t=n,i=n,o=n;return function(){try{try{return t="",i=r.$__id__(),a(A["$include?"](i))?t=" ...":(A["$<<"](i),o=!0,h(r.$instance_variables(),"each",[],function s(e){var r=null==s.$$s?this:s.$$s,i=n,a=n;return null==e&&(e=n),i=r.$instance_variable_get(e),a=k("Opal").$inspect(i),t=p(t," "+e+"="+a)},{$$arity:1,$$s:r})),"#<"+r.$class()+":0x"+i.$to_s(16)+t+">"}catch($){if(!e.rescue($,[k("StandardError")]))throw $;$;try{return"#<"+r.$class()+":0x"+i.$to_s(16)+">"}finally{e.pop_exception()}}}finally{a(o)&&A.$pop()}}()},0),l(E,"$instance_of?",function(e){var r=this;return e.$$is_class||e.$$is_module||c.$raise(i("TypeError"),"class or module required"),r.$$class===e},1),l(E,"$instance_variable_defined?",function(r){var t=this;return r=s["$instance_variable_name!"](r),e.hasOwnProperty.call(t,r.substr(1))},1),l(E,"$instance_variable_get",function(r){var t=this;r=s["$instance_variable_name!"](r);var i=t[e.ivar(r.substr(1))];return null==i?n:i},1),l(E,"$instance_variable_set",function(r,t){var n=this;return r=s["$instance_variable_name!"](r),n[e.ivar(r.substr(1))]=t},2),l(E,"$remove_instance_variable",function(r){var t=this;r=s["$instance_variable_name!"](r);var n,a=e.ivar(r.substr(1));return t.hasOwnProperty(a)?(n=t[a],delete t[a],n):c.$raise(i("NameError"),"instance variable "+r+" not defined")},1),l(E,"$instance_variables",function(){var e,r=this,t=[];for(var n in r)r.hasOwnProperty(n)&&"$"!==n.charAt(0)&&(e="$"===n.substr(-1)?n.slice(0,n.length-1):n,t.push("@"+e));return t},0),l(E,"$Integer",function(e,r){var t,a,$;return e.$$is_string?"0"===e?0:(r===undefined?r=0:(1===(r=o(r,i("Integer"),"to_int"))||r<0||r>36)&&c.$raise(i("ArgumentError"),"invalid radix "+r),a=(a=(a=e.toLowerCase()).replace(/(\d)_(?=\d)/g,"$1")).replace(/^(\s*[+-]?)(0[bodx]?)/,function(t,n,a){switch(a){case"0b":if(0===r||2===r)return r=2,n;case"0":case"0o":if(0===r||8===r)return r=8,n;case"0d":if(0===r||10===r)return r=10,n;case"0x":if(0===r||16===r)return r=16,n}c.$raise(i("ArgumentError"),'invalid value for Integer(): "'+e+'"')}),$="0-"+((r=0===r?10:r)<=10?r-1:"9a-"+String.fromCharCode(r-11+97)),new RegExp("^\\s*[+-]?["+$+"]+\\s*$").test(a)||c.$raise(i("ArgumentError"),'invalid value for Integer(): "'+e+'"'),t=parseInt(a,r),isNaN(t)&&c.$raise(i("ArgumentError"),'invalid value for Integer(): "'+e+'"'),t):(r!==undefined&&c.$raise(i("ArgumentError"),"base specified for non string value"),e===n&&c.$raise(i("TypeError"),"can't convert nil into Integer"),e.$$is_number?((e===Infinity||e===-Infinity||isNaN(e))&&c.$raise(i("FloatDomainError"),e),Math.floor(e)):e["$respond_to?"]("to_int")&&(t=e.$to_int())!==n?t:s["$coerce_to!"](e,i("Integer"),"to_i"))},-2),l(E,"$Float",function(e){var r;return e===n&&c.$raise(i("TypeError"),"can't convert nil into Float"),e.$$is_string?(r=(r=e.toString()).replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(r)?c.$Integer(r):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(r)||c.$raise(i("ArgumentError"),'invalid value for Float(): "'+e+'"'),parseFloat(r))):s["$coerce_to!"](e,i("Float"),"to_f")},1),l(E,"$Hash",function(e){return a(e["$nil?"]())||g(e,[])?d([],{}):m(i("Hash"),e)?e:s["$coerce_to!"](e,i("Hash"),"to_hash")},1),l(E,"$is_a?",function(r){var t=this;return r.$$is_class||r.$$is_module||c.$raise(i("TypeError"),"class or module required"),e.is_a(t,r)},1),l(E,"$itself",function(){return this},0),l(E,"$lambda",function N(){var r=N.$$p||n;return delete N.$$p,e.lambda(r)},0),l(E,"$load",function(r){return r=s["$coerce_to!"](r,i("String"),"to_str"),e.load(r)},1),l(E,"$loop",function z(){var r=z.$$p||n,t=this,o=n;if(delete z.$$p,r===n)return h(t,"enum_for",["loop"],function(){return i(i("Float"),"INFINITY")},0);for(;a(!0);)try{e.yieldX(r,[])}catch($){if(!e.rescue($,[i("StopIteration")]))throw $;o=$;try{return o.$result()}finally{e.pop_exception()}}return t},0),l(E,"$nil?",function(){return!1},0),l(E,"$printf",function(){var r,t,i=this;return r=e.slice.call(arguments),a((t=r)["$any?"]())&&i.$print(h(i,"format",_(t))),n},-1),l(E,"$proc",function q(){var e=q.$$p||n;return delete q.$$p,a(e)||c.$raise(i("ArgumentError"),"tried to create Proc object without a block"),e.$$is_lambda=!1,e},0),l(E,"$puts",function(){var r;return null==f.stdout&&(f.stdout=n),r=e.slice.call(arguments),h(f.stdout,"puts",_(r))},-1),l(E,"$p",function(){var r,t;return r=e.slice.call(arguments),h(t=r,"each",[],function(e){return null==f.stdout&&(f.stdout=n),null==e&&(e=n),f.stdout.$puts(e.$inspect())},1),a(v(t.$length(),1))?t["$[]"](0):t},-1),l(E,"$print",function(){var r;return null==f.stdout&&(f.stdout=n),r=e.slice.call(arguments),h(f.stdout,"print",_(r))},-1),l(E,"$readline",function(){var r;return null==f.stdin&&(f.stdin=n),r=e.slice.call(arguments),h(f.stdin,"readline",_(r))},-1),l(E,"$warn",function(){var r,t,o,$,u,l,g=this,m=n;if(null==f.VERBOSE&&(f.VERBOSE=n),null==f.stderr&&(f.stderr=n),r=e.slice.call(arguments),null==(t=e.extract_kwargs(r)))t=d([],{});else if(!t.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return o=r,null==($=t.$$smap.uplevel)&&($=n),a($)&&($=s["$coerce_to!"]($,i("Integer"),"to_str"),a(y($,0))&&c.$raise(i("ArgumentError"),"negative level ("+$+")"),l=(u=g.$caller(p($,1),1).$first())===n||null==u?n:h(u,"split",[":in `"]),m=l===n||null==l?n:h(l,"first",[]),a(m)&&(m+=": "),o=h(o,"map",[],function(e){return null==e&&(e=n),m+"warning: "+e},1)),a(f.VERBOSE["$nil?"]())||a(o["$empty?"]())?n:h(f.stderr,"puts",_(o))},-1),l(E,"$raise",function(r,t,a){if(null==f["!"]&&(f["!"]=n),null==f["@"]&&(f["@"]=n),null==t&&(t=n),null==a&&(a=n),null==r&&f["!"]!==n)throw f["!"];throw null==r?r=i("RuntimeError").$new(""):$(r,"$to_str")?r=i("RuntimeError").$new(r.$to_str()):r.$$is_class&&$(r,"$exception")?r=r.$exception(t):r.$$is_exception||(r=i("TypeError").$new("exception class/object expected")),a!==n&&r.$set_backtrace(a),f["!"]!==n&&e.exceptions.push(f["!"]),f["!"]=r,f["@"]=r.$backtrace(),r},-1),l(E,"$rand",function(e){return e===undefined?i(i("Random"),"DEFAULT").$rand():(e.$$is_number&&(e<0&&(e=Math.abs(e)),e%1!=0&&(e=e.$to_i()),0===e&&(e=undefined)),i(i("Random"),"DEFAULT").$rand(e))},-1),l(E,"$respond_to?",function(e,r){var t=this;null==r&&(r=!1);var n=t["$"+e];return"function"==typeof n&&!n.$$stub||!0!==t["$respond_to_missing?"].$$pristine&&t["$respond_to_missing?"](e,r)},-2),l(E,"$respond_to_missing?",function(e,r){return null==r&&(r=!1),!1},-2),s.$pristine(E,"respond_to?","respond_to_missing?"),l(E,"$require",function(r){return"string"!=typeof r&&e.String&&e.Array&&(r=s["$coerce_to!"](r,i("String"),"to_str")),e.require(r)},1),l(E,"$require_relative",function(r){return s["$try_convert!"](r,i("String"),"to_str"),r=i("File").$expand_path(i("File").$join(e.current_file,"..",r)),e.require(r)},1),l(E,"$require_tree",function(r,t){var n;if(null==t)t=d([],{});else if(!t.$$is_hash)throw e.ArgumentError.$new("expected kwargs");null==(n=t.$$smap.autoload)&&(n=!1);var a=[];for(var o in r=i("File").$expand_path(r),"."===(r=e.normalize(r))&&(r=""),e.modules)o["$start_with?"](r)&&(n?a.push([o,!0]):a.push([o,e.require(o)]));return a},-2),l(E,"$singleton_class",function(){var r=this;return e.get_singleton_class(r)},0),l(E,"$sleep",function(r){null==r&&(r=n),r===n&&c.$raise(i("TypeError"),"can't convert NilClass into time interval"),r.$$is_number||c.$raise(i("TypeError"),"can't convert "+r.$class()+" into time interval"),r<0&&c.$raise(i("ArgumentError"),"time interval must be positive");for(var t=e.global.performance?function(){return performance.now()}:function(){return new Date},a=t();t()-a<=1e3*r;);return Math.round(r)},-1),l(E,"$srand",function(e){return null==e&&(e=k("Random").$new_seed()),i("Random").$srand(e)},-1),l(E,"$String",function(e){var r=n;return a(r=s["$coerce_to?"](e,i("String"),"to_str"))?r:s["$coerce_to!"](e,i("String"),"to_s")},1),l(E,"$tap",function j(){var r=j.$$p||n,t=this;return delete j.$$p,e.yield1(r,t),t},0),l(E,"$to_proc",function(){return this},0),l(E,"$to_s",function(){var e=this;return"#<"+e.$class()+":0x"+e.$__id__().$to_s(16)+">"},0),l(E,"$catch",function M(r){var t=M.$$p||n,o=n,$=n;delete M.$$p,null==r&&(r=n);try{return r=a(o=r)?o:b.$new(),e.yield1(t,r)}catch(s){if(!e.rescue(s,[i("UncaughtThrowError")]))throw s;$=s;try{return g($.$tag(),r)?$.$value():c.$raise()}finally{e.pop_exception()}}},-1),l(E,"$throw",function(e,r){return null==r&&(r=n),c.$raise(i("UncaughtThrowError").$new(e,r))},-2),l(E,"$open",function R(){var r,t=R.$$p||n;return delete R.$$p,r=e.slice.call(arguments),h(i("File"),"open",_(r),t.$to_proc())},-1),l(E,"$yield_self",function T(){var r=T.$$p||n,t=this;return delete T.$$p,r===n?h(t,"enum_for",["yield_self"],function(){return 1},0):e.yield1(r,t)},0),w(E,"fail","raise"),w(E,"kind_of?","is_a?"),w(E,"object_id","__id__"),w(E,"public_send","__send__"),w(E,"send","__send__"),w(E,"then","yield_self"),w(E,"to_enum","enum_for")}(0,t),r=E("::",null,"Object"),delete b.$$prototype.$require,r.$include(c)},Opal.modules["corelib/main"]=function(e){var r=e.top,t=(e.nil,e.def),n=e.Object,i=e.Kernel;return e.add_stubs("include,raise"),function(r){return t(r,"$to_s",function(){return"main"},0),t(r,"$include",function(e){return n.$include(e)},1),t(r,"$autoload",function(){var r;return r=e.slice.call(arguments),e.Object.$autoload.apply(e.Object,r)},-1),t(r,"$using",function(){return i.$raise("main.using is permitted only at toplevel")},1)}(e.get_singleton_class(r))},Opal.modules["corelib/error/errno"]=function(e){var r=[],t=e.nil,n=e.$$$,i=e.module,a=e.truthy,o=e.rb_plus,$=e.send2,s=e.find_super,u=e.def,l=e.klass;return e.add_stubs("+,errno,class,attr_reader"),function(r,n){var l,c=i("::","Errno"),f=([c].concat(n),t),d=t;for(f=[["EINVAL","Invalid argument",22],["EEXIST","File exists",17],["EISDIR","Is a directory",21],["EMFILE","Too many open files",24],["EACCES","Permission denied",13],["EPERM","Operation not permitted",1],["ENOENT","No such file or directory",2]],d=t,l=0;l<f.length;l++)!function(){var r=f[l][0],n=f[l][1],i=f[l][2];(d=e.klass(c,e.SystemCallError,r)).errno=i,function(e){u(e,"$new",function r(e){r.$$p;var i=this,u=t;return delete r.$$p,null==e&&(e=t),u=n,a(e)&&(u=o(u," - "+e)),$(i,s(i,"new",r,!1,!0),"new",[u],null)},-1)}(e.get_singleton_class(d))}()}(0,r),function(r,$super,t){var n=l(r,$super,"SystemCallError");[n].concat(t);return u(n,"$errno",function(){return this.$class().$errno()},0),function(e){return e.$attr_reader("errno")}(e.get_singleton_class(n))}("::",n("StandardError"),r)},Opal.modules["corelib/error"]=function(e){var r,$super,t,n=[],i=e.nil,a=e.$$$,o=e.klass,$=e.gvars,s=e.defs,u=e.send,l=e.to_a,c=e.def,f=e.truthy,d=e.hash2,h=e.Kernel,_=e.not,p=e.rb_plus,g=e.eqeq,m=e.Object,v=e.send2,y=e.find_super,b=e.module;return e.add_stubs("new,map,backtrace,clone,to_s,merge,tty?,[],include?,raise,dup,empty?,!,caller,shift,+,class,join,cause,full_message,==,reverse,split,autoload,attr_reader,inspect"),function(r,$super,t){function n(e){for(var r,t=[],n=0;n<e.length;n++){var i=e[n];i&&i.$$is_string&&((r=i.match(/^    at (.*?) \((.*?)\)$/))?t.push(r[2]+":in `"+r[1]+"'"):(r=i.match(/^    at (.*?)$/))?t.push(r[1]+":in `undefined'"):(r=i.match(/^  from (.*?)$/))?t.push(r[1]):(r=i.match(/^(.*?)@(.*?)$/))&&t.push(r[2]+":in `"+r[1]+"'"))}return t}var m,v=o("::",$super,"Exception"),y=[v].concat(t),b=e.$r(y);v.$$prototype.message=i,e.prop(v.$$prototype,"$$is_exception",!0),s(v,"$new",function(){var r,t=this;null==$["!"]&&($["!"]=i);var n=(r=e.slice.call(arguments)).length>0?r[0]:i,a=new t.$$constructor(n);return a.name=t.$$name,a.message=n,a.cause=$["!"],e.send(a,a.$initialize,r),e.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(a,m),a},-1),m=v.$new,s(v,"$exception",function(){var r,t=this
;return r=e.slice.call(arguments),u(t,"new",l(r))},-1),c(v,"$initialize",function(){var r,t=this;return r=e.slice.call(arguments),t.message=r.length>0?r[0]:i},-1),c(v,"$backtrace",function(){var e=this;if(e.backtrace)return e.backtrace;var r=e.stack;return void 0!==r&&r.$$is_string?e.backtrace=n(r.split("\n").slice(0,15)):r?e.backtrace=n(r.slice(0,15)):[]},0),c(v,"$backtrace_locations",function(){var e,r=this;return r.backtrace_locations?r.backtrace_locations:(r.backtrace_locations=(e=r.$backtrace())===i||null==e?i:u(e,"map",[],function(e){return null==e&&(e=i),a(a(a("Thread"),"Backtrace"),"Location").$new(e)},1),r.backtrace_locations)},0),c(v,"$cause",function(){return this.cause||i},0),c(v,"$exception",function(e){var r=this;if(null==e&&(e=i),e===i||r===e)return r;var t=r.$clone();return t.message=e,r.backtrace&&(t.backtrace=r.backtrace.$dup()),t.stack=r.stack,t.cause=r.cause,t},-1),c(v,"$message",function(){return this.$to_s()},0),c(v,"$full_message",function(e){var r,t=this,n=i,o=i,s=i,l=i,c=i,m=i,v=i,y=i,w=i;return null==$.stderr&&($.stderr=i),null==e&&(e=i),f(b("Hash","skip_raise")?"constant":i)?(o=(r=[(e=d(["highlight","order"],{highlight:$.stderr["$tty?"](),order:"top"}).$merge(f(n=e)?n:d([],{})))["$[]"]("highlight"),e["$[]"]("order")])[0],s=r[1],f([!0,!1]["$include?"](o))||h.$raise(a("ArgumentError"),"expected true or false as highlight: "+o),f(["top","bottom"]["$include?"](s))||h.$raise(a("ArgumentError"),"expected :top or :bottom as order: "+s),f(o)?(l="\x1b[1;4m",c="\x1b[1m",m="\x1b[m"):l=c=m="",v=t.$backtrace().$dup(),(_(v)||f(v["$empty?"]()))&&(v=t.$caller()),y=v.$shift(),w=p(w=y+": ",""+c+t.$to_s()+" ("+l+t.$class()+m+c+")"+m+"\n"),w=p(w,u(v,"map",[],function(e){return null==e&&(e=i),"\tfrom "+e+"\n"},1).$join()),f(t.$cause())&&(w=p(w,t.$cause().$full_message(d(["highlight"],{highlight:o})))),g(s,"bottom")&&(w=w.$split("\n").$reverse().$join("\n"),w=p(c+"Traceback"+m+" (most recent call last):\n",w)),w):t.message+"\n"+t.stack},-1),c(v,"$inspect",function(){var e=this,r=i;return r=e.$to_s(),f(r["$empty?"]())?e.$class().$to_s():"#<"+e.$class().$to_s()+": "+e.$to_s()+">"},0),c(v,"$set_backtrace",function(e){var r,t,n=this,o=!0;if(e===i)n.backtrace=i,n.stack="";else if(e.$$is_string)n.backtrace=[e],n.stack="  from "+e;else{if(e.$$is_array){for(r=0,t=e.length;r<t;r++)if(!e[r].$$is_string){o=!1;break}}else o=!1;!1===o&&h.$raise(a("TypeError"),"backtrace must be Array of String"),n.backtrace=e,n.stack=u(e,"map",[],function(e){return null==e&&(e=i),p("  from ",e)},1).join("\n")}return e},1),c(v,"$to_s",function(){var e=this,r=i,t=i;return f(r=f(t=e.message)?e.message.$to_s():t)?r:e.$class().$to_s()},0)}(0,Error,n),o("::",a("Exception"),"ScriptError"),o("::",a("ScriptError"),"SyntaxError"),o("::",a("ScriptError"),"LoadError"),o("::",a("ScriptError"),"NotImplementedError"),o("::",a("Exception"),"SystemExit"),o("::",a("Exception"),"NoMemoryError"),o("::",a("Exception"),"SignalException"),o("::",a("SignalException"),"Interrupt"),o("::",a("Exception"),"SecurityError"),o("::",a("Exception"),"SystemStackError"),o("::",a("Exception"),"StandardError"),o("::",a("StandardError"),"EncodingError"),o("::",a("StandardError"),"ZeroDivisionError"),o("::",a("StandardError"),"NameError"),o("::",a("NameError"),"NoMethodError"),o("::",a("StandardError"),"RuntimeError"),o("::",a("RuntimeError"),"FrozenError"),o("::",a("StandardError"),"LocalJumpError"),o("::",a("StandardError"),"TypeError"),o("::",a("StandardError"),"ArgumentError"),o("::",a("ArgumentError"),"UncaughtThrowError"),o("::",a("StandardError"),"IndexError"),o("::",a("IndexError"),"StopIteration"),o("::",a("StopIteration"),"ClosedQueueError"),o("::",a("IndexError"),"KeyError"),o("::",a("StandardError"),"RangeError"),o("::",a("RangeError"),"FloatDomainError"),o("::",a("StandardError"),"IOError"),o("::",a("IOError"),"EOFError"),o("::",a("StandardError"),"SystemCallError"),o("::",a("StandardError"),"RegexpError"),o("::",a("StandardError"),"ThreadError"),o("::",a("StandardError"),"FiberError"),m.$autoload("Errno","corelib/error/errno"),r="::",$super=a("ArgumentError"),(t=o(r,$super,"UncaughtThrowError")).$$prototype.tag=i,t.$attr_reader("tag","value"),c(t,"$initialize",function w(e,r){w.$$p;var t=this;return delete w.$$p,null==r&&(r=i),t.tag=e,t.value=r,v(t,y(t,"initialize",w,!1,!0),"initialize",["uncaught throw "+t.tag.$inspect()],null)},-2),function(){var e=o("::",null,"NameError");e.$attr_reader("name"),c(e,"$initialize",function r(e,t){r.$$p;var n=this;return delete r.$$p,null==t&&(t=i),v(n,y(n,"initialize",r,!1,!0),"initialize",[e],null),n.name=t},-2)}(),function(){var e=o("::",null,"NoMethodError");e.$attr_reader("args"),c(e,"$initialize",function r(e,t,n){r.$$p;var a=this;return delete r.$$p,null==t&&(t=i),null==n&&(n=[]),v(a,y(a,"initialize",r,!1,!0),"initialize",[e,t],null),a.args=n},-2)}(),o("::",null,"StopIteration").$attr_reader("result"),function(){var r=o("::",null,"KeyError"),t=r.$$prototype;t.receiver=t.key=i,c(r,"$initialize",function n(r,t){n.$$p;var a,o,$=this;if(delete n.$$p,null==t)t=d([],{});else if(!t.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return null==(a=t.$$smap.receiver)&&(a=i),null==(o=t.$$smap.key)&&(o=i),v($,y($,"initialize",n,!1,!0),"initialize",[r],null),$.receiver=a,$.key=o},-2),c(r,"$receiver",function(){var e=i;return f(e=this.receiver)?e:h.$raise(a("ArgumentError"),"no receiver is available")},0),c(r,"$key",function(){var e=i;return f(e=this.key)?e:h.$raise(a("ArgumentError"),"no key is available")},0)}(),function(e,r){var t=[b("::","JS")].concat(r);return o(t[0],null,"Error"),i}(0,n)},Opal.modules["corelib/constants"]=function(e){e.nil;var r=e.$$$,t=e.const_set;return t("::","RUBY_PLATFORM","opal"),t("::","RUBY_ENGINE","opal"),t("::","RUBY_VERSION","3.1.0"),t("::","RUBY_ENGINE_VERSION","1.4.1"),t("::","RUBY_RELEASE_DATE","2022-01-12"),t("::","RUBY_PATCHLEVEL",0),t("::","RUBY_REVISION","0"),t("::","RUBY_COPYRIGHT","opal - Copyright (C) 2013-2021 Adam Beynon and the Opal contributors"),t("::","RUBY_DESCRIPTION","opal "+r("RUBY_ENGINE_VERSION")+" ("+r("RUBY_RELEASE_DATE")+" revision "+r("RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(e){e.nil;var r=e.Object;return e.add_stubs("require"),r.$require("corelib/runtime"),r.$require("corelib/helpers"),r.$require("corelib/module"),r.$require("corelib/class"),r.$require("corelib/basic_object"),r.$require("corelib/kernel"),r.$require("corelib/main"),r.$require("corelib/error"),r.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(e){var r=[],t=e.nil,n=e.$$$,i=e.klass,a=e.Kernel,o=e.def,$=e.hash2,s=e.NilClass,u=e.truthy,l=e.rb_gt,c=e.alias;return e.add_stubs("raise,name,new,>,length,Rational"),function(r,$super,f){var d=i("::",null,"NilClass");[d].concat(f);return d.$$prototype.$$meta=d,function(r){o(r,"$allocate",function(){var e=this;return a.$raise(n("TypeError"),"allocator undefined for "+e.$name())},0),e.udef(r,"$new")}(e.get_singleton_class(d)),o(d,"$!",function(){return!0},0),o(d,"$&",function(){return!1},1),o(d,"$|",function(e){return!1!==e&&e!==t},1),o(d,"$^",function(e){return!1!==e&&e!==t},1),o(d,"$==",function(e){return e===t},1),o(d,"$dup",function(){return t},0),o(d,"$clone",function(r){if(null==r)r=$([],{});else if(!r.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return null==r.$$smap.freeze&&!0,t},-1),o(d,"$inspect",function(){return"nil"},0),o(d,"$nil?",function(){return!0},0),o(d,"$singleton_class",function(){return s},0),o(d,"$to_a",function(){return[]},0),o(d,"$to_h",function(){return e.hash()},0),o(d,"$to_i",function(){return 0},0),o(d,"$to_s",function(){return""},0),o(d,"$to_c",function(){return n("Complex").$new(0,0)},0),o(d,"$rationalize",function(){var r;return r=e.slice.call(arguments),u(l(r.$length(),1))&&a.$raise(n("ArgumentError")),a.$Rational(0,1)},-1),o(d,"$to_r",function(){return a.$Rational(0,1)},0),o(d,"$instance_variables",function(){return[]},0),c(d,"to_f","to_i")}(0,0,r)},Opal.modules["corelib/boolean"]=function(e){"use strict";var r=[],t=e.nil,n=e.$$$,i=e.klass,a=e.Kernel,o=e.def,$=e.hash2,s=e.truthy,u=e.send2,l=e.find_super,c=e.to_a,f=e.alias;return e.add_stubs("raise,name"),function(r,$super,d){var h=i("::",$super,"Boolean");[h].concat(d);e.prop(h.$$prototype,"$$is_boolean",!0);for(var _=["$$class","$$meta"],p=0;p<_.length;p++)Object.defineProperty(h.$$prototype,_[p],{configurable:!0,enumerable:!1,get:function(){return 1==this?e.TrueClass:0==this?e.FalseClass:e.Boolean}});Object.defineProperty(h.$$prototype,"$$id",{configurable:!0,enumerable:!1,get:function(){return 1==this?2:0==this?0:t}}),function(r){o(r,"$allocate",function(){var e=this;return a.$raise(n("TypeError"),"allocator undefined for "+e.$name())},0),e.udef(r,"$new")}(e.get_singleton_class(h)),o(h,"$__id__",function(){return this.valueOf()?2:0},0),o(h,"$!",function(){return 1!=this},0),o(h,"$&",function(e){return 1==this&&(!1!==e&&e!==t)},1),o(h,"$|",function(e){return 1==this||!1!==e&&e!==t},1),o(h,"$^",function(e){return 1==this?!1===e||e===t:!1!==e&&e!==t},1),o(h,"$==",function(e){return 1==this===e.valueOf()},1),o(h,"$singleton_class",function(){return this.$$meta},0),o(h,"$to_s",function(){return 1==this?"true":"false"},0),o(h,"$dup",function(){return this},0),o(h,"$clone",function(r){var t=this;if(null==r)r=$([],{});else if(!r.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return null==r.$$smap.freeze&&!0,t},-1),o(h,"$method_missing",function g(r){var n,i=g.$$p||t,a=this;delete g.$$p,n=e.slice.call(arguments,1);var o=a.$$class.$$prototype["$"+r];return s(void 0!==o&&!o.$$stub)||u(a,l(a,"method_missing",g,!1,!0),"method_missing",[r].concat(c(n)),i),e.send(a,o,n,i)},-2),o(h,"$respond_to_missing?",function(e,r){null==r&&(r=!1);var t=this.$$class.$$prototype["$"+e];return void 0!==t&&!t.$$stub},-2),f(h,"eql?","=="),f(h,"equal?","=="),f(h,"inspect","to_s"),f(h,"object_id","__id__")}(0,Boolean,r),i("::",n("Boolean"),"TrueClass"),i("::",n("Boolean"),"FalseClass"),t},Opal.modules["corelib/comparable"]=function(e){var r=e.nil,t=e.$$$,n=e.truthy,i=e.module,a=e.rb_gt,o=e.rb_lt,$=e.eqeqeq,s=e.Kernel,u=e.def;return e.add_stubs(">,<,===,raise,class,<=>,equal?"),function(){function l(r){return e.is_a(r,e.Integer)?r:a(r,0)?1:o(r,0)?-1:0}function c(e,n){var i;i=$(r,h=n)||$(!0,h)||$(!1,h)||$(t("Integer"),h)||$(t("Float"),h)?n.$inspect():n.$$class,s.$raise(t("ArgumentError"),"comparison of "+e.$class()+" with "+i+" failed")}function f(e,r){var t=e["$<=>"](r);return n(t)||c(e,r),l(t)}var d=i("::","Comparable"),h=r;return u(d,"$==",function(t){var i=this,a=r;return!!n(i["$equal?"](t))||i["$<=>"]!=e.Kernel["$<=>"]&&(i.$$comparable?(delete i.$$comparable,!1):!!n(a=i["$<=>"](t))&&0==l(a))},1),u(d,"$>",function(e){return f(this,e)>0},1),u(d,"$>=",function(e){return f(this,e)>=0},1),u(d,"$<",function(e){return f(this,e)<0},1),u(d,"$<=",function(e){return f(this,e)<=0},1),u(d,"$between?",function(e,r){var t=this;return!o(t,e)&&!a(t,r)},2),u(d,"$clamp",function(n,i){var a,o,$=this;if(null==i&&(i=r),i===r&&(e.is_a(n,e.Range)||s.$raise(t("TypeError"),"wrong argument type "+n.$class()+" (expected Range)"),o=n.excl,i=n.end,n=n.begin,i!==r&&o&&s.$raise(t("ArgumentError"),"cannot clamp with an exclusive range")),n!==r&&i!==r&&f(n,i)>0&&s.$raise(t("ArgumentError"),"min argument must be smaller than max argument"),n!==r){if(0==(a=f($,n)))return $;if(a<0)return n}return i!==r&&(a=f($,i))>0?i:$},-2)}()},Opal.modules["corelib/regexp"]=function(e){var r=[],t=e.nil,n=e.$$$,i=e.coerce_to,a=e.klass,o=e.const_set,$=e.send2,s=e.find_super,u=e.def,l=e.truthy,c=e.gvars,f=e.Kernel,d=e.Opal,h=e.alias,_=e.send,p=e.hash2,g=e.rb_plus,m=e.rb_ge,v=e.to_a,y=e.eqeqeq,b=e.rb_minus;return e.add_stubs("nil?,[],raise,escape,options,to_str,new,join,coerce_to!,!,match,coerce_to?,begin,uniq,map,scan,source,to_proc,transform_values,group_by,each_with_index,+,last,=~,attr_reader,>=,length,is_a?,include?,names,regexp,named_captures,===,captures,-,inspect,empty?,each,to_a"),a("::",n("StandardError"),"RegexpError"),function(r,$super,m){var v=a("::",$super,"Regexp"),y=[v].concat(m),b=e.$r(y);o(v,"IGNORECASE",1),o(v,"EXTENDED",2),o(v,"MULTILINE",4),e.prop(v.$$prototype,"$$is_regexp",!0),function(r,i){var a=[r].concat(i),o=e.$r(a);u(r,"$allocate",function _(){var e=_.$$p||t,r=this,n=t;return delete _.$$p,(n=$(r,s(r,"allocate",_,!1,!0),"allocate",[],e)).uninitialized=!0,n},0),u(r,"$escape",function(r){return e.escape_regexp(r)},1),u(r,"$last_match",function(e){return null==c["~"]&&(c["~"]=t),null==e&&(e=t),l(e["$nil?"]())?c["~"]:l(c["~"])?c["~"]["$[]"](e):t},-1),u(r,"$union",function(){var r,t,i,a,o,$,s=this;if(0==(r=e.slice.call(arguments)).length)return/(?!)/;if(1==r.length&&r[0].$$is_regexp)return r[0];t=r[0].$$is_array,r.length>1&&t&&f.$raise(n("TypeError"),"no implicit conversion of Array into String"),t&&(r=r[0]),o=undefined,i=[];for(var u=0;u<r.length;u++)(a=r[u]).$$is_string?i.push(s.$escape(a)):a.$$is_regexp?($=a.$options(),o!=undefined&&o!=$&&f.$raise(n("TypeError"),"All expressions must use the same options"),o=$,i.push("("+a.source+")")):i.push(s.$escape(a.$to_str()));return s.$new(i.$join("|"),o)},-1),u(r,"$new",function(e,r){if(e.$$is_regexp)return new RegExp(e);if("\\"===(e=d["$coerce_to!"](e,n("String"),"to_str")).charAt(e.length-1)&&"\\"!==e.charAt(e.length-2)&&f.$raise(n("RegexpError"),"too short escape sequence: /"+e+"/"),r===undefined||r["$!"]())return new RegExp(e);if(r.$$is_number){var t="";o("IGNORECASE")&r&&(t+="i"),o("MULTILINE")&r&&(t+="m"),r=t}else r="i";return new RegExp(e,r)},-2),h(r,"compile","new"),h(r,"quote","escape")}(e.get_singleton_class(v),y),u(v,"$==",function(e){return e instanceof RegExp&&this.toString()===e.toString()},1),u(v,"$===",function(e){return this.$match(d["$coerce_to?"](e,n("String"),"to_str"))!==t},1),u(v,"$=~",function(e){var r=this,n=t;return null==c["~"]&&(c["~"]=t),l(n=r.$match(e))?c["~"].$begin(0):n},1),u(v,"$inspect",function(){var e=/^\/(.*)\/([^\/]*)$/,r=this.toString(),t=e.exec(r);if(t){for(var n=t[1],i=t[2],a=n.split(""),o=a.length,$=!1,s="",u=0;u<o;u++){var l=a[u];$||"/"!=l||(s=s.concat("\\")),s=s.concat(l),$="\\"==l&&!$}return"/"+s+"/"+i}return r},0),u(v,"$match",function w(r,a){var o=w.$$p||t,$=this;if(null==c["~"]&&(c["~"]=t),delete w.$$p,$.uninitialized&&f.$raise(n("TypeError"),"uninitialized Regexp"),a===undefined){if(r===t)return c["~"]=t;var s=$.exec(i(r,n("String"),"to_str"));return s?(c["~"]=n("MatchData").$new($,s),o===t?c["~"]:e.yield1(o,c["~"])):c["~"]=t}if(a=i(a,n("Integer"),"to_int"),r===t)return c["~"]=t;if(r=i(r,n("String"),"to_str"),a<0&&(a+=r.length)<0)return c["~"]=t;for(var u,l=e.global_regexp($);;){if(null===(u=l.exec(r)))return c["~"]=t;if(u.index>=a)return c["~"]=n("MatchData").$new(l,u),o===t?c["~"]:e.yield1(o,c["~"]);l.lastIndex=u.index+1}},-2),u(v,"$match?",function(r,a){var o,$=this;return $.uninitialized&&f.$raise(n("TypeError"),"uninitialized Regexp"),a===undefined?r!==t&&$.test(i(r,n("String"),"to_str")):(a=i(a,n("Integer"),"to_int"),r!==t&&(r=i(r,n("String"),"to_str"),!(a<0&&(a+=r.length)<0)&&!(null===(o=e.global_regexp($).exec(r))||o.index<a)))},-2),u(v,"$names",function(){return _(this.$source().$scan(/\(?<(\w+)>/,p(["no_matchdata"],{no_matchdata:!0})),"map",[],"first".$to_proc()).$uniq()},0),u(v,"$named_captures",function(){return _(_(_(this.$source().$scan(/\(?<(\w+)>/,p(["no_matchdata"],{no_matchdata:!0})),"map",[],"first".$to_proc()).$each_with_index(),"group_by",[],"first".$to_proc()),"transform_values",[],function(e){return null==e&&(e=t),_(e,"map",[],function(e){return null==e&&(e=t),g(e.$last(),1)},1)},1)},0),u(v,"$~",function(){var e=this;return null==c._&&(c._=t),e["$=~"](c._)},0),u(v,"$source",function(){return this.source},0),u(v,"$options",function(){var e=this;e.uninitialized&&f.$raise(n("TypeError"),"uninitialized Regexp");var r=0;return e.multiline&&(r|=b("MULTILINE")),e.ignoreCase&&(r|=b("IGNORECASE")),r},0),u(v,"$casefold?",function(){return this.ignoreCase},0),h(v,"eql?","=="),h(v,"to_s","source")}(0,RegExp,r),function(r,$super,i){var o=a(r,null,"MatchData"),$=[o].concat(i),s=e.$r($);return o.$$prototype.matches=t,o.$attr_reader("post_match","pre_match","regexp","string"),u(o,"$initialize",function(r,n,i){var a,o=this;if(null==i)i=p([],{});else if(!i.$$is_hash)throw e.ArgumentError.$new("expected kwargs");null==(a=i.$$smap.no_matchdata)&&(a=!1),l(a)||(c["~"]=o),o.regexp=r,o.begin=n.index,o.string=n.input,o.pre_match=n.input.slice(0,n.index),o.post_match=n.input.slice(n.index+n[0].length),o.matches=[];for(var $=0,s=n.length;$<s;$++){var u=n[$];null==u?o.matches.push(t):o.matches.push(u)}},-3),u(o,"$match",function(e){var r=this,i=t;return l(i=r["$[]"](e))?i:l(e["$is_a?"](s("Integer")))&&l(m(e,r.$length()))?f.$raise(n("IndexError"),"index "+e+" out of matches"):t},1),u(o,"$match_length",function(e){var r;return(r=this.$match(e))===t||null==r?t:_(r,"length",[])},1),u(o,"$[]",function(){var r,t=this;return(r=e.slice.call(arguments))[0].$$is_string?(t.$regexp().$names()["$include?"](r["$[]"](0))["$!"]()&&f.$raise(n("IndexError"),"undefined group name reference: "+r["$[]"](0)),t.$named_captures()["$[]"](r["$[]"](0))):_(t.matches,"[]",v(r))},-1),u(o,"$offset",function(e){var r=this;return 0!==e&&f.$raise(n("ArgumentError"),"MatchData#offset only supports 0th element"),[r.begin,r.begin+r.matches[e].length]},1),u(o,"$==",function(e){var r=this,i=t,a=t,o=t,$=t;return!!y(n("MatchData"),e)&&(l(i=l(a=l(o=l($=r.string==e.string)?r.regexp.toString()==e.regexp.toString():$)?r.pre_match==e.pre_match:o)?r.post_match==e.post_match:a)?r.begin==e.begin:i)},1),u(o,"$begin",function(e){var r=this;return 0!==e&&f.$raise(n("ArgumentError"),"MatchData#begin only supports 0th element"),r.begin},1),u(o,"$end",function(e){var r=this;return 0!==e&&f.$raise(n("ArgumentError"),"MatchData#end only supports 0th element"),r.begin+r.matches[e].length},1),u(o,"$captures",function(){return this.matches.slice(1)},0),u(o,"$named_captures",function(){var e=this,r=t;return r=e.$captures(),_(e.$regexp().$named_captures(),"transform_values",[],function(e){return null==e&&(e=t),r["$[]"](b(e.$last(),1))},1)},0),u(o,"$names",function(){return this.$regexp().$names()},0),u(o,"$inspect",function(){var e=this,r="#<MatchData "+e.matches[0].$inspect();if(e.$regexp().$names()["$empty?"]())for(var n=1,i=e.matches.length;n<i;n++)r+=" "+n+":"+e.matches[n].$inspect();else _(e.$named_captures(),"each",[],function(e,n){return null==e&&(e=t),null==n&&(n=t),r+=" "+e+":"+n.$inspect()},2);return r+">"},0),u(o,"$length",function(){return this.matches.length},0),u(o,"$to_a",function(){return this.matches},0),u(o,"$to_s",function(){return this.matches[0]},0),u(o,"$values_at",function(){var r,i=this;r=e.slice.call(arguments);var a,o,$,s=[];for(a=0;a<r.length;a++)r[a].$$is_range&&((o=r[a].$to_a()).unshift(a,1),Array.prototype.splice.apply(r,o)),($=d["$coerce_to!"](r[a],n("Integer"),"to_int"))<0&&($+=i.matches.length)<0?s.push(t):s.push(i.matches[$]);return s},-1),h(o,"eql?","=="),h(o,"size","length")}(r[0],0,r)},Opal.modules["corelib/string"]=function(e){var r=e.top,t=[],n=e.$r(t),i=e.nil,a=e.$$$,o=e.coerce_to,$=e.respond_to,s=e.global_multiline_regexp,u=e.klass,l=e.def,c=e.Opal,f=e.defs,d=e.send,h=e.to_a,_=e.hash2,p=e.eqeqeq,g=e.Kernel,m=e.truthy,v=e.gvars,y=e.rb_divide,b=e.rb_plus,w=e.alias,E=e.const_set;return e.add_stubs("require,include,coerce_to?,initialize,===,format,raise,respond_to?,to_s,to_str,<=>,==,=~,new,force_encoding,casecmp,empty?,ljust,ceil,/,+,rjust,floor,coerce_to!,copy_singleton_methods,initialize_clone,initialize_dup,enum_for,chomp,[],to_i,each_line,to_proc,to_a,class,match,match?,captures,proc,succ,escape,include?,upcase,unicode_normalize,pristine"),r.$require("corelib/comparable"),r.$require("corelib/regexp"),function(r,$super,t){function n(e){function r(e){var r,t,n,i,o,$,s="",u=e.length;for(r=0;r<u;r++)if("-"===(t=e.charAt(r))&&r>0&&r<u-1&&!n){for((i=e.charCodeAt(r-1))>(o=e.charCodeAt(r+1))&&g.$raise(a("ArgumentError"),'invalid range "'+i+"-"+o+'" in string transliteration'),$=i+1;$<o+1;$++)s+=String.fromCharCode($);n=!0,r++}else n="\\"===t,s+=t;return s}function t(e,r){if(0===e.length)return r;var t,n,i="",a=e.length;for(t=0;t<a;t++)n=e.charAt(t),-1!==r.indexOf(n)&&(i+=n);return i}var n,i,$,s,u,l,c="",f="";for(n=0,i=e.length;n<i;n++)$=r((s="^"===($=o(e[n],a("String"),"to_str")).charAt(0)&&$.length>1)?$.slice(1):$),s?f=t(f,$):c=t(c,$);if(c.length>0&&f.length>0){for(l="",n=0,i=c.length;n<i;n++)u=c.charAt(n),-1===f.indexOf(u)&&(l+=u);c=l,f=""}return c.length>0?"["+a("Regexp").$escape(c)+"]":f.length>0?"[^"+a("Regexp").$escape(f)+"]":null}var E=u("::",$super,"String"),x=[E].concat(t),k=e.$r(x);E.$include(a("Comparable")),e.prop(E.$$prototype,"$$is_string",!0),e.prop(E.$$prototype,"$$cast",function(e){var r=this.$$class;return r.$$constructor===String?e:new r.$$constructor(e)}),l(E,"$__id__",function(){return this.toString()},0),f(E,"$try_convert",function(e){return c["$coerce_to?"](e,a("String"),"to_str")},1),f(E,"$new",function(){var r,t=this,n=(r=e.slice.call(arguments))[0]||"",i=r[r.length-1];return n=o(n,a("String"),"to_str"),i&&i.$$is_hash&&i.$$smap.encoding&&(n=n.$force_encoding(i.$$smap.encoding)),(n=new t.$$constructor(n)).$initialize.$$pristine||d(n,"initialize",h(r)),n},-1),l(E,"$initialize",function(){var r,t;if(r=e.slice.call(arguments),null==(t=e.extract_kwargs(r)))t=_([],{});else if(!t.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return r.length>0&&r.shift(),null==t.$$smap.encoding&&i,null==t.$$smap.capacity&&i,i},-1),l(E,"$%",function(e){var r=this;return p(a("Array"),e)?d(r,"format",[r].concat(h(e))):r.$format(r,e)},1),l(E,"$*",function(e){var r=this;if((e=o(e,a("Integer"),"to_int"))<0&&g.$raise(a("ArgumentError"),"negative argument"),0===e)return r.$$cast("");var t="",n=r.toString();for(n.length*e>=1<<28&&g.$raise(a("RangeError"),"multiply count must not overflow maximum string size");1==(1&e)&&(t+=n),0!==(e>>>=1);)n+=n;return r.$$cast(t)},1),l(E,"$+",function(r){var t=this;if(""==(r=o(r,a("String"),"to_str"))&&t.$$class===e.String)return t;if(""==t&&r.$$class===e.String)return r;var n=t+r;return t.encoding===n.encoding&&r.encoding===n.encoding?n:"UTF-8"===t.encoding.name||"UTF-8"===r.encoding.name?n:e.enc(n,t.encoding)},1),l(E,"$<=>",function(e){var r=this;if(m(e["$respond_to?"]("to_str")))return r>(e=e.$to_str().$to_s())?1:r<e?-1:0;var t=e["$<=>"](r);return t===i?i:t>0?-1:t<0?1:0},1),l(E,"$==",function(e){var r=this;return e.$$is_string?r.toString()===e.toString():!!$(e,"$to_str")&&e["$=="](r)},1),l(E,"$=~",function(e){var r=this;return e.$$is_string&&g.$raise(a("TypeError"),"type mismatch: String given"),e["$=~"](r)},1),l(E,"$[]",function(e,r){var t,n,$=this,s=$.length;if(e.$$is_range)return t=e.excl,n=e,r=e.end===i?-1:o(e.end,a("Integer"),"to_int"),e=e.begin===i?0:o(e.begin,a("Integer"),"to_int"),Math.abs(e)>s?i:(e<0&&(e+=s),r<0&&(r+=s),t&&n.end!==i||(r+=1),(r-=e)<0&&(r=0),$.$$cast($.substr(e,r)));if(e.$$is_string)return null!=r&&g.$raise(a("TypeError")),-1!==$.indexOf(e)?$.$$cast(e):i;if(e.$$is_regexp){var u=$.match(e);return null===u?(v["~"]=i,i):(v["~"]=a("MatchData").$new(e,u),null==r?$.$$cast(u[0]):(r=o(r,a("Integer"),"to_int"))<0&&-r<u.length?$.$$cast(u[r+=u.length]):r>=0&&r<u.length?$.$$cast(u[r]):i)}return(e=o(e,a("Integer"),"to_int"))<0&&(e+=s),null==r?e>=s||e<0?i:$.$$cast($.substr(e,1)):(r=o(r,a("Integer"),"to_int"))<0?i:e>s||e<0?i:$.$$cast($.substr(e,r))},-2),l(E,"$b",function(){return new String(this).$force_encoding("binary")},0),l(E,"$capitalize",function(){var e=this;return e.$$cast(e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())},0),l(E,"$casecmp",function(e){var r=this;if(!m(e["$respond_to?"]("to_str")))return i;e=o(e,a("String"),"to_str").$to_s();var t=/^[\x00-\x7F]*$/;return t.test(r)&&t.test(e)&&(r=r.toLowerCase(),e=e.toLowerCase()),r["$<=>"](e)},1),l(E,"$casecmp?",function(e){var r=this.$casecmp(e);return r===i?i:0===r},1),l(E,"$center",function(e,r){var t=this;if(null==r&&(r=" "),e=o(e,a("Integer"),"to_int"),r=o(r,a("String"),"to_str").$to_s(),m(r["$empty?"]())&&g.$raise(a("ArgumentError"),"zero width padding"),m(e<=t.length))return t;var n=t.$ljust(y(b(e,t.length),2).$ceil(),r),i=t.$rjust(y(b(e,t.length),2).$floor(),r);return t.$$cast(i+n.slice(t.length))},-2),l(E,"$chomp",function(e){var r,t=this;if(null==v["/"]&&(v["/"]=i),null==e&&(e=v["/"]),m(e===i||0===t.length))return t;if("\n"===(e=c["$coerce_to!"](e,a("String"),"to_str").$to_s()))r=t.replace(/\r?\n?$/,"");else if(""===e)r=t.replace(/(\r?\n)+$/,"");else if(t.length>=e.length){t.substr(t.length-e.length,e.length)===e&&(r=t.substr(0,t.length-e.length))}return null!=r?t.$$cast(r):t},-1),l(E,"$chop",function(){var e,r=this,t=r.length;return e=t<=1?"":"\n"===r.charAt(t-1)&&"\r"===r.charAt(t-2)?r.substr(0,t-2):r.substr(0,t-1),r.$$cast(e)},0),l(E,"$chr",function(){return this.charAt(0)},0),l(E,"$clone",function(){var e=this,r=i;return(r=new String(e)).$copy_singleton_methods(e),r.$initialize_clone(e),r},0),l(E,"$dup",function(){var e=this,r=i;return(r=new String(e)).$initialize_dup(e),r},0),l(E,"$count",function(){var r,t=this;0===(r=e.slice.call(arguments)).length&&g.$raise(a("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var i=n(r);return null===i?0:t.length-t.replace(new RegExp(i,"g"),"").length},-1),l(E,"$delete",function(){var r,t=this;0===(r=e.slice.call(arguments)).length&&g.$raise(a("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var i=n(r);return null===i?t:t.$$cast(t.replace(new RegExp(i,"g"),""))},-1),l(E,"$delete_prefix",function(e){var r=this;return e.$$is_string||(e=o(e,a("String"),"to_str")),r.slice(0,e.length)===e?r.$$cast(r.slice(e.length)):r},1),l(E,"$delete_suffix",function(e){var r=this;return e.$$is_string||(e=o(e,a("String"),"to_str")),r.slice(r.length-e.length)===e?r.$$cast(r.slice(0,r.length-e.length)):r},1),l(E,"$downcase",function(){var e=this;return e.$$cast(e.toLowerCase())},0),l(E,"$each_line",function A(){var r,t,n,$,s,u,l,c,f,d,h,p,g=A.$$p||i,m=this;if(null==v["/"]&&(v["/"]=i),delete A.$$p,r=e.slice.call(arguments),null==(t=e.extract_kwargs(r)))t=_([],{});else if(!t.$$is_hash)throw e.ArgumentError.$new("expected kwargs");if(r.length>0&&(n=r.shift()),null==n&&(n=v["/"]),null==($=t.$$smap.chomp)&&($=!1),g===i)return m.$enum_for("each_line",n,_(["chomp"],{chomp:$}));if(n===i)return e.yield1(g,m),m;if(0===(n=o(n,a("String"),"to_str")).length){for(u=0,l=(s=m.split(/((?:\r?\n){2})(?:(?:\r?\n)*)/)).length;u<l;u+=2)(s[u]||s[u+1])&&(p=(s[u]||"")+(s[u+1]||""),$&&(p=p.$chomp("\n")),e.yield1(g,p));return m}for(f=m.$chomp(n),d=m.length!=f.length,u=0,c=(h=f.split(n)).length;u<c;u++)p=h[u],(u<c-1||d)&&(p+=n),$&&(p=p.$chomp(n)),e.yield1(g,p);return m},-1),l(E,"$empty?",function(){return 0===this.length},0),l(E,"$end_with?",function(){for(var r,t=this,n=0,i=(r=e.slice.call(arguments)).length;n<i;n++){var $=o(r[n],a("String"),"to_str").$to_s();if(t.length>=$.length&&t.substr(t.length-$.length,$.length)==$)return!0}return!1},-1),l(E,"$gsub",function I(e,r){var t=I.$$p||i,n=this;if(delete I.$$p,r===undefined&&t===i)return n.$enum_for("gsub",e);var $,u,l,c="",f=i,d=0;for(e.$$is_regexp?e=s(e):(e=o(e,a("String"),"to_str"),e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));;){if(null===($=e.exec(n))){v["~"]=i,c+=n.slice(d);break}f=a("MatchData").$new(e,$),r===undefined?(l=e.lastIndex,u=t($[0]),e.lastIndex=l):r.$$is_hash?u=r["$[]"]($[0]).$to_s():(r.$$is_string||(r=o(r,a("String"),"to_str")),u=r.replace(/([\\]+)([0-9+&`'])/g,function(e,r,t){if(r.length%2==0)return e;switch(t){case"+":for(var i=$.length-1;i>0;i--)if($[i]!==undefined)return r.slice(1)+$[i];return"";case"&":return r.slice(1)+$[0];case"`":return r.slice(1)+n.slice(0,$.index);case"'":return r.slice(1)+n.slice($.index+$[0].length);default:return r.slice(1)+($[t]||"")}}).replace(/\\\\/g,"\\")),e.lastIndex===$.index?(c+=n.slice(d,$.index)+u+(n[$.index]||""),e.lastIndex+=1):c+=n.slice(d,$.index)+u,d=e.lastIndex}return v["~"]=f,n.$$cast(c)},-2),l(E,"$hash",function(){return this.toString()},0),l(E,"$hex",function(){return this.$to_i(16)},0),l(E,"$include?",function(e){var r=this;return e.$$is_string||(e=o(e,a("String"),"to_str")),-1!==r.indexOf(e)},1),l(E,"$index",function(e,r){var t,n,$,u=this;if(r===undefined)r=0;else if((r=o(r,a("Integer"),"to_int"))<0&&(r+=u.length)<0)return i;if(e.$$is_regexp)for($=s(e);;){if(null===(n=$.exec(u))){v["~"]=i,t=-1;break}if(n.index>=r){v["~"]=a("MatchData").$new($,n),t=n.index;break}$.lastIndex=n.index+1}else t=0===(e=o(e,a("String"),"to_str")).length&&r>u.length?-1:u.indexOf(e,r);return-1===t?i:t},-2),l(E,"$inspect",function(){var e=this,r=/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,t={"\x07":"\\a","\x1b":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+e.replace(r,function(r){return t[r]?t[r]:(r=r.charCodeAt(0))<=255&&(e.encoding["$binary?"]()||e.internal_encoding["$binary?"]())?"\\x"+("00"+r.toString(16).toUpperCase()).slice(-2):"\\u"+("0000"+r.toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+'"'},0),l(E,"$intern",function(){return this.toString()},0),l(E,"$lines",function O(){var r,t,n,a,o=O.$$p||i,$=this,s=i;if(null==v["/"]&&(v["/"]=i),delete O.$$p,r=e.slice.call(arguments),null==(t=e.extract_kwargs(r)))t=_([],{});else if(!t.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return r.length>0&&(n=r.shift()),null==n&&(n=v["/"]),null==(a=t.$$smap.chomp)&&(a=!1),s=d($,"each_line",[n,_(["chomp"],{chomp:a})],o.$to_proc()),m(o)?$:s.$to_a()},-1),l(E,"$ljust",function(e,r){var t=this;if(null==r&&(r=" "),e=o(e,a("Integer"),"to_int"),r=o(r,a("String"),"to_str").$to_s(),m(r["$empty?"]())&&g.$raise(a("ArgumentError"),"zero width padding"),m(e<=t.length))return t;var n=-1,i="";for(e-=t.length;++n<e;)i+=r;return t.$$cast(t+i.slice(0,e))},-2),l(E,"$lstrip",function(){return this.replace(/^[\u0000\s]*/,"")},0),l(E,"$ascii_only?",function(){var e=this;return!!e.encoding.ascii&&/^[\x00-\x7F]*$/.test(e)},0),l(E,"$match",function S(e,r){var t=S.$$p||i,n=this;return delete S.$$p,(p(k("String"),e)||m(e["$respond_to?"]("to_str")))&&(e=a("Regexp").$new(e.$to_str())),p(a("Regexp"),e)||g.$raise(a("TypeError"),"wrong argument type "+e.$class()+" (expected Regexp)"),d(e,"match",[n,r],t.$to_proc())},-2),l(E,"$match?",function(e,r){var t=this;return(p(k("String"),e)||m(e["$respond_to?"]("to_str")))&&(e=a("Regexp").$new(e.$to_str())),p(a("Regexp"),e)||g.$raise(a("TypeError"),"wrong argument type "+e.$class()+" (expected Regexp)"),e["$match?"](t,r)},-2),l(E,"$next",function(){var e=this,r=e.length;if(0===r)return e.$$cast("");for(var t,n=e,i=e.search(/[a-zA-Z0-9]/),a=!1;r--;){if((t=e.charCodeAt(r))>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122)switch(t){case 57:a=!0,t=48;break;case 90:a=!0,t=65;break;case 122:a=!0,t=97;break;default:a=!1,t+=1}else-1===i?255===t?(a=!0,t=0):(a=!1,t+=1):a=!0;if(n=n.slice(0,r)+String.fromCharCode(t)+n.slice(r+1),a&&(0===r||r===i)){switch(t){case 65:case 97:break;default:t+=1}n=0===r?String.fromCharCode(t)+n:n.slice(0,r)+String.fromCharCode(t)+n.slice(r),a=!1}if(!a)break}return e.$$cast(n)},0),l(E,"$oct",function(){var e,r=this,t=8;return/^\s*_/.test(r)?0:(r=r.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(e,r,n,i){switch(i.charAt(0)){case"+":case"-":return e;case"0":if("x"===i.charAt(1)&&"0x"===n)return e}switch(n){case"0b":t=2;break;case"0":case"0o":t=8;break;case"0d":t=10;break;case"0x":t=16}return r+i}),e=parseInt(r.replace(/_(?!_)/g,""),t),isNaN(e)?0:e)},0),l(E,"$ord",function(){var e=this;return"function"==typeof e.codePointAt?e.codePointAt(0):e.charCodeAt(0)},0),l(E,"$partition",function(e){var r,t,n=this;return e.$$is_regexp?null===(t=e.exec(n))?r=-1:(a("MatchData").$new(e,t),e=t[0],r=t.index):(e=o(e,a("String"),"to_str"),r=n.indexOf(e)),-1===r?[n,"",""]:[n.slice(0,r),n.slice(r,r+e.length),n.slice(r+e.length)]},1),l(E,"$reverse",function(){return this.split("").reverse().join("")},0),l(E,"$rindex",function(e,r){var t,n,$,u,l=this;if(r===undefined)r=l.length;else if((r=o(r,a("Integer"),"to_int"))<0&&(r+=l.length)<0)return i;if(e.$$is_regexp){for(n=null,$=s(e);!(null===(u=$.exec(l))||u.index>r);)n=u,$.lastIndex=n.index+1;null===n?(v["~"]=i,t=-1):(a("MatchData").$new($,n),t=n.index)}else e=o(e,a("String"),"to_str"),t=l.lastIndexOf(e,r);return-1===t?i:t},-2),l(E,"$rjust",function(e,r){var t=this;if(null==r&&(r=" "),e=o(e,a("Integer"),"to_int"),r=o(r,a("String"),"to_str").$to_s(),m(r["$empty?"]())&&g.$raise(a("ArgumentError"),"zero width padding"),m(e<=t.length))return t;var n=Math.floor(e-t.length),i=Math.floor(n/r.length),$=Array(i+1).join(r),s=n-$.length;return t.$$cast($+r.slice(0,s)+t)},-2),l(E,"$rpartition",function(e){var r,t,n,i,$=this;if(e.$$is_regexp){for(t=null,n=s(e);null!==(i=n.exec($));)t=i,n.lastIndex=t.index+1
;null===t?r=-1:(a("MatchData").$new(n,t),e=t[0],r=t.index)}else e=o(e,a("String"),"to_str"),r=$.lastIndexOf(e);return-1===r?["","",$]:[$.slice(0,r),$.slice(r,r+e.length),$.slice(r+e.length)]},1),l(E,"$rstrip",function(){return this.replace(/[\s\u0000]*$/,"")},0),l(E,"$scan",function N(r,t){var n,$=N.$$p||i,u=this;if(delete N.$$p,null==t)t=_([],{});else if(!t.$$is_hash)throw e.ArgumentError.$new("expected kwargs");null==(n=t.$$smap.no_matchdata)&&(n=!1);var l,c=[],f=i;for(r.$$is_regexp?r=s(r):(r=o(r,a("String"),"to_str"),r=new RegExp(r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));null!=(l=r.exec(u));)f=a("MatchData").$new(r,l,_(["no_matchdata"],{no_matchdata:n})),$===i?1==l.length?c.push(l[0]):c.push(f.$captures()):1==l.length?e.yield1($,l[0]):e.yield1($,f.$captures()),r.lastIndex===l.index&&(r.lastIndex+=1);return n||(v["~"]=f),$!==i?u:c},-2),l(E,"$singleton_class",function(){var r=this;return e.get_singleton_class(r)},0),l(E,"$split",function(e,r){function t(){for(l=0;l<d.length;l++)d[l]=n.$$cast(d[l])}var n=this,$=i;if(null==v[";"]&&(v[";"]=i),0===n.length)return[];if(r===undefined)r=0;else if(1===(r=c["$coerce_to!"](r,a("Integer"),"to_int")))return[n];e!==undefined&&e!==i||(e=m($=v[";"])?$:" ");var u,l,f,d=[],h=n.toString(),_=0;if(e.$$is_regexp?e=s(e):" "===(e=o(e,a("String"),"to_str").$to_s())?(e=/\s+/gm,h=h.replace(/^\s+/,"")):e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"),1===(d=h.split(e)).length&&d[0]===h)return[n.$$cast(d[0])];for(;-1!==(l=d.indexOf(undefined));)d.splice(l,1);if(0===r){for(;""===d[d.length-1];)d.length-=1;return t(),d}if(u=e.exec(h),r<0){if(null!==u&&""===u[0]&&-1===e.source.indexOf("(?="))for(l=0,f=u.length;l<f;l++)d.push("");return t(),d}if(null!==u&&""===u[0])return d.splice(r-1,d.length-1,d.slice(r-1).join("")),t(),d;if(r>=d.length)return t(),d;for(l=0;null!==u&&(l++,_=e.lastIndex,l+1!==r);)u=e.exec(h);return d.splice(r-1,d.length-1,h.slice(_)),t(),d},-1),l(E,"$squeeze",function(){var r,t=this;if(0===(r=e.slice.call(arguments)).length)return t.$$cast(t.replace(/(.)\1+/g,"$1"));var i=n(r);return null===i?t:t.$$cast(t.replace(new RegExp("("+i+")\\1+","g"),"$1"))},-1),l(E,"$start_with?",function(){for(var r,t=this,n=0,$=(r=e.slice.call(arguments)).length;n<$;n++)if(r[n].$$is_regexp){var s=r[n],u=s.exec(t);if(null!=u&&0===u.index)return v["~"]=a("MatchData").$new(s,u),!0;v["~"]=i}else{var l=o(r[n],a("String"),"to_str").$to_s();if(0===t.indexOf(l))return!0}return!1},-1),l(E,"$strip",function(){return this.replace(/^[\s\u0000]*|[\s\u0000]*$/g,"")},0),l(E,"$sub",function z(e,r){var t=z.$$p||i,n=this;delete z.$$p,e.$$is_regexp||(e=o(e,a("String"),"to_str"),e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var $,s=e.exec(n);return null===s?(v["~"]=i,$=n.toString()):(a("MatchData").$new(e,s),r===undefined?(t===i&&g.$raise(a("ArgumentError"),"wrong number of arguments (1 for 2)"),$=n.slice(0,s.index)+t(s[0])+n.slice(s.index+s[0].length)):r.$$is_hash?$=n.slice(0,s.index)+r["$[]"](s[0]).$to_s()+n.slice(s.index+s[0].length):(r=(r=o(r,a("String"),"to_str")).replace(/([\\]+)([0-9+&`'])/g,function(e,r,t){if(r.length%2==0)return e;switch(t){case"+":for(var i=s.length-1;i>0;i--)if(s[i]!==undefined)return r.slice(1)+s[i];return"";case"&":return r.slice(1)+s[0];case"`":return r.slice(1)+n.slice(0,s.index);case"'":return r.slice(1)+n.slice(s.index+s[0].length);default:return r.slice(1)+(s[t]||"")}}).replace(/\\\\/g,"\\"),$=n.slice(0,s.index)+r+n.slice(s.index+s[0].length))),n.$$cast($)},-2),l(E,"$sum",function(e){var r=this;null==e&&(e=16),e=o(e,a("Integer"),"to_int");for(var t=0,n=r.length,i=0;i<n;i++)t+=r.charCodeAt(i);return e<=0?t:t&Math.pow(2,e)-1},-1),l(E,"$swapcase",function(){var e=this,r=e.replace(/([a-z]+)|([A-Z]+)/g,function(e,r){return r?e.toUpperCase():e.toLowerCase()});return e.constructor===String?r:e.$class().$new(r)},0),l(E,"$to_f",function(){var e=this;if("_"===e.charAt(0))return 0;var r=parseFloat(e.replace(/_/g,""));return isNaN(r)||r==Infinity||r==-Infinity?0:r},0),l(E,"$to_i",function(e){null==e&&(e=10);var r,t=this.toLowerCase(),n=o(e,a("Integer"),"to_int");return(1===n||n<0||n>36)&&g.$raise(a("ArgumentError"),"invalid radix "+n),/^\s*_/.test(t)?0:(t=t.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(e,r,t,i){switch(i.charAt(0)){case"+":case"-":return e;case"0":if("x"===i.charAt(1)&&"0x"===t&&(0===n||16===n))return e}switch(t){case"0b":if(0===n||2===n)return n=2,r+i;break;case"0":case"0o":if(0===n||8===n)return n=8,r+i;break;case"0d":if(0===n||10===n)return n=10,r+i;break;case"0x":if(0===n||16===n)return n=16,r+i}return e}),r=parseInt(t.replace(/_(?!_)/g,""),n),isNaN(r)?0:r)},-1),l(E,"$to_proc",function q(){q.$$p;var r=this,t=i;return delete q.$$p,t=b("$",r.valueOf()),d(g,"proc",[],function n(){var r,o=n.$$p||i;delete n.$$p,0===(r=e.slice.call(arguments)).length&&g.$raise(a("ArgumentError"),"no receiver given");var $=r[0];null==$&&($=i);var s=$[t];return s?("function"==typeof o&&(s.$$p=o),1===r.length?s.call($):s.apply($,r.slice(1))):$.$method_missing.apply($,r)},-1)},0),l(E,"$to_s",function(){return this.toString()},0),l(E,"$tr",function(e,r){var t,n,i,$,s,u,l,c=this;if(e=o(e,a("String"),"to_str").$to_s(),r=o(r,a("String"),"to_str").$to_s(),0==e.length||e===r)return c;var f={},d=e.split(""),h=d.length,_=r.split(""),p=_.length,m=!1,v=null;"^"===d[0]&&d.length>1&&(m=!0,d.shift(),v=_[p-1],h-=1);var y=[],b=null;for(n=!1,t=0;t<h;t++)if($=d[t],null==b)b=$,y.push($);else if("-"===$)"-"===b?(y.push("-"),y.push("-")):t==h-1?y.push("-"):n=!0;else if(n){for((s=b.charCodeAt(0))>(u=$.charCodeAt(0))&&g.$raise(a("ArgumentError"),'invalid range "'+String.fromCharCode(s)+"-"+String.fromCharCode(u)+'" in string transliteration'),i=s+1;i<u;i++)y.push(String.fromCharCode(i));y.push($),n=null,b=null}else y.push($);if(h=(d=y).length,m)for(t=0;t<h;t++)f[d[t]]=!0;else{if(p>0){var w=[],E=null;for(n=!1,t=0;t<p;t++)if($=_[t],null==E)E=$,w.push($);else if("-"===$)"-"===E?(w.push("-"),w.push("-")):t==p-1?w.push("-"):n=!0;else if(n){for((s=E.charCodeAt(0))>(u=$.charCodeAt(0))&&g.$raise(a("ArgumentError"),'invalid range "'+String.fromCharCode(s)+"-"+String.fromCharCode(u)+'" in string transliteration'),i=s+1;i<u;i++)w.push(String.fromCharCode(i));w.push($),n=null,E=null}else w.push($);p=(_=w).length}var x=h-p;if(x>0){var k=p>0?_[p-1]:"";for(t=0;t<x;t++)_.push(k)}for(t=0;t<h;t++)f[d[t]]=_[t]}var A="";for(t=0,l=c.length;t<l;t++){var I=f[$=c.charAt(t)];A+=m?null==I?v:$:null!=I?I:$}return c.$$cast(A)},2),l(E,"$tr_s",function(e,r){var t,n,i,$,s,u,l,c=this;if(e=o(e,a("String"),"to_str").$to_s(),r=o(r,a("String"),"to_str").$to_s(),0==e.length)return c;var f={},d=e.split(""),h=d.length,_=r.split(""),p=_.length,m=!1,v=null;"^"===d[0]&&d.length>1&&(m=!0,d.shift(),v=_[p-1],h-=1);var y=[],b=null;for(n=!1,t=0;t<h;t++)if($=d[t],null==b)b=$,y.push($);else if("-"===$)"-"===b?(y.push("-"),y.push("-")):t==h-1?y.push("-"):n=!0;else if(n){for((s=b.charCodeAt(0))>(u=$.charCodeAt(0))&&g.$raise(a("ArgumentError"),'invalid range "'+String.fromCharCode(s)+"-"+String.fromCharCode(u)+'" in string transliteration'),i=s+1;i<u;i++)y.push(String.fromCharCode(i));y.push($),n=null,b=null}else y.push($);if(h=(d=y).length,m)for(t=0;t<h;t++)f[d[t]]=!0;else{if(p>0){var w=[],E=null;for(n=!1,t=0;t<p;t++)if($=_[t],null==b)b=$,w.push($);else if("-"===$)"-"===E?(w.push("-"),w.push("-")):t==p-1?w.push("-"):n=!0;else if(n){for((s=b.charCodeAt(0))>(u=$.charCodeAt(0))&&g.$raise(a("ArgumentError"),'invalid range "'+String.fromCharCode(s)+"-"+String.fromCharCode(u)+'" in string transliteration'),i=s+1;i<u;i++)w.push(String.fromCharCode(i));w.push($),n=null,b=null}else w.push($);p=(_=w).length}var x=h-p;if(x>0){var k=p>0?_[p-1]:"";for(t=0;t<x;t++)_.push(k)}for(t=0;t<h;t++)f[d[t]]=_[t]}var A="",I=null;for(t=0,l=c.length;t<l;t++){var O=f[$=c.charAt(t)];m?null==O?null==I&&(A+=v,I=!0):(A+=$,I=null):null!=O?null!=I&&I===O||(A+=O,I=O):(A+=$,I=null)}return c.$$cast(A)},2),l(E,"$upcase",function(){var e=this;return e.$$cast(e.toUpperCase())},0),l(E,"$upto",function j(e,r){var t=j.$$p||i,n=this;if(delete j.$$p,null==r&&(r=!1),t===i)return n.$enum_for("upto",e,r);var $,s,u=n.toString();if(e=o(e,a("String"),"to_str"),1===u.length&&1===e.length)for($=u.charCodeAt(0),s=e.charCodeAt(0);$<=s&&(!r||$!==s);)t(String.fromCharCode($)),$+=1;else if(parseInt(u,10).toString()===u&&parseInt(e,10).toString()===e)for($=parseInt(u,10),s=parseInt(e,10);$<=s&&(!r||$!==s);)t($.toString()),$+=1;else for(;u.length<=e.length&&u<=e&&(!r||u!==e);)t(u),u=u.$succ();return n},-2),l(E,"$instance_variables",function(){return[]},0),f(E,"$_load",function(){var r,t=this;return r=e.slice.call(arguments),d(t,"new",h(r))},-1),l(E,"$unicode_normalize",function(e){var r=this;return null==e&&(e="nfc"),m(["nfc","nfd","nfkc","nfkd"]["$include?"](e))||g.$raise(a("ArgumentError"),"Invalid normalization form "+e),r.normalize(e.$upcase())},-1),l(E,"$unicode_normalized?",function(e){var r=this;return null==e&&(e="nfc"),r.$unicode_normalize(e)["$=="](r)},-1),l(E,"$unpack",function(){return g.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},1),l(E,"$unpack1",function(){return g.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},1),l(E,"$freeze",function(){var e=this;return"string"==typeof e?e:(e.$$frozen=!0,e)},0),l(E,"$-@",function(){var e=this;return"string"==typeof e?e:!0===e.$$frozen?e:"UTF-8"==e.encoding.name&&"UTF-8"==e.internal_encoding.name?e.toString():e.$dup().$freeze()},0),l(E,"$frozen?",function(){var e=this;return"string"==typeof e||!0===e.$$frozen},0),w(E,"+@","dup"),w(E,"===","=="),w(E,"byteslice","[]"),w(E,"eql?","=="),w(E,"equal?","==="),w(E,"object_id","__id__"),w(E,"slice","[]"),w(E,"succ","next"),w(E,"to_str","to_s"),w(E,"to_sym","intern"),c.$pristine(E,"initialize")}(0,String,t),E(t[0],"Symbol",n("String"))},Opal.modules["corelib/enumerable"]=function(e){var r=e.nil,t=e.$$$,n=e.truthy,i=e.coerce_to,a=e.yield1,o=e.yieldX,$=e.module,s=e.send,u=e.to_a,l=e.Opal,c=e.def,f=e.Kernel,d=e.rb_gt,h=e.rb_times,_=e.rb_lt,p=e.eqeq,g=e.rb_plus,m=e.rb_minus,v=e.rb_divide,y=e.rb_le,b=e.hash2,w=e.lambda,E=e.not,x=e.alias;return e.add_stubs("each,public_send,destructure,to_enum,enumerator_size,new,yield,raise,slice_when,!,enum_for,flatten,map,compact,to_a,warn,proc,==,nil?,respond_to?,coerce_to!,>,*,try_convert,<,+,-,ceil,/,size,select,to_proc,__send__,length,<=,[],push,<<,[]=,===,inspect,<=>,first,reverse,sort,take,sort_by,compare,call,dup,sort!,map!,include?,-@,key?,values,transform_values,group_by,fetch,to_h,coerce_to?,class,zip"),function(){function k(e){return 0===e.length&&(e=[r]),e.length>1&&(e=[e]),e}var A=$("::","Enumerable");return c(A,"$all?",function I(t){try{var i=I.$$p||r,a=this;return delete I.$$p,n(t!==undefined)?s(a,"each",[],function(){var i=r;if(i=k(e.slice.call(arguments)),n(s(t,"public_send",["==="].concat(u(i)))))return r;e.ret(!1)},-1):s(a,"each",[],i!==r?function(){var t;if(t=e.slice.call(arguments),n(e.yieldX(i,u(t))))return r;e.ret(!1)}:function(){var t;if(t=e.slice.call(arguments),n(l.$destructure(t)))return r;e.ret(!1)},-1),!0}catch(o){if(o===e.returner)return o.$v;throw o}},-1),c(A,"$any?",function O(t){try{var i=O.$$p||r,a=this;return delete O.$$p,n(t!==undefined)?s(a,"each",[],function(){var i=r;if(i=k(e.slice.call(arguments)),!n(s(t,"public_send",["==="].concat(u(i)))))return r;e.ret(!0)},-1):s(a,"each",[],i!==r?function(){var t;if(t=e.slice.call(arguments),!n(e.yieldX(i,u(t))))return r;e.ret(!0)}:function(){var t;if(t=e.slice.call(arguments),!n(l.$destructure(t)))return r;e.ret(!0)},-1),!1}catch(o){if(o===e.returner)return o.$v;throw o}},-1),c(A,"$chunk",function S(){var e=S.$$p||r,n=this;return delete S.$$p,e===r?s(n,"to_enum",["chunk"],function i(){return(null==i.$$s?this:i.$$s).$enumerator_size()},{$$arity:0,$$s:n}):s(t("Enumerator"),"new",[],function o(t){function n(){s.length>0&&t.$yield($,s)}var i=null==o.$$s?this:o.$$s;null==t&&(t=r);var $=r,s=[];i.$each.$$p=function(t){var i=a(e,t);i===r?(n(),s=[],$=r):($===r||$===i?s.push(t):(n(),s=[t]),$=i)},i.$each(),n()},{$$arity:1,$$s:n})},0),c(A,"$chunk_while",function N(){var n=N.$$p||r,i=this;return delete N.$$p,n===r&&f.$raise(t("ArgumentError"),"no block given"),s(i,"slice_when",[],function(t,i){return null==t&&(t=r),null==i&&(i=r),e.yieldX(n,[t,i])["$!"]()},2)},0),c(A,"$collect",function z(){var e=z.$$p||r,t=this;if(delete z.$$p,e===r)return s(t,"enum_for",["collect"],function i(){return(null==i.$$s?this:i.$$s).$enumerator_size()},{$$arity:0,$$s:t});var n=[];return t.$each.$$p=function(){var r=o(e,arguments);n.push(r)},t.$each(),n},0),c(A,"$collect_concat",function q(){var t=q.$$p||r,n=this;return delete q.$$p,t===r?s(n,"enum_for",["collect_concat"],function i(){return(null==i.$$s?this:i.$$s).$enumerator_size()},{$$arity:0,$$s:n}):s(n,"map",[],function(n){return null==n&&(n=r),e.yield1(t,n)},1).$flatten(1)},0),c(A,"$compact",function(){return this.$to_a().$compact()},0),c(A,"$count",function j(t){var i=j.$$p||r,a=this,$=r;return delete j.$$p,$=0,null!=t&&i!==r&&a.$warn("warning: given block not used"),n(null!=t)?i=s(f,"proc",[],function(){var r;return r=e.slice.call(arguments),l.$destructure(r)["$=="](t)},-1):n(i["$nil?"]())&&(i=s(f,"proc",[],function(){return!0},0)),s(a,"each",[],function(){var t;return t=e.slice.call(arguments),n(o(i,t))?$++:r},-1),$},-1),c(A,"$cycle",function M(e){var i=M.$$p||r,o=this;if(delete M.$$p,null==e&&(e=r),i===r)return s(o,"enum_for",["cycle",e],function f(){var i=null==f.$$s?this:f.$$s;return n(e["$nil?"]())?n(i["$respond_to?"]("size"))?t(t("Float"),"INFINITY"):r:(e=l["$coerce_to!"](e,t("Integer"),"to_int"),n(d(e,0))?h(i.$enumerator_size(),e):0)},{$$arity:0,$$s:o});if(!n(e["$nil?"]())&&(e=l["$coerce_to!"](e,t("Integer"),"to_int"),n(e<=0)))return r;var $,u,c=[];if(o.$each.$$p=function(){var e=l.$destructure(arguments);a(i,e);c.push(e)},o.$each(),0===c.length)return r;if(e===r)for(;;)for($=0,u=c.length;$<u;$++)a(i,c[$]);else for(;e>1;){for($=0,u=c.length;$<u;$++)a(i,c[$]);e--}},-1),c(A,"$detect",function R(t){try{var i=R.$$p||r,a=this;return delete R.$$p,i===r?a.$enum_for("detect",t):(s(a,"each",[],function(){var t,a=r;if(t=e.slice.call(arguments),a=l.$destructure(t),!n(e.yield1(i,a)))return r;e.ret(a)},-1),t!==undefined?"function"==typeof t?t():t:r)}catch(o){if(o===e.returner)return o.$v;throw o}},-1),c(A,"$drop",function(e){var r=this;e=i(e,t("Integer"),"to_int"),n(e<0)&&f.$raise(t("ArgumentError"),"attempt to drop negative size");var a=[],o=0;return r.$each.$$p=function(){e<=o&&a.push(l.$destructure(arguments)),o++},r.$each(),a},1),c(A,"$drop_while",function T(){var e=T.$$p||r,t=this;if(delete T.$$p,e===r)return t.$enum_for("drop_while");var i=[],o=!0;return t.$each.$$p=function(){var r=l.$destructure(arguments);if(o){var t=a(e,r);n(t)||(o=!1,i.push(r))}else i.push(r)},t.$each(),i},0),c(A,"$each_cons",function C(e){var i=C.$$p||r,o=this;if(delete C.$$p,n(1!=arguments.length)&&f.$raise(t("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),e=l.$try_convert(e,t("Integer"),"to_int"),n(e<=0)&&f.$raise(t("ArgumentError"),"invalid size"),i===r)return s(o,"enum_for",["each_cons",e],function u(){var t=null==u.$$s?this:u.$$s,i=r;return i=t.$enumerator_size(),n(i["$nil?"]())?r:p(i,0)||n(_(i,e))?0:g(m(i,e),1)},{$$arity:0,$$s:o});var $=[];return o.$each.$$p=function(){var r=l.$destructure(arguments);$.push(r),$.length>e&&$.shift(),$.length==e&&a(i,$.slice(0,e))},o.$each(),o},1),c(A,"$each_entry",function F(){var t,n=F.$$p||r,i=this;return delete F.$$p,t=e.slice.call(arguments),n===r?s(i,"to_enum",["each_entry"].concat(u(t)),function o(){return(null==o.$$s?this:o.$$s).$enumerator_size()},{$$arity:0,$$s:i}):(i.$each.$$p=function(){var e=l.$destructure(arguments);a(n,e)},i.$each.apply(i,t),i)},-1),c(A,"$each_slice",function P(e){var o=P.$$p||r,$=this;if(delete P.$$p,e=i(e,t("Integer"),"to_int"),n(e<=0)&&f.$raise(t("ArgumentError"),"invalid slice size"),o===r)return s($,"enum_for",["each_slice",e],function c(){var t=null==c.$$s?this:c.$$s;return n(t["$respond_to?"]("size"))?v(t.$size(),e).$ceil():r},{$$arity:0,$$s:$});var u=[];return $.$each.$$p=function(){var r=l.$destructure(arguments);u.push(r),u.length===e&&(a(o,u),u=[])},$.$each(),u.length>0&&a(o,u),$},1),c(A,"$each_with_index",function D(){var t,n=D.$$p||r,i=this;if(delete D.$$p,t=e.slice.call(arguments),n===r)return s(i,"enum_for",["each_with_index"].concat(u(t)),function o(){return(null==o.$$s?this:o.$$s).$enumerator_size()},{$$arity:0,$$s:i});var a=0;return i.$each.$$p=function(){var e=l.$destructure(arguments);n(e,a),a++},i.$each.apply(i,t),i},-1),c(A,"$each_with_object",function L(e){var t=L.$$p||r,n=this;return delete L.$$p,t===r?s(n,"enum_for",["each_with_object",e],function i(){return(null==i.$$s?this:i.$$s).$enumerator_size()},{$$arity:0,$$s:n}):(n.$each.$$p=function(){var r=l.$destructure(arguments);t(r,e)},n.$each(),e)},1),c(A,"$entries",function(){var r,t=this;r=e.slice.call(arguments);var n=[];return t.$each.$$p=function(){n.push(l.$destructure(arguments))},t.$each.apply(t,r),n},-1),c(A,"$filter_map",function U(){var e=U.$$p||r,t=this;return delete U.$$p,e===r?s(t,"enum_for",["filter_map"],function n(){return(null==n.$$s?this:n.$$s).$enumerator_size()},{$$arity:0,$$s:t}):s(s(t,"map",[],e.$to_proc()),"select",[],"itself".$to_proc())},0),c(A,"$find_all",function B(){var e=B.$$p||r,t=this;if(delete B.$$p,e===r)return s(t,"enum_for",["find_all"],function o(){return(null==o.$$s?this:o.$$s).$enumerator_size()},{$$arity:0,$$s:t});var i=[];return t.$each.$$p=function(){var r=l.$destructure(arguments),t=a(e,r);n(t)&&i.push(r)},t.$each(),i},0),c(A,"$find_index",function K(t){try{var i=K.$$p||r,a=this,o=r;return delete K.$$p,n(t===undefined&&i===r)?a.$enum_for("find_index"):(null!=t&&i!==r&&a.$warn("warning: given block not used"),o=0,n(null!=t)?s(a,"each",[],function(){var r;return r=e.slice.call(arguments),p(l.$destructure(r),t)&&e.ret(o),o+=1},-1):s(a,"each",[],function(){var r;return r=e.slice.call(arguments),n(e.yieldX(i,u(r)))&&e.ret(o),o+=1},-1),r)}catch($){if($===e.returner)return $.$v;throw $}},-1),c(A,"$first",function(a){try{var o=this,$=r,u=r;return n(a===undefined)?s(o,"each",[],function(t){null==t&&(t=r),e.ret(t)},1):($=[],a=i(a,t("Integer"),"to_int"),n(a<0)&&f.$raise(t("ArgumentError"),"attempt to take negative size"),n(0==a)?[]:(u=0,s(o,"each",[],function(){var t;if(t=e.slice.call(arguments),$.push(l.$destructure(t)),!n(a<=++u))return r;e.ret($)},-1),$))}catch(c){if(c===e.returner)return c.$v;throw c}},-1),c(A,"$grep",function H(t){var i=H.$$p||r,a=this,o=r;return delete H.$$p,o=[],s(a,"each",[],function(){var a,$=r;return $=k(a=e.slice.call(arguments)),n(s(t,"__send__",["==="].concat(u($))))?(i!==r?(n(d(a.$length(),1))&&(a=[a]),a=e.yieldX(i,u(a))):n(y(a.$length(),1))&&(a=a["$[]"](0)),o.$push(a)):r},-1),o},1),c(A,"$grep_v",function Y(t){var i=Y.$$p||r,a=this,o=r;return delete Y.$$p,o=[],s(a,"each",[],function(){var a,$=r;return $=k(a=e.slice.call(arguments)),n(s(t,"__send__",["==="].concat(u($))))?r:(i!==r?(n(d(a.$length(),1))&&(a=[a]),a=e.yieldX(i,u(a))):n(y(a.$length(),1))&&(a=a["$[]"](0)),o.$push(a))},-1),o},1),c(A,"$group_by",function G(){var e,t=G.$$p||r,i=this,o=r,$=r,c=r;return delete G.$$p,t===r?s(i,"enum_for",["group_by"],function f(){return(null==f.$$s?this:f.$$s).$enumerator_size()},{$$arity:0,$$s:i}):(o=b([],{}),i.$each.$$p=function(){var e=l.$destructure(arguments),r=a(t,e);(n($=o["$[]"](r))?$:(c=[r,[]],s(o,"[]=",u(c)),c[m(c.length,1)]))["$<<"](e)},i.$each(),e!==undefined?e:o)},0),c(A,"$include?",function(t){try{return s(this,"each",[],function(){var n;if(n=e.slice.call(arguments),!p(l.$destructure(n),t))return r;e.ret(!0)},-1),!1}catch(n){if(n===e.returner)return n.$v;throw n}},1),c(A,"$inject",function X(e,n){var i=X.$$p||r,a=this;delete X.$$p;var $=e;return i!==r&&n===undefined?a.$each.$$p=function(){var e=l.$destructure(arguments);$!==undefined?(e=o(i,[$,e]),$=e):$=e}:(n===undefined&&(t("Symbol")["$==="](e)||f.$raise(t("TypeError"),e.$inspect()+" is not a Symbol"),n=e,$=undefined),a.$each.$$p=function(){var e=l.$destructure(arguments);$=$!==undefined?$.$__send__(n,e):e}),a.$each(),$==undefined?r:$},-1),c(A,"$lazy",function(){var n=this;return s(t(t("Enumerator"),"Lazy"),"new",[n,n.$enumerator_size()],function(t){var n;return null==t&&(t=r),n=e.slice.call(arguments,1),s(t,"yield",u(n))},-2)},0),c(A,"$enumerator_size",function(){var e=this;return n(e["$respond_to?"]("size"))?e.$size():r},0),c(A,"$max",function J(e){var n,a,$=J.$$p||r,u=this;return delete J.$$p,e===undefined||e===r?(u.$each.$$p=function(){var e=l.$destructure(arguments);n!==undefined?((a=$!==r?o($,[e,n]):e["$<=>"](n))===r&&f.$raise(t("ArgumentError"),"comparison failed"),a>0&&(n=e)):n=e},u.$each(),n===undefined?r:n):(e=i(e,t("Integer"),"to_int"),s(u,"sort",[],$.$to_proc()).$reverse().$first(e))},-1),c(A,"$max_by",function W(e){var t,i,o=W.$$p||r,$=this;return delete W.$$p,null==e&&(e=r),n(o)?n(e["$nil?"]())?($.$each.$$p=function(){var e=l.$destructure(arguments),r=a(o,e);if(t===undefined)return t=e,void(i=r);r["$<=>"](i)>0&&(t=e,i=r)},$.$each(),t===undefined?r:t):s($,"sort_by",[],o.$to_proc()).$reverse().$take(e):s($,"enum_for",["max_by",e],function u(){return(null==u.$$s?this:u.$$s).$enumerator_size()},{$$arity:0,$$s:$})},-1),c(A,"$min",function Z(i){var a,o=Z.$$p||r,$=this;return delete Z.$$p,null==i&&(i=r),n(i["$nil?"]())?($.$each.$$p=o!==r?function(){var e=l.$destructure(arguments);if(a!==undefined){var n=o(e,a);n===r&&f.$raise(t("ArgumentError"),"comparison failed"),n<0&&(a=e)}else a=e}:function(){var e=l.$destructure(arguments);a!==undefined?l.$compare(e,a)<0&&(a=e):a=e},$.$each(),a===undefined?r:a):o!==r?s($,"sort",[],function(t,n){return null==t&&(t=r),null==n&&(n=r),e.yieldX(o,[t,n])},2).$take(i):$.$sort().$take(i)},-1),c(A,"$min_by",function V(e){var t,i,o=V.$$p||r,$=this;return delete V.$$p,null==e&&(e=r),n(o)?n(e["$nil?"]())?($.$each.$$p=function(){var e=l.$destructure(arguments),r=a(o,e);if(t===undefined)return t=e,void(i=r);r["$<=>"](i)<0&&(t=e,i=r)},$.$each(),t===undefined?r:t):s($,"sort_by",[],o.$to_proc()).$take(e):s($,"enum_for",["min_by",e],function u(){return(null==u.$$s?this:u.$$s).$enumerator_size()},{$$arity:0,$$s:$})},-1),c(A,"$minmax",function Q(){var e=Q.$$p||r,i=this,a=r;delete Q.$$p,e=n(a=e)?a:s(f,"proc",[],function(e,t){return null==e&&(e=r),null==t&&(t=r),e["$<=>"](t)},2);var o=r,$=r,u=!0;return i.$each.$$p=function(){var n=l.$destructure(arguments);if(u)o=$=n,u=!1;else{var i=e.$call(o,n);i===r?f.$raise(t("ArgumentError"),"comparison failed"):i>0&&(o=n);var a=e.$call($,n);a===r?f.$raise(t("ArgumentError"),"comparison failed"):a<0&&($=n)}},i.$each(),[o,$]},0),c(A,"$minmax_by",function ee(){var e=ee.$$p||r,t=this;if(delete ee.$$p,!n(e))return s(t,"enum_for",["minmax_by"],function c(){return(null==c.$$s?this:c.$$s).$enumerator_size()},{$$arity:0,$$s:t});var i,o,$=r,u=r;return t.$each.$$p=function(){var r=l.$destructure(arguments),t=a(e,r);(i===undefined||t["$<=>"](i)<0)&&($=r,i=t),(o===undefined||t["$<=>"](o)>0)&&(u=r,o=t)},t.$each(),[$,u]},0),c(A,"$none?",function re(t){try{var i=re.$$p||r,a=this;return delete re.$$p,n(t!==undefined)?s(a,"each",[],function(){var i=r;if(i=k(e.slice.call(arguments)),!n(s(t,"public_send",["==="].concat(u(i)))))return r;e.ret(!1)},-1):s(a,"each",[],i!==r?function(){var t;if(t=e.slice.call(arguments),!n(e.yieldX(i,u(t))))return r;e.ret(!1)}:function(){var t,i=r;if(t=e.slice.call(arguments),i=l.$destructure(t),!n(i))return r;e.ret(!1)},-1),!0}catch(o){if(o===e.returner)return o.$v;throw o}},-1),c(A,"$one?",function te(t){try{var i=te.$$p||r,a=this,o=r;return delete te.$$p,o=0,n(t!==undefined)?s(a,"each",[],function(){var i=r;return i=k(e.slice.call(arguments)),n(s(t,"public_send",["==="].concat(u(i))))?(o=g(o,1),n(d(o,1))?void e.ret(!1):r):r},-1):s(a,"each",[],i!==r?function(){var t;return t=e.slice.call(arguments),n(e.yieldX(i,u(t)))?(o=g(o,1),n(d(o,1))?void e.ret(!1):r):r}:function(){var t;return t=e.slice.call(arguments),n(l.$destructure(t))?(o=g(o,1),n(d(o,1))?void e.ret(!1):r):r},-1),o["$=="](1)}catch($){if($===e.returner)return $.$v;throw $}},-1),c(A,"$partition",function ne(){var e=ne.$$p||r,t=this;if(delete ne.$$p,e===r)return s(t,"enum_for",["partition"],function $(){return(null==$.$$s?this:$.$$s).$enumerator_size()},{$$arity:0,$$s:t});var i=[],o=[];return t.$each.$$p=function(){var r=l.$destructure(arguments),t=a(e,r);n(t)?i.push(r):o.push(r)},t.$each(),[i,o]},0),c(A,"$reject",function ie(){var e=ie.$$p||r,t=this;if(delete ie.$$p,e===r)return s(t,"enum_for",["reject"],function o(){return(null==o.$$s?this:o.$$s).$enumerator_size()},{$$arity:0,$$s:t});var i=[];return t.$each.$$p=function(){var r=l.$destructure(arguments),t=a(e,r);n(t)||i.push(r)},t.$each(),i},0),c(A,"$reverse_each",function ae(){var e=ae.$$p||r,t=this;if(delete ae.$$p,e===r)return s(t,"enum_for",["reverse_each"],function a(){return(null==a.$$s?this:a.$$s).$enumerator_size()},{$$arity:0,$$s:t});var n=[];t.$each.$$p=function(){n.push(arguments)},t.$each();for(var i=n.length-1;i>=0;i--)o(e,n[i]);return n},0),c(A,"$slice_before",function oe(e){var i=oe.$$p||r,o=this;return delete oe.$$p,n(e===undefined&&i===r)&&f.$raise(t("ArgumentError"),"both pattern and block are given"),n(e!==undefined&&i!==r||arguments.length>1)&&f.$raise(t("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),s(t("Enumerator"),"new",[],function $(t){var o=null==$.$$s?this:$.$$s;null==t&&(t=r);var s=[];i!==r?e===undefined?o.$each.$$p=function(){var e=l.$destructure(arguments),r=a(i,e);n(r)&&s.length>0&&(t["$<<"](s),s=[]),s.push(e)}:o.$each.$$p=function(){var r=l.$destructure(arguments),a=i(r,e.$dup());n(a)&&s.length>0&&(t["$<<"](s),s=[]),s.push(r)}:o.$each.$$p=function(){var r=l.$destructure(arguments),i=e["$==="](r);n(i)&&s.length>0&&(t["$<<"](s),s=[]),s.push(r)},o.$each(),s.length>0&&t["$<<"](s)},{$$arity:1,$$s:o})},-1),c(A,"$slice_after",function $e(e){var i=$e.$$p||r,o=this;return delete $e.$$p,n(e===undefined&&i===r)&&f.$raise(t("ArgumentError"),"both pattern and block are given"),n(e!==undefined&&i!==r||arguments.length>1)&&f.$raise(t("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),n(e!==undefined)&&(i=s(f,"proc",[],function(t){return null==t&&(t=r),e["$==="](t)},1)),s(t("Enumerator"),"new",[],function $(e){var t,o=null==$.$$s?this:$.$$s;null==e&&(e=r),o.$each.$$p=function(){var r=l.$destructure(arguments),o=a(i,r);null==t&&(t=[]),n(o)?(t.push(r),e.$yield(t),t=null):t.push(r)},o.$each(),null!=t&&e.$yield(t)},{$$arity:1,$$s:o})},-1),c(A,"$slice_when",function se(){var e=se.$$p||r,i=this;return delete se.$$p,e===r&&f.$raise(t("ArgumentError"),"wrong number of arguments (0 for 1)"),s(t("Enumerator"),"new",[],function a(t){var i=null==a.$$s?this:a.$$s;null==t&&(t=r);var $=r,s=r;i.$each_cons.$$p=function(){var i=l.$destructure(arguments),a=i[0],u=i[1],c=o(e,[a,u]);s=u,$===r&&($=[]),n(c)?($.push(a),t.$yield($),$=[]):$.push(a)},i.$each_cons(2),$!==r&&($.push(s),t.$yield($))},{$$arity:1,$$s:i})},0),c(A,"$sort",function ue(){var e=ue.$$p||r,t=this,n=r;return delete ue.$$p,n=t.$to_a(),e===r&&(e=w(function(e,t){return null==e&&(e=r),null==t&&(t=r),e["$<=>"](t)},2)),s(n,"sort",[],e.$to_proc())},0),c(A,"$sort_by",function le(){var t=le.$$p||r,n=this,i=r;return delete le.$$p,t===r?s(n,"enum_for",["sort_by"],function a(){return(null==a.$$s?this:a.$$s).$enumerator_size()},{$$arity:0,$$s:n}):(i=s(n,"map",[],function(){var n=r;return n=l.$destructure(arguments),[e.yield1(t,n),n]},0),s(i,"sort!",[],function(e,t){return null==e&&(e=r),null==t&&(t=r),e[0]["$<=>"](t[0])},2),s(i,"map!",[],function(e){return null==e&&(e=r),e[1]},1))},0),c(A,"$sum",function ce(i){var a=ce.$$p||r,o=this,$=r,c=r;return delete ce.$$p,null==i&&(i=0),$=i,c=0,s(o,"each",[],function(){var i,o=r,s=r,f=r;return i=e.slice.call(arguments),o=a!==r?e.yieldX(a,u(i)):l.$destructure(i),E([t(t("Float"),"INFINITY"),t(t("Float"),"INFINITY")["$-@"]()]["$include?"](o))&&n(o["$respond_to?"]("-"))?(s=m(o,c),f=g($,s),c=m(m(f,$),s),$=f):$=g($,o)},-1),$},-1),c(A,"$take",function(e){return this.$first(e)},1),c(A,"$take_while",function fe(){try{var t=fe.$$p||r,i=this,a=r;return delete fe.$$p,n(t)?(a=[],s(i,"each",[],function(){var i,o=r;return i=e.slice.call(arguments),o=l.$destructure(i),n(e.yield1(t,o))||e.ret(a),a.push(o)},-1)):i.$enum_for("take_while")}catch(o){if(o===e.returner)return o.$v;throw o}},0),c(A,"$uniq",function de(){var t=de.$$p||r,i=this,a=r;return delete de.$$p,a=b([],{}),s(i,"each",[],function(){var i,o=r,$=r,c=r;return i=e.slice.call(arguments),o=l.$destructure(i),$=t!==r?e.yield1(t,o):o,n(a["$key?"]($))?r:(s(a,"[]=",u(c=[$,o])),c[m(c.length,1)])},-1),a.$values()},0),c(A,"$tally",function(e){var t=r;return t=s(s(this,"group_by",[],"itself".$to_proc()),"transform_values",[],"count".$to_proc()),n(e)?(s(t,"each",[],function(t,n){var i=r;return null==t&&(t=r),null==n&&(n=r),i=[t,g(e.$fetch(t,0),n)],s(e,"[]=",u(i)),i[m(i.length,1)]},2),e):t},-1),c(A,"$to_h",function he(){var n,i=he.$$p||r,a=this;if(delete he.$$p,n=e.slice.call(arguments),i!==r)return s(s(a,"map",[],i.$to_proc()),"to_h",u(n));var o=b([],{});return a.$each.$$p=function(){var r,n,i=l.$destructure(arguments),a=l["$coerce_to?"](i,t("Array"),"to_ary");a.$$is_array||f.$raise(t("TypeError"),"wrong element type "+a.$class()+" (expected array)"),2!==a.length&&f.$raise(t("ArgumentError"),"wrong array length (expected 2, was "+a.$length()+")"),r=a[0],n=a[1],e.hash_put(o,r,n)},a.$each.apply(a,n),o},-1),c(A,"$zip",function _e(){_e.$$p;var r,t=this;return delete _e.$$p,r=e.slice.call(arguments),s(t.$to_a(),"zip",u(r))},-1),x(A,"find","detect"),x(A,"filter","find_all"),x(A,"flat_map","collect_concat"),x(A,"map","collect"),x(A,"member?","include?"),x(A,"reduce","inject"),x(A,"select","find_all"),x(A,"to_a","entries")}()},Opal.modules["corelib/enumerator/arithmetic_sequence"]=function(e){var r,t,n=[],i=e.nil,a=e.$$$,o=e.klass,$=e.truthy,s=e.to_a,u=e.eqeq,l=e.Kernel,c=e.def,f=e.rb_gt,d=e.rb_lt,h=e.rb_le,_=e.rb_ge,p=e.rb_plus,g=e.rb_minus,m=e.eqeqeq,v=e.not,y=e.rb_times,b=e.rb_divide,w=e.alias;return e.add_stubs("is_a?,==,raise,respond_to?,class,attr_reader,begin,end,exclude_end?,>,step,<,<=,>=,-@,_lesser_than_end?,<<,+,-,===,%,_greater_than_begin?,reverse,!,include?,*,to_i,abs,/,hash,inspect"),r=n,function(r,$super,t){var n=o(r,$super,"ArithmeticSequence"),E=[n].concat(t),x=e.$r(E),k=n.$$prototype;k.step_arg2=k.receiver_num=k.step_arg1=k.step=k.range=k.topfx=k.bypfx=k.creation_method=k.skipped_arg=i,e.prop(n.$$prototype,"$$is_arithmetic_seq",!0);var A=Infinity;return c(n,"$initialize",function(r,t,n){var o,c=this,f=i;return null==n&&(n="step"),c.creation_method=n,$(r["$is_a?"](a("Array")))?(o=[].concat(s(r)),c.step_arg1=null==o[0]?i:o[0],c.step_arg2=null==o[1]?i:o[1],c.topfx=null==o[2]?i:o[2],c.bypfx=null==o[3]?i:o[3],c.receiver_num=t,c.step=1,c.range=$(c.step_arg2)?(c.step=c.step_arg2,e.Range.$new(c.receiver_num,c.step_arg1,!1)):$(c.step_arg1)?e.Range.$new(c.receiver_num,c.step_arg1,!1):e.Range.$new(c.receiver_num,i,!1)):($(t)||(c.skipped_arg=!0),o=[r,$(f=t)?f:1],c.range=o[0],c.step=o[1]),c.object=c,u(c.step,0)&&l.$raise(x("ArgumentError"),"step can't be 0"),$(c.step["$respond_to?"]("to_int"))?i:l.$raise(x("ArgumentError"),"no implicit conversion of "+c.step.$class()+" into Integer")},-2),n.$attr_reader("step"),c(n,"$begin",function(){return this.range.$begin()},0),c(n,"$end",function(){return this.range.$end()},0),c(n,"$exclude_end?",function(){return this.range["$exclude_end?"]()},0),c(n,"$_lesser_than_end?",function(e){var r=this,t=i,n=i;return t=$(n=r.$end())?n:A,$(f(r.$step(),0))?$(r["$exclude_end?"]())?d(e,t):h(e,t):$(r["$exclude_end?"]())?f(e,t):_(e,t)},1),c(n,"$_greater_than_begin?",function(e){var r=this,t=i,n=i;return t=$(n=r.$begin())?n:A["$-@"](),$(f(r.$step(),0))?f(e,t):d(e,t)},1),c(n,"$first",function(e){var r=this,t=i,n=i,a=i;if(t=$(n=r.$begin())?n:A["$-@"](),!$(e))return $(r["$_lesser_than_end?"](t))?t:i;for(a=[];$($(n=r["$_lesser_than_end?"](t))?f(e,0):n);)a["$<<"](t),t=p(t,r.$step()),e=g(e,1);return a},-1),c(n,"$each",function I(){var r=I.$$p||i,t=this,n=i,a=i;if(delete I.$$p,r===i)return t;for(m(i,n=t.$begin())&&l.$raise(x("TypeError"),"nil can't be coerced into Integer"),a=$(n=t.$begin())?n:A["$-@"]();$(t["$_lesser_than_end?"](a));)e.yield1(r,a),a=p(a,t.$step());return t},0),c(n,"$last",function(e){var r=this,t=i,n=i,o=i;if(m(A,t=r.$end())||m(A["$-@"](),t)?l.$raise(a("FloatDomainError"),r.$end()):m(i,t)&&l.$raise(a("RangeError"),"cannot get the last element of endless arithmetic sequence"),n=g(r.$end(),g(r.$end(),r.$begin())["$%"](r.$step())),$(r["$_lesser_than_end?"](n))||(n=g(n,r.$step())),!$(e))return $(r["$_greater_than_begin?"](n))?n:i;for(o=[];$($(t=r["$_greater_than_begin?"](n))?f(e,0):t);)o["$<<"](n),n=g(n,r.$step()),e=g(e,1);return o.$reverse()},-1),c(n,"$size",function(){var e=this,r=i,t=i
;return r=$(f(e.$step(),0))?1:-1,v(e["$_lesser_than_end?"](e.$begin()))?0:$([A["$-@"](),A]["$include?"](e.$step()))?1:$([y(A["$-@"](),r),i]["$include?"](e.$begin()))||$([y(A,r),i]["$include?"](e.$end()))?A:(t=g(e.$end(),g(e.$end(),e.$begin())["$%"](e.$step())),$(e["$_lesser_than_end?"](t))||(t=g(t,e.$step())),p(b(g(t,e.$begin()),e.$step()).$abs().$to_i(),1))},0),c(n,"$==",function(e){var r=this,t=i,n=i,a=i,o=i;return $(t=$(n=$(a=$(o=r.$class()["$=="](e.$class()))?r.$begin()["$=="](e.$begin()):o)?r.$end()["$=="](e.$end()):a)?r.$step()["$=="](e.$step()):n)?r["$exclude_end?"]()["$=="](e["$exclude_end?"]()):t},1),c(n,"$hash",function(){var e=this;return[e.$begin(),e.$end(),e.$step(),e["$exclude_end?"]()].$hash()},0),c(n,"$inspect",function(){var e=this,r=i;return $(e.receiver_num)?(r=$(e.step_arg2)?"("+e.topfx+e.step_arg1.$inspect()+", "+e.bypfx+e.step_arg2.$inspect()+")":$(e.step_arg1)?"("+e.topfx+e.step_arg1.$inspect()+")":i,"("+e.receiver_num.$inspect()+"."+e.creation_method+r+")"):(r=$(e.skipped_arg)?i:"("+e.step+")","(("+e.range.$inspect()+")."+e.creation_method+r+")")},0),w(n,"===","=="),w(n,"eql?","==")}(t=o("::",null,"Enumerator"),t,[t].concat(r))},Opal.modules["corelib/enumerator/chain"]=function(e){var r,t=e.nil,n=e.$$$,i=e.klass,a=e.def,o=e.send,$=e.to_a,s=e.truthy,u=e.rb_plus;return e.add_stubs("to_enum,size,each,<<,to_proc,include?,+,reverse_each,respond_to?,rewind,inspect"),function(r,$super){var l=i(r,$super,"Chain"),c=l.$$prototype;return c.enums=c.iterated=t,a(l,"$initialize",function(){var r,t=this;return r=e.slice.call(arguments),t.enums=r,t.iterated=[],t.object=t},-1),a(l,"$each",function f(){var r,n,i=f.$$p||t,a=this;return delete f.$$p,r=e.slice.call(arguments),n=r,i===t?o(a,"to_enum",["each"].concat($(n)),function s(){return(null==s.$$s?this:s.$$s).$size()},{$$arity:0,$$s:a}):(o(a.enums,"each",[],function u(e){var r=null==u.$$s?this:u.$$s;return null==r.iterated&&(r.iterated=t),null==e&&(e=t),r.iterated["$<<"](e),o(e,"each",$(n),i.$to_proc())},{$$arity:1,$$s:a}),a)},-1),a(l,"$size",function(){try{var r,i,a=this,l=t;return r=e.slice.call(arguments),i=r,l=0,o(a.enums,"each",[],function(r){var a=t;return null==r&&(r=t),a=o(r,"size",$(i)),s([t,n(n("Float"),"INFINITY")]["$include?"](a))&&e.ret(a),l=u(l,a)},1),l}catch(c){if(c===e.returner)return c.$v;throw c}},-1),a(l,"$rewind",function(){var e=this;return o(e.iterated,"reverse_each",[],function(e){return null==e&&(e=t),s(e["$respond_to?"]("rewind"))?e.$rewind():t},1),e.iterated=[],e},0),a(l,"$inspect",function(){return"#<Enumerator::Chain: "+this.enums.$inspect()+">"},0)}(r=i("::",null,"Enumerator"),r)},Opal.modules["corelib/enumerator/generator"]=function(e){var r=[],t=e.nil,n=e.$$$,i=e.breaker,a=e.klass,o=e.truthy,$=e.Kernel,s=e.def,u=e.send;return e.add_stubs("include,raise,new,to_proc"),function(r,$super,l){var c=[a(r,null,"Enumerator")].concat(l);return function(r,$super,l){var c=a(r,null,"Generator"),f=[c].concat(l),d=e.$r(f);return c.$$prototype.block=t,c.$include(n("Enumerable")),s(c,"$initialize",function h(){var e=h.$$p||t,r=this;return delete h.$$p,o(e)||$.$raise(n("LocalJumpError"),"no block given"),r.block=e},0),s(c,"$each",function _(){var r,n=_.$$p||t,a=this,o=t;delete _.$$p,r=e.slice.call(arguments),o=u(d("Yielder"),"new",[],n.$to_proc());try{r.unshift(o),e.yieldX(a.block,r)}catch($){if($===i)return i.$v;throw $}return a},-1)}(c[0],0,c)}(r[0],0,r)},Opal.modules["corelib/enumerator/lazy"]=function(e){var r,t,n=[],i=e.nil,a=e.$$$,o=e.truthy,$=e.coerce_to,s=e.yield1,u=e.yieldX,l=e.klass,c=e.send2,f=e.find_super,d=e.to_a,h=e.defs,_=e.Kernel,p=e.send,g=e.def,m=e.Opal,v=e.rb_lt,y=e.eqeqeq,b=e.rb_plus,w=e.alias;return e.add_stubs("raise,each,new,enumerator_size,yield,respond_to?,try_convert,<,===,+,for,class,to_proc,destructure,inspect"),r=n,function(r,$super,t){var n=l(r,$super,"Lazy"),E=[n].concat(t),x=e.$r(E);return n.$$prototype.enumerator=i,l(n,a("Exception"),"StopLazyError"),h(n,"$for",function k(r){var t,n=k.$$p||i,a=this,o=i;return delete k.$$p,t=e.slice.call(arguments,1),(o=c(a,f(a,"for",k,!1,!0),"for",[r].concat(d(t)),n)).enumerator=r,o},-2),g(n,"$initialize",function A(r,t){var n=A.$$p||i,o=this;return delete A.$$p,null==t&&(t=i),n===i&&_.$raise(a("ArgumentError"),"tried to call lazy new without a block"),o.enumerator=r,c(o,f(o,"initialize",A,!1,!0),"initialize",[t],function(t){var a;null==t&&(t=i),a=e.slice.call(arguments,1);try{return p(r,"each",d(a),function(){var r;(r=e.slice.call(arguments)).unshift(t),u(n,r)},-1)}catch(o){if(!e.rescue(o,[x("StopLazyError")]))throw o;try{return i}finally{e.pop_exception()}}},-2)},-2),g(n,"$lazy",function(){return this},0),g(n,"$collect",function I(){var r=I.$$p||i,t=this;return delete I.$$p,o(r)||_.$raise(a("ArgumentError"),"tried to call lazy map without a block"),p(x("Lazy"),"new",[t,t.$enumerator_size()],function(t){var n;null==t&&(t=i),n=e.slice.call(arguments,1);var a=u(r,n);t.$yield(a)},-2)},0),g(n,"$collect_concat",function O(){var r=O.$$p||i,t=this;return delete O.$$p,o(r)||_.$raise(a("ArgumentError"),"tried to call lazy map without a block"),p(x("Lazy"),"new",[t,i],function(t){var n;null==t&&(t=i),n=e.slice.call(arguments,1);var o=u(r,n);o["$respond_to?"]("force")&&o["$respond_to?"]("each")?p(o,"each",[],function(e){return null==e&&(e=i),t.$yield(e)},1):m.$try_convert(o,a("Array"),"to_ary")===i?t.$yield(o):p(o,"each",[],function(e){return null==e&&(e=i),t.$yield(e)},1)},-2)},0),g(n,"$drop",function(r){var t=this,n=i,s=i,u=i;return r=$(r,a("Integer"),"to_int"),o(v(r,0))&&_.$raise(a("ArgumentError"),"attempt to drop negative size"),n=t.$enumerator_size(),s=y(a("Integer"),n)&&o(v(r,n))?r:n,u=0,p(x("Lazy"),"new",[t,s],function(t){var n;return null==t&&(t=i),n=e.slice.call(arguments,1),o(v(u,r))?u=b(u,1):p(t,"yield",d(n))},-2)},1),g(n,"$drop_while",function S(){var r=S.$$p||i,t=this,n=i;return delete S.$$p,o(r)||_.$raise(a("ArgumentError"),"tried to call lazy drop_while without a block"),n=!0,p(x("Lazy"),"new",[t,i],function(t){var a;if(null==t&&(t=i),a=e.slice.call(arguments,1),!o(n))return p(t,"yield",d(a));var $=u(r,a);o($)||(n=!1,p(t,"yield",d(a)))},-2)},0),g(n,"$enum_for",function N(){var r,t,n,a=N.$$p||i,o=this;return delete N.$$p,(r=e.slice.call(arguments)).length>0&&(t=r.shift()),null==t&&(t="each"),n=r,p(o.$class(),"for",[o,t].concat(d(n)),a.$to_proc())},-1),g(n,"$find_all",function z(){var r=z.$$p||i,t=this;return delete z.$$p,o(r)||_.$raise(a("ArgumentError"),"tried to call lazy select without a block"),p(x("Lazy"),"new",[t,i],function(t){var n,a;null==t&&(t=i),n=e.slice.call(arguments,1);var $=u(r,a=n);o($)&&p(t,"yield",d(a))},-2)},0),g(n,"$grep",function q(r){var t=q.$$p||i,n=this;return delete q.$$p,o(t)?p(x("Lazy"),"new",[n,i],function(n){var a;null==n&&(n=i),a=e.slice.call(arguments,1);var $=m.$destructure(a),u=r["$==="]($);o(u)&&(u=s(t,$),n.$yield(s(t,$)))},-2):p(x("Lazy"),"new",[n,i],function(t){var n;null==t&&(t=i),n=e.slice.call(arguments,1);var a=m.$destructure(n),$=r["$==="](a);o($)&&t.$yield(a)},-2)},1),g(n,"$reject",function j(){var r=j.$$p||i,t=this;return delete j.$$p,o(r)||_.$raise(a("ArgumentError"),"tried to call lazy reject without a block"),p(x("Lazy"),"new",[t,i],function(t){var n,a;null==t&&(t=i),n=e.slice.call(arguments,1);var $=u(r,a=n);o($)||p(t,"yield",d(a))},-2)},0),g(n,"$take",function(r){var t=this,n=i,s=i,u=i;return r=$(r,a("Integer"),"to_int"),o(v(r,0))&&_.$raise(a("ArgumentError"),"attempt to take negative size"),n=t.$enumerator_size(),s=y(a("Integer"),n)&&o(v(r,n))?r:n,u=0,p(x("Lazy"),"new",[t,s],function(t){var n;return null==t&&(t=i),n=e.slice.call(arguments,1),o(v(u,r))?(p(t,"yield",d(n)),u=b(u,1)):_.$raise(x("StopLazyError"))},-2)},1),g(n,"$take_while",function M(){var r=M.$$p||i,t=this;return delete M.$$p,o(r)||_.$raise(a("ArgumentError"),"tried to call lazy take_while without a block"),p(x("Lazy"),"new",[t,i],function(t){var n,a;null==t&&(t=i),n=e.slice.call(arguments,1);var $=u(r,a=n);o($)?p(t,"yield",d(a)):_.$raise(x("StopLazyError"))},-2)},0),g(n,"$inspect",function(){var e=this;return"#<"+e.$class()+": "+e.enumerator.$inspect()+">"},0),w(n,"force","to_a"),w(n,"filter","find_all"),w(n,"flat_map","collect_concat"),w(n,"map","collect"),w(n,"select","find_all"),w(n,"to_enum","enum_for")}(t=l("::",null,"Enumerator"),t,[t].concat(r))},Opal.modules["corelib/enumerator/yielder"]=function(e){var r,t,n=[],i=e.nil,a=e.breaker,o=e.klass,$=e.def,s=e.send,u=e.to_a;return e.add_stubs("yield,proc"),r=n[0],t=n,function(r){var t=o(r,null,"Yielder");return t.$$prototype.block=i,$(t,"$initialize",function n(){var e=n.$$p||i,r=this;return delete n.$$p,r.block=e,r},0),$(t,"$yield",function(){var r,t=this;r=e.slice.call(arguments);var n=e.yieldX(t.block,r);if(n===a)throw a;return n},-1),$(t,"$<<",function(e){var r=this;return r.$yield(e),r},1),$(t,"$to_proc",function(){var r=this;return s(r,"proc",[],function t(){var r,n=null==t.$$s?this:t.$$s;return r=e.slice.call(arguments),s(n,"yield",u(r))},{$$arity:-1,$$s:r})},0)}([o(r,null,"Enumerator")].concat(t)[0])},Opal.modules["corelib/enumerator"]=function(e){var r=e.top,t=[],n=e.nil,i=e.$$$,a=e.slice,o=e.coerce_to,$=e.klass,s=e.defs,u=e.truthy,l=e.send,c=e.not,f=e.def,d=e.rb_plus,h=e.to_a,_=e.Opal,p=e.send2,g=e.find_super,m=e.rb_ge,v=e.Kernel,y=e.rb_le,b=e.alias;return e.add_stubs("require,include,allocate,new,to_proc,!,respond_to?,empty?,nil?,+,class,__send__,call,enum_for,size,destructure,map,>=,length,raise,[],peek_values,<=,next_values,inspect,any?,autoload"),r.$require("corelib/enumerable"),function(r,$super,t){var w=$("::",null,"Enumerator"),E=[w].concat(t),x=e.$r(E),k=w.$$prototype;return k.size=k.args=k.object=k.method=k.values=k.cursor=n,w.$include(i("Enumerable")),w.$$prototype.$$is_enumerator=!0,s(w,"$for",function A(r){var t,i,a,o=A.$$p||n,$=this;delete A.$$p,(t=e.slice.call(arguments,1)).length>0&&(i=t.shift()),null==i&&(i="each"),a=t;var s=$.$allocate();return s.object=r,s.size=o,s.method=i,s.args=a,s.cursor=0,s},-2),f(w,"$initialize",function I(){var r=I.$$p||n,t=this;return delete I.$$p,e.slice.call(arguments),t.cursor=0,u(r)?(t.object=l(x("Generator"),"new",[],r.$to_proc()),t.method="each",t.args=[],t.size=arguments[0]||n,u(t.size)&&c(t.size["$respond_to?"]("call"))?t.size=o(t.size,i("Integer"),"to_int"):n):(t.object=arguments[0],t.method=arguments[1]||"each",t.args=a.call(arguments,2),t.size=n)},-1),f(w,"$each",function O(){var r,t=O.$$p||n,i=this;return delete O.$$p,r=e.slice.call(arguments),u(t["$nil?"]())&&u(r["$empty?"]())?i:(r=d(i.args,r),u(t["$nil?"]())?l(i.$class(),"new",[i.object,i.method].concat(h(r))):l(i.object,"__send__",[i.method].concat(h(r)),t.$to_proc()))},-1),f(w,"$size",function(){var e=this;return u(e.size["$respond_to?"]("call"))?l(e.size,"call",h(e.args)):e.size},0),f(w,"$with_index",function S(e){var r=S.$$p||n,t=this;if(delete S.$$p,null==e&&(e=0),e=u(e)?o(e,i("Integer"),"to_int"):0,!u(r))return l(t,"enum_for",["with_index",e],function $(){return(null==$.$$s?this:$.$$s).$size()},{$$arity:0,$$s:t});var a=e;return t.$each.$$p=function(){var e=_.$destructure(arguments),t=r(e,a);return a++,t},t.$each()},-1),f(w,"$each_with_index",function N(){var e=N.$$p||n,r=this;return delete N.$$p,e===n?l(r,"enum_for",["each_with_index"],function t(){return(null==t.$$s?this:t.$$s).$size()},{$$arity:0,$$s:r}):(p(r,g(r,"each_with_index",N,!1,!0),"each_with_index",[],e),r.object)},0),f(w,"$rewind",function(){var e=this;return e.cursor=0,e},0),f(w,"$peek_values",function(){var r=this,t=n;return r.values=u(t=r.values)?t:l(r,"map",[],function(){return e.slice.call(arguments)},-1),u(m(r.cursor,r.values.$length()))&&v.$raise(i("StopIteration"),"iteration reached an end"),r.values["$[]"](r.cursor)},0),f(w,"$peek",function(){var e=n;return e=this.$peek_values(),u(y(e.$length(),1))?e["$[]"](0):e},0),f(w,"$next_values",function(){var e=this,r=n;return r=e.$peek_values(),e.cursor=d(e.cursor,1),r},0),f(w,"$next",function(){var e=n;return e=this.$next_values(),u(y(e.$length(),1))?e["$[]"](0):e},0),f(w,"$feed",function(){return this.$raise(x("NotImplementedError"),"Opal doesn't support Enumerator#feed")},1),f(w,"$+",function(e){var r=this;return i(i("Enumerator"),"Chain").$new(r,e)},1),f(w,"$inspect",function(){var e=this,r=n;return r="#<"+e.$class()+": "+e.object.$inspect()+":"+e.method,u(e.args["$any?"]())&&(r=d(r,"("+e.args.$inspect()["$[]"](i("Range").$new(1,-2))+")")),d(r,">")},0),b(w,"with_object","each_with_object"),w.$autoload("ArithmeticSequence","corelib/enumerator/arithmetic_sequence"),w.$autoload("Chain","corelib/enumerator/chain"),w.$autoload("Generator","corelib/enumerator/generator"),w.$autoload("Lazy","corelib/enumerator/lazy"),w.$autoload("Yielder","corelib/enumerator/yielder")}(0,0,t)},Opal.modules["corelib/numeric"]=function(e){var r=e.top,t=e.nil,n=e.$$$,i=e.klass,a=e.truthy,o=e.Kernel,$=e.def,s=e.to_ary,u=e.eqeqeq,l=e.rb_minus,c=e.rb_times,f=e.rb_lt,d=e.eqeq,h=e.rb_divide,_=e.Opal,p=e.hash2,g=e.not,m=e.send,v=e.rb_ge,y=e.rb_le,b=e.rb_plus,w=e.rb_gt,E=e.alias;return e.add_stubs("require,include,instance_of?,class,Float,respond_to?,coerce,__send__,===,raise,equal?,-,*,div,<,-@,ceil,to_f,denominator,to_r,==,floor,/,%,Complex,zero?,numerator,abs,arg,coerce_to!,round,<=>,compare,is_a?,!,new,enum_for,to_proc,negative?,>=,<=,+,to_i,truncate,>"),r.$require("corelib/comparable"),function(){var r=i("::",null,"Numeric");return r.$include(n("Comparable")),$(r,"$coerce",function(e){var r=this;return a(e["$instance_of?"](r.$class()))?[e,r]:[o.$Float(e),o.$Float(r)]},1),$(r,"$__coerced__",function(e,r){var i,$,l=this,c=t,f=t,d=t;return a(r["$respond_to?"]("coerce"))?($=r.$coerce(l),c=null==(i=s($))[0]?t:i[0],f=null==i[1]?t:i[1],c.$__send__(e,f)):u("+",d=e)||u("-",d)||u("*",d)||u("/",d)||u("%",d)||u("&",d)||u("|",d)||u("^",d)||u("**",d)?o.$raise(n("TypeError"),r.$class()+" can't be coerced into Numeric"):u(">",d)||u(">=",d)||u("<",d)||u("<=",d)||u("<=>",d)?o.$raise(n("ArgumentError"),"comparison of "+l.$class()+" with "+r.$class()+" failed"):t},2),$(r,"$<=>",function(e){return a(this["$equal?"](e))?0:t},1),$(r,"$+@",function(){return this},0),$(r,"$-@",function(){return l(0,this)},0),$(r,"$%",function(e){var r=this;return l(r,c(e,r.$div(e)))},1),$(r,"$abs",function(){var e=this;return f(e,0)?e["$-@"]():e},0),$(r,"$abs2",function(){var e=this;return c(e,e)},0),$(r,"$angle",function(){return f(this,0)?n(n("Math"),"PI"):0},0),$(r,"$ceil",function(e){return null==e&&(e=0),this.$to_f().$ceil(e)},-1),$(r,"$conj",function(){return this},0),$(r,"$denominator",function(){return this.$to_r().$denominator()},0),$(r,"$div",function(e){var r=this;return d(e,0)&&o.$raise(n("ZeroDivisionError"),"divided by o"),h(r,e).$floor()},1),$(r,"$divmod",function(e){var r=this;return[r.$div(e),r["$%"](e)]},1),$(r,"$fdiv",function(e){return h(this.$to_f(),e)},1),$(r,"$floor",function(e){return null==e&&(e=0),this.$to_f().$floor(e)},-1),$(r,"$i",function(){var e=this;return o.$Complex(0,e)},0),$(r,"$imag",function(){return 0},0),$(r,"$integer?",function(){return!1},0),$(r,"$nonzero?",function(){var e=this;return a(e["$zero?"]())?t:e},0),$(r,"$numerator",function(){return this.$to_r().$numerator()},0),$(r,"$polar",function(){var e=this;return[e.$abs(),e.$arg()]},0),$(r,"$quo",function(e){var r=this;return h(_["$coerce_to!"](r,n("Rational"),"to_r"),e)},1),$(r,"$real",function(){return this},0),$(r,"$real?",function(){return!0},0),$(r,"$rect",function(){return[this,0]},0),$(r,"$round",function(e){return this.$to_f().$round(e)},-1),$(r,"$step",function x(){function r(){c===t&&o.$raise(n("TypeError"),"step must be numeric"),null!=c&&c["$=="](0)&&o.$raise(n("ArgumentError"),"step can't be 0"),c!==t&&null!=c||(c=1);var e=c["$<=>"](0);e===t&&o.$raise(n("ArgumentError"),"0 can't be coerced into "+c.$class()),l!==t&&null!=l||(l=e>0?n(n("Float"),"INFINITY"):n(n("Float"),"INFINITY")["$-@"]()),_.$compare(w,l)}function i(){if(c>0&&w>l||c<0&&w<l)return 0;if(c===Infinity||c===-Infinity)return 1;var e=Math.abs,r=Math.floor,t=(e(w)+e(l)+e(l-w))/e(c)*n(n("Float"),"EPSILON");return t===Infinity||t===-Infinity?0:(t>.5&&(t=.5),r((l-w)/c+t)+1)}function $(){if(r(),0===c)return Infinity;if(c%1!=0)return i();if(c>0&&w>l||c<0&&w<l)return 0;var e=Math.ceil,t=Math.abs;return e((t(w-l)+1)/t(c))}var s,u,l,c,f,d,h=x.$$p||t,w=this,E=t;if(delete x.$$p,s=e.slice.call(arguments),null==(u=e.extract_kwargs(s)))u=p([],{});else if(!u.$$is_hash)throw e.ArgumentError.$new("expected kwargs");if(s.length>0&&(l=s.shift()),s.length>0&&(c=s.shift()),f=u.$$smap.to,d=u.$$smap.by,l!==undefined&&f!==undefined&&o.$raise(n("ArgumentError"),"to is given twice"),c!==undefined&&d!==undefined&&o.$raise(n("ArgumentError"),"step is given twice"),f!==undefined&&(l=f),d!==undefined&&(c=d),l===undefined&&(l=t),h===t)return(g(l)||a(l["$is_a?"](n("Numeric"))))&&(g(c)||a(c["$is_a?"](n("Numeric"))))?n(n("Enumerator"),"ArithmeticSequence").$new([l,c,a(f)?"to: ":t,a(d)?"by: ":t],w):m(w,"enum_for",["step",l,c],$.$to_proc());r();var k=c["$negative?"](),A=c["$=="](0)||l===Infinity&&!k||l===-Infinity&&k;if(w.$$is_number&&c.$$is_number&&l.$$is_number){if(w%1!=0||!A&&l%1!=0||c%1!=0){var I=w.$to_f().valueOf();c=c.$to_f().valueOf(),l=l.$to_f().valueOf();var O=i();if(isFinite(c))if(0===c)for(;;)h(I);else for(var S=0;S<O;S++){var N=S*c+w;(c>=0?l<N:l>N)&&(N=l),h(N)}else 0!==O&&h(I);return w}var z=w;if(A)for(;;z+=c)h(z);else if(k)for(;z>=l;z+=c)h(z);else for(;z<=l;z+=c)h(z);return w}for(E=w;a(k?v(E,l):y(E,l));)e.yield1(h,E),E=b(E,c)},-1),$(r,"$to_c",function(){var e=this;return o.$Complex(e,0)},0),$(r,"$to_int",function(){return this.$to_i()},0),$(r,"$truncate",function(e){return null==e&&(e=0),this.$to_f().$truncate(e)},-1),$(r,"$zero?",function(){return this["$=="](0)},0),$(r,"$positive?",function(){return w(this,0)},0),$(r,"$negative?",function(){return f(this,0)},0),$(r,"$dup",function(){return this},0),$(r,"$clone",function(r){var t=this;if(null==r)r=p([],{});else if(!r.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return null==r.$$smap.freeze&&!0,t},-1),$(r,"$finite?",function(){return!0},0),$(r,"$infinite?",function(){return t},0),E(r,"arg","angle"),E(r,"conjugate","conj"),E(r,"imaginary","imag"),E(r,"magnitude","abs"),E(r,"modulo","%"),E(r,"phase","arg"),E(r,"rectangular","rect")}()},Opal.modules["corelib/array"]=function(e){var r=e.top,t=[],n=e.nil,i=e.$$$,a=e.truthy,o=e.falsy,$=e.hash_ids,s=e.yield1,u=e.hash_get,l=e.hash_put,c=e.hash_delete,f=e.coerce_to,d=e.respond_to,h=e.klass,_=e.defs,p=e.Kernel,g=e.def,m=e.Opal,v=e.eqeqeq,y=e.hash2,b=e.send2,w=e.find_super,E=e.send,x=e.rb_gt,k=e.rb_times,A=e.eqeq,I=e.rb_minus,O=e.to_a,S=e.to_ary,N=e.gvars,z=e.rb_ge,q=e.rb_lt,j=e.neqeq,M=e.alias;return e.add_stubs("require,include,to_a,warn,raise,replace,respond_to?,to_ary,coerce_to?,===,join,to_str,hash,<=>,==,object_id,inspect,enum_for,class,bsearch_index,to_proc,nil?,coerce_to!,>,*,enumerator_size,empty?,size,map,equal?,dup,each,reduce,-,[],dig,eql?,length,exclude_end?,flatten,__id__,&,!,intersection,to_s,new,item,max,min,>=,**,delete_if,reverse,rotate,rand,at,keep_if,shuffle!,<,sort,sort_by,!=,times,[]=,<<,uniq,|,values,is_a?,end,begin,upto,reject,pristine,singleton_class"),r.$require("corelib/enumerable"),r.$require("corelib/numeric"),function(r,$super,t){function R(e){for(var r=e[0],t=1,n=e.length;t<n;t++)e[t-1]=e[t];return e.pop(),r}function T(r,t){return t.$$name===e.Array?r:t.$allocate().$replace(r.$to_a())}function C(e,r,t){for(var n,i=null,a=new Array(e.length),o=0,$=0,u=e.length;o<u;o++){if(!i)try{n=s(t,e[o])}catch(l){i=l}(i||r(n))&&(a[$]=e[o],$+=1)}if($!==o&&(e.splice.apply(e,[0,a.length].concat(a)),e.splice($,a.length)),i)throw i}function F(r,t){var i,a,o,$=r.length;return i=t.excl,a=t.begin===n?0:f(t.begin,e.Integer,"to_int"),o=t.end===n?-1:f(t.end,e.Integer,"to_int"),a<0&&(a+=$)<0?n:(t.excl_rev&&t.begin!==n&&(a+=1),a>$?n:o<0&&(o+=$)<0?[]:(i&&t.end!==n||(o+=1),r.slice(a,o)))}function P(e,r){var t,n=[],i=0;for(t=r.step<0?F(e,{begin:r.range.end,end:r.range.begin,excl:!1,excl_rev:r.range.excl}).$reverse():F(e,r.range);i<t.length;)n.push(t[i]),i+=Math.abs(r.step);return n}function D(r,t,i){var a=r.length;return(t=f(t,e.Integer,"to_int"))<0&&(t+=a)<0?n:i===undefined?t>=a||t<0?n:r[t]:(i=f(i,e.Integer,"to_int"))<0||t>a||t<0?n:r.slice(t,t+i)}function L(e,r){return e===r||0===r?1:r>0&&e>r?L(e-1,r-1)+L(e-1,r):0}function U(e,r){for(var t=r>=0?1:0;r;)t*=e,e--,r--;return t}var B=h("::",$super,"Array"),K=[B].concat(t),H=e.$r(K);B.$include(i("Enumerable")),e.prop(B.$$prototype,"$$is_array",!0),_(B,"$[]",function(){var r=this;return T(e.slice.call(arguments),r)},-1),g(B,"$initialize",function G(e,r){var t,a,o=G.$$p||n,$=this;if(delete G.$$p,null==e&&(e=n),null==r&&(r=n),r!==n&&o!==n&&p.$warn("warning: block supersedes default value argument"),e>i(i("Integer"),"MAX")&&p.$raise(i("ArgumentError"),"array size too big"),arguments.length>2&&p.$raise(i("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),0===arguments.length)return $.splice(0,$.length),$;if(1===arguments.length){if(e.$$is_array)return $.$replace(e.$to_a()),$;if(e["$respond_to?"]("to_ary"))return $.$replace(e.$to_ary()),$}if((e=f(e,i("Integer"),"to_int"))<0&&p.$raise(i("ArgumentError"),"negative array size"),$.splice(0,$.length),o===n)for(t=0;t<e;t++)$.push(r);else for(t=0;t<e;t++)a=o(t),$[t]=a;return $},-1),_(B,"$try_convert",function(e){return m["$coerce_to?"](e,i("Array"),"to_ary")},1),g(B,"$&",function(e){var r=this;e=v(i("Array"),e)?e.$to_a():f(e,i("Array"),"to_ary").$to_a();var t,n,a,o=[],$=y([],{});for(t=0,n=e.length;t<n;t++)l($,e[t],!0);for(t=0,n=r.length;t<n;t++)a=r[t],c($,a)!==undefined&&o.push(a);return o},1),g(B,"$|",function(e){var r=this;e=v(i("Array"),e)?e.$to_a():f(e,i("Array"),"to_ary").$to_a();var t,n,a=y([],{});for(t=0,n=r.length;t<n;t++)l(a,r[t],!0);for(t=0,n=e.length;t<n;t++)l(a,e[t],!0);return a.$keys()},1),g(B,"$*",function(e){var r=this;if(a(e["$respond_to?"]("to_str")))return r.$join(e.$to_str());e=f(e,i("Integer"),"to_int"),a(e<0)&&p.$raise(i("ArgumentError"),"negative argument");for(var t=[],n=r.$to_a(),o=0;o<e;o++)t=t.concat(n);return t},1),g(B,"$+",function(e){var r=this;return e=v(i("Array"),e)?e.$to_a():f(e,i("Array"),"to_ary").$to_a(),r.concat(e)},1),g(B,"$-",function(e){var r=this;if(e=v(i("Array"),e)?e.$to_a():f(e,i("Array"),"to_ary").$to_a(),a(0===r.length))return[];if(a(0===e.length))return r.slice();var t,n,o,$=[],s=y([],{});for(t=0,n=e.length;t<n;t++)l(s,e[t],!0);for(t=0,n=r.length;t<n;t++)o=r[t],u(s,o)===undefined&&$.push(o);return $},1),g(B,"$<<",function(e){var r=this;return r.push(e),r},1),g(B,"$<=>",function(e){var r=this;if(v(i("Array"),e))e=e.$to_a();else{if(!a(e["$respond_to?"]("to_ary")))return n;e=e.$to_ary().$to_a()}if(r.$hash()===e.$hash())return 0;for(var t=Math.min(r.length,e.length),o=0;o<t;o++){var $=r[o]["$<=>"](e[o]);if(0!==$)return $}return r.length["$<=>"](e.length)},1),g(B,"$==",function(e){function r(e,n){var i,a,o,$;if(e===n)return!0;if(!n.$$is_array)return!!d(n,"$to_ary")&&n["$=="](e);if(e.$$constructor!==Array&&(e=e.$to_a()),n.$$constructor!==Array&&(n=n.$to_a()),e.length!==n.length)return!1;for(t[e.$object_id()]=!0,i=0,a=e.length;i<a;i++)if(o=e[i],$=n[i],o.$$is_array){if($.$$is_array&&$.length!==o.length)return!1;if(!t.hasOwnProperty(o.$object_id())&&!r(o,$))return!1}else if(!o["$=="]($))return!1;return!0}var t={};return r(this,e)},1),g(B,"$[]",function(e,r){var t=this;return e.$$is_range?F(t,e):e.$$is_arithmetic_seq?P(t,e):D(t,e,r)},-2),g(B,"$[]=",function(r,t,o){var $,s,u=this,l=n,c=n,d=u.length;if(v(i("Range"),r)){l=v(i("Array"),t)?t.$to_a():a(t["$respond_to?"]("to_ary"))?t.$to_ary().$to_a():[t];var h=r.excl,_=r.begin===n?0:f(r.begin,e.Integer,"to_int"),g=r.end===n?-1:f(r.end,e.Integer,"to_int");if(_<0&&(_+=d)<0&&p.$raise(i("RangeError"),r.$inspect()+" out of range"),g<0&&(g+=d),h&&r.end!==n||(g+=1),_>d)for($=d;$<_;$++)u[$]=n;return g<0?u.splice.apply(u,[_,0].concat(l)):u.splice.apply(u,[_,g-_].concat(l)),t}if(a(o===undefined)?c=1:(c=t,t=o,l=v(i("Array"),t)?t.$to_a():a(t["$respond_to?"]("to_ary"))?t.$to_ary().$to_a():[t]),r=f(r,i("Integer"),"to_int"),c=f(c,i("Integer"),"to_int"),r<0&&(s=r,(r+=d)<0&&p.$raise(i("IndexError"),"index "+s+" too small for array; minimum "+-u.length)),c<0&&p.$raise(i("IndexError"),"negative length ("+c+")"),r>d)for($=d;$<r;$++)u[$]=n;return o===undefined?u[r]=t:u.splice.apply(u,[r,c].concat(l)),t},-3),g(B,"$any?",function X(e){var r=X.$$p||n,t=this;return delete X.$$p,0!==t.length&&b(t,w(t,"any?",X,!1,!0),"any?",[e],r)},-1),g(B,"$assoc",function(e){for(var r,t=this,i=0,a=t.length;i<a;i++)if((r=t[i]).length&&r[0]["$=="](e))return r;return n},1),g(B,"$at",function(e){var r=this;return(e=f(e,i("Integer"),"to_int"))<0&&(e+=r.length),e<0||e>=r.length?n:r[e]},1),g(B,"$bsearch_index",function J(){var e=J.$$p||n,r=this;if(delete J.$$p,e===n)return r.$enum_for("bsearch_index");for(var t,a,o,$=0,u=r.length,l=!1,c=n;$<u;){if(a=r[t=$+Math.floor((u-$)/2)],!0===(o=s(e,a)))c=t,l=!0;else if(!1===o||o===n)l=!1;else if(o.$$is_number){if(0===o)return t;l=o<0}else p.$raise(i("TypeError"),"wrong argument type "+o.$class()+" (must be numeric, true, false or nil)");l?u=t:$=t+1}return c},0),g(B,"$bsearch",function W(){var e=W.$$p||n,r=this,t=n;return delete W.$$p,e===n?r.$enum_for("bsearch"):null!=(t=E(r,"bsearch_index",[],e.$to_proc()))&&t.$$is_number?r[t]:t},0),g(B,"$cycle",function Z(e){var r,t,o=Z.$$p||n,$=this;if(delete Z.$$p,null==e&&(e=n),o===n)return E($,"enum_for",["cycle",e],function u(){var r=null==u.$$s?this:u.$$s;return a(e["$nil?"]())?i(i("Float"),"INFINITY"):(e=m["$coerce_to!"](e,i("Integer"),"to_int"),a(x(e,0))?k(r.$enumerator_size(),e):0)},{$$arity:0,$$s:$});if(a($["$empty?"]())||A(e,0))return n;if(e===n)for(;;)for(r=0,t=$.length;r<t;r++)s(o,$[r]);else{if((e=m["$coerce_to!"](e,i("Integer"),"to_int"))<=0)return $;for(;e>0;){for(r=0,t=$.length;r<t;r++)s(o,$[r]);e--}}return $},-1),g(B,"$clear",function(){var e=this;return e.splice(0,e.length),e},0),g(B,"$count",function V(e){var r=V.$$p||n,t=this;return delete V.$$p,a(e!==undefined)||a(r)?b(t,w(t,"count",V,!1,!0),"count",[e],r):t.$size()},-1),g(B,"$initialize_copy",function(e){return this.$replace(e)},1),g(B,"$collect",function Q(){var e=Q.$$p||n,r=this;if(delete Q.$$p,e===n)return E(r,"enum_for",["collect"],function $(){return(null==$.$$s?this:$.$$s).$size()},{$$arity:0,$$s:r});for(var t=[],i=0,a=r.length;i<a;i++){var o=s(e,r[i]);t.push(o)}return t},0),g(B,"$collect!",function ee(){var e=ee.$$p||n,r=this;if(delete ee.$$p,e===n)return E(r,"enum_for",["collect!"],function o(){return(null==o.$$s?this:o.$$s).$size()},{$$arity:0,$$s:r});for(var t=0,i=r.length;t<i;t++){var a=s(e,r[t]);r[t]=a}return r},0),g(B,"$combination",function re(r){var t,a,o,$,s,u,l,c=re.$$p||n,f=this,d=n;if(delete re.$$p,d=m["$coerce_to!"](r,i("Integer"),"to_int"),c===n)return E(f,"enum_for",["combination",d],function h(){return L((null==h.$$s?this:h.$$s).length,d)},{$$arity:0,$$s:f});if(0===d)e.yield1(c,[]);else if(1===d)for(t=0,a=f.length;t<a;t++)e.yield1(c,[f[t]]);else if(d===f.length)e.yield1(c,f.slice());else if(d>=0&&d<f.length){for(o=[],t=0;t<=d+1;t++)o.push(0);for($=[],s=0,u=!1,o[0]=-1;!u;){for($[s]=f[o[s+1]];s<d-1;)l=o[++s+1]=o[s]+1,$[s]=f[l];e.yield1(c,$.slice()),s++;do{u=0===s,o[s]++,s--}while(o[s+1]+d===f.length+s+1)}}return f},1),g(B,"$repeated_combination",function te(r){function t(r,n,i,o){if(i.length!=r)for(var $=n;$<o.length;$++)i.push(o[$]),t(r,$,i,o),i.pop();else{var s=i.slice();e.yield1(a,s)}}var a=te.$$p||n,o=this,$=n;return delete te.$$p,$=m["$coerce_to!"](r,i("Integer"),"to_int"),a===n?E(o,"enum_for",["repeated_combination",$],function s(){return L((null==s.$$s?this:s.$$s).length+$-1,$)},{$$arity:0,$$s:o}):($>=0&&t($,0,[],o),o)},1),g(B,"$compact",function(){for(var e,r=this,t=[],i=0,a=r.length;i<a;i++)(e=r[i])!==n&&t.push(e);return t},0),g(B,"$compact!",function(){for(var e=this,r=e.length,t=0,i=e.length;t<i;t++)e[t]===n&&(e.splice(t,1),i--,t--);return e.length===r?n:e},0),g(B,"$concat",function(){var r,t,o=this;return r=e.slice.call(arguments),t=E(t=r,"map",[],function $(e){var r=null==$.$$s?this:$.$$s;return null==e&&(e=n),e=v(i("Array"),e)?e.$to_a():f(e,i("Array"),"to_ary").$to_a(),a(e["$equal?"](r))&&(e=e.$dup()),e},{$$arity:1,$$s:o}),E(t,"each",[],function s(e){var r=null==s.$$s?this:s.$$s;null==e&&(e=n);for(var t=0,i=e.length;t<i;t++)r.push(e[t])},{$$arity:1,$$s:o}),o},-1),g(B,"$delete",function ne(r){var t=ne.$$p||n,i=this;delete ne.$$p;for(var a=i.length,o=0,$=a;o<$;o++)i[o]["$=="](r)&&(i.splice(o,1),$--,o--);return i.length===a?t!==n?e.yieldX(t,[]):n:r},1),g(B,"$delete_at",function(e){var r=this;if((e=f(e,i("Integer"),"to_int"))<0&&(e+=r.length),e<0||e>=r.length)return n;var t=r[e];return r.splice(e,1),t},1),g(B,"$delete_if",function ie(){var e=ie.$$p||n,r=this;return delete ie.$$p,e===n?E(r,"enum_for",["delete_if"],function t(){return(null==t.$$s?this:t.$$s).$size()},{$$arity:0,$$s:r}):(C(r,o,e),r)},0),g(B,"$difference",function(){var r,t=this;return r=e.slice.call(arguments),E(r,"reduce",[t.$to_a().$dup()],function(e,r){return null==e&&(e=n),null==r&&(r=n),I(e,r)},2)},-1),g(B,"$dig",function(r){var t,o=this,$=n;return t=e.slice.call(arguments,1),($=o["$[]"](r))===n||0===t.length?$:(a($["$respond_to?"]("dig"))||p.$raise(i("TypeError"),$.$class()+" does not have #dig method"),E($,"dig",O(t)))},-2),g(B,"$drop",function(e){var r=this;return(e=f(e,i("Integer"),"to_int"))<0&&p.$raise(i("ArgumentError")),r.slice(e)},1),g(B,"$dup",function ae(){var r=ae.$$p||n,t=this;return delete ae.$$p,t.$$class===e.Array&&t.$$class.$allocate.$$pristine&&t.$copy_instance_variables.$$pristine&&t.$initialize_dup.$$pristine?t.slice(0):b(t,w(t,"dup",ae,!1,!0),"dup",[],r)},0),g(B,"$each",function oe(){var e=oe.$$p||n,r=this;if(delete oe.$$p,e===n)return E(r,"enum_for",["each"],function a(){return(null==a.$$s?this:a.$$s).$size()},{$$arity:0,$$s:r});for(var t=0,i=r.length;t<i;t++)s(e,r[t]);return r},0),g(B,"$each_index",function $e(){var e=$e.$$p||n,r=this;if(delete $e.$$p,e===n)return E(r,"enum_for",["each_index"],function a(){return(null==a.$$s?this:a.$$s).$size()},{$$arity:0,$$s:r});for(var t=0,i=r.length;t<i;t++)s(e,t);return r},0),g(B,"$empty?",function(){return 0===this.length},0),g(B,"$eql?",function(e){function r(e,n){var i,a,o,$;if(!n.$$is_array)return!1;if(n=n.$to_a(),e.length!==n.length)return!1;for(t[e.$object_id()]=!0,i=0,a=e.length;i<a;i++)if(o=e[i],$=n[i],o.$$is_array){if($.$$is_array&&$.length!==o.length)return!1;if(!t.hasOwnProperty(o.$object_id())&&!r(o,$))return!1}else if(!o["$eql?"]($))return!1;return!0}var t={};return r(this,e)},1),g(B,"$fetch",function se(e,r){var t=se.$$p||n,a=this;delete se.$$p;var o=e;return(e=f(e,i("Integer"),"to_int"))<0&&(e+=a.length),e>=0&&e<a.length?a[e]:(t!==n&&null!=r&&a.$warn("warning: block supersedes default value argument"),t!==n?t(o):null!=r?r:void(0===a.length?p.$raise(i("IndexError"),"index "+o+" outside of array bounds: 0...0"):p.$raise(i("IndexError"),"index "+o+" outside of array bounds: -"+a.length+"..."+a.length)))},-2),g(B,"$fill",function ue(){var r,t,o,$,s=ue.$$p||n,u=this,l=n,c=n,d=n,h=n,_=n;if(delete ue.$$p,r=e.slice.call(arguments),a(s)?(a(r.length>2)&&p.$raise(i("ArgumentError"),"wrong number of arguments ("+r.$length()+" for 0..2)"),l=null==(t=S(r))[0]?n:t[0],c=null==t[1]?n:t[1]):(a(0==r.length)?p.$raise(i("ArgumentError"),"wrong number of arguments (0 for 1..3)"):a(r.length>3)&&p.$raise(i("ArgumentError"),"wrong number of arguments ("+r.$length()+" for 1..3)"),d=null==(t=S(r))[0]?n:t[0],l=null==t[1]?n:t[1],c=null==t[2]?n:t[2]),v(i("Range"),l)){if(a(c)&&p.$raise(i("TypeError"),"length invalid with range"),h=l.begin===n?0:f(l.begin,i("Integer"),"to_int"),a(h<0)&&(h+=this.length),a(h<0)&&p.$raise(i("RangeError"),l.$inspect()+" out of range"),_=l.end===n?-1:f(l.end,i("Integer"),"to_int"),a(_<0)&&(_+=this.length),a(l["$exclude_end?"]())||(_+=1),a(_<=h))return u}else if(a(l))if(h=f(l,i("Integer"),"to_int"),a(h<0)&&(h+=this.length),a(h<0)&&(h=0),a(c)){if(_=f(c,i("Integer"),"to_int"),a(0==_))return u;_+=h}else _=this.length;else h=0,_=this.length;if(a(h>this.length))for(o=this.length;o<_;o++)u[o]=n;if(a(_>this.length)&&(this.length=_),a(s))for(this.length;h<_;h++)$=s(h),u[h]=$;else for(this.length;h<_;h++)u[h]=d;return u},-1),g(B,"$first",function(e){var r=this;return null==e?0===r.length?n:r[0]:((e=f(e,i("Integer"),"to_int"))<0&&p.$raise(i("ArgumentError"),"negative array size"),r.slice(0,e))},-1),g(B,"$flatten",function(e){function r(e,a){var o,$,s,u,l=[];for(o=0,$=(e=e.$to_a()).length;o<$;o++)if(s=e[o],d(s,"$to_ary",!0))if((u=s.$to_ary())!==n)switch(u.$$is_array||p.$raise(i("TypeError")),u===t&&p.$raise(i("ArgumentError")),a){case undefined:l=l.concat(r(u));break;case 0:l.push(u);break;default:l.push.apply(l,r(u,a-1))}else l.push(s);else l.push(s);return l}var t=this;return e!==undefined&&(e=f(e,i("Integer"),"to_int")),r(t,e)},-1),g(B,"$flatten!",function(e){
var r=this,t=r.$flatten(e);if(r.length==t.length){for(var i=0,a=r.length;i<a&&r[i]===t[i];i++);if(i==a)return n}return r.$replace(t),r},-1),g(B,"$hash",function(){var e,r,t,n=this,i=$===undefined,a=["A"],o=n.$object_id();try{if(i&&($=Object.create(null)),$[o])return"self";for(t in $)if(e=$[t],n["$eql?"](e))return"self";for($[o]=n,r=0;r<n.length;r++)e=n[r],a.push(e.$hash());return a.join(",")}finally{i&&($=undefined)}},0),g(B,"$include?",function(e){for(var r=this,t=0,n=r.length;t<n;t++)if(r[t]["$=="](e))return!0;return!1},1),g(B,"$index",function le(e){var r,t,i,a=le.$$p||n,o=this;if(delete le.$$p,null!=e&&a!==n&&o.$warn("warning: given block not used"),null!=e){for(r=0,t=o.length;r<t;r++)if(o[r]["$=="](e))return r}else{if(a===n)return o.$enum_for("index");for(r=0,t=o.length;r<t;r++)if(!1!==(i=a(o[r]))&&i!==n)return r}return n},-1),g(B,"$insert",function(r){var t,a=this;if(t=e.slice.call(arguments,1),r=f(r,i("Integer"),"to_int"),t.length>0){if(r<0&&(r+=a.length+1)<0&&p.$raise(i("IndexError"),r+" is out of bounds"),r>a.length)for(var o=a.length;o<r;o++)a.push(n);a.splice.apply(a,[r,0].concat(t))}return a},-2);var Y=[];return g(B,"$inspect",function(){var e=this,r=[],t=e.$__id__(),n=!0;return function(){try{if(-1!==Y.indexOf(t))return n=!1,"[...]";Y.push(t);for(var i=0,a=e.length;i<a;i++){var o=e["$[]"](i);r.push(H("Opal").$inspect(o))}return"["+r.join(", ")+"]"}finally{n&&Y.pop()}}()},0),g(B,"$intersection",function(){var r,t=this;return r=e.slice.call(arguments),E(r,"reduce",[t.$to_a().$dup()],function(e,r){return null==e&&(e=n),null==r&&(r=n),e["$&"](r)},2)},-1),g(B,"$intersect?",function(e){return this.$intersection(e)["$empty?"]()["$!"]()},1),g(B,"$join",function(e){var r=this;if(null==N[","]&&(N[","]=n),null==e&&(e=n),a(0===r.length))return"";a(e===n)&&(e=N[","]);var t,o,$,s,u=[];for(t=0,o=r.length;t<o;t++)$=r[t],d($,"$to_str")&&(s=$.$to_str())!==n?u.push(s.$to_s()):d($,"$to_ary")&&((s=$.$to_ary())===r&&p.$raise(i("ArgumentError")),s!==n)?u.push(s.$join(e)):d($,"$to_s")&&(s=$.$to_s())!==n?u.push(s):p.$raise(i("NoMethodError").$new(H("Opal").$inspect(r.$item())+" doesn't respond to #to_str, #to_ary or #to_s","to_str"));return e===n?u.join(""):u.join(m["$coerce_to!"](e,i("String"),"to_str").$to_s())},-1),g(B,"$keep_if",function ce(){var e=ce.$$p||n,r=this;return delete ce.$$p,e===n?E(r,"enum_for",["keep_if"],function t(){return(null==t.$$s?this:t.$$s).$size()},{$$arity:0,$$s:r}):(C(r,a,e),r)},0),g(B,"$last",function(e){var r=this;return null==e?0===r.length?n:r[r.length-1]:((e=f(e,i("Integer"),"to_int"))<0&&p.$raise(i("ArgumentError"),"negative array size"),e>r.length&&(e=r.length),r.slice(r.length-e,r.length))},-1),g(B,"$length",function(){return this.length},0),g(B,"$max",function fe(e){var r=fe.$$p||n,t=this;return delete fe.$$p,E(t.$each(),"max",[e],r.$to_proc())},-1),g(B,"$min",function de(){var e=de.$$p||n,r=this;return delete de.$$p,E(r.$each(),"min",[],e.$to_proc())},0),g(B,"$permutation",function he(r){var t,a,o,$=he.$$p||n,u=this,l=n,c=n;if(delete he.$$p,$===n)return E(u,"enum_for",["permutation",r],function h(){var e=null==h.$$s?this:h.$$s;return U(e.length,r===undefined?e.length:r)},{$$arity:0,$$s:u});if((r=r===undefined?u.length:f(r,i("Integer"),"to_int"))<0||u.length<r);else if(0===r)e.yield1($,[]);else if(1===r)for(var d=0;d<u.length;d++)e.yield1($,[u[d]]);else l=H("Array").$new(r),c=H("Array").$new(u.length,!1),t=function(e,r,n,i,a){u=this;for(var $=0;$<u.length;$++)if(i["$[]"]($)["$!"]())if(r[n]=$,n<e-1)i[$]=!0,t.call(u,e,r,n+1,i,a),i[$]=!1;else{o=[];for(var l=0;l<r.length;l++)o.push(u[r[l]]);s(a,o)}},$!==n?(a=u.slice(),t.call(a,r,l,0,c,$)):t.call(u,r,l,0,c,$);return u},-1),g(B,"$repeated_permutation",function _e(r){function t(r,n,i){if(n.length!=r)for(var a=0;a<i.length;a++)n.push(i[a]),t(r,n,i),n.pop();else{var $=n.slice();e.yield1(o,$)}}var o=_e.$$p||n,$=this,s=n;return delete _e.$$p,s=m["$coerce_to!"](r,i("Integer"),"to_int"),o===n?E($,"enum_for",["repeated_permutation",s],function u(){var e=null==u.$$s?this:u.$$s;return a(z(s,0))?e.$size()["$**"](s):0},{$$arity:0,$$s:$}):(t(s,[],$.slice()),$)},1),g(B,"$pop",function(e){var r=this;return a(e===undefined)?a(0===r.length)?n:r.pop():(e=f(e,i("Integer"),"to_int"),a(e<0)&&p.$raise(i("ArgumentError"),"negative array size"),a(0===r.length)?[]:a(1===e)?[r.pop()]:a(e>r.length)?r.splice(0,r.length):r.splice(r.length-e,r.length))},-1),g(B,"$product",function pe(){var r,t,a=pe.$$p||n,o=this;delete pe.$$p,r=e.slice.call(arguments);var $,s,u,l,c=a!==n?null:[],d=(t=r).length+1,h=new Array(d),_=new Array(d),g=new Array(d),m=1;for(g[0]=o,$=1;$<d;$++)g[$]=f(t[$-1],i("Array"),"to_ary");for($=0;$<d;$++){if(0===(l=g[$].length))return c||o;(m*=l)>2147483647&&p.$raise(i("RangeError"),"too big to product"),_[$]=l,h[$]=0}e:for(;;){for(u=[],$=0;$<d;$++)u.push(g[$][h[$]]);for(c?c.push(u):e.yield1(a,u),h[s=d-1]++;h[s]===_[s];){if(h[s]=0,--s<0)break e;h[s]++}}return c||o},-1),g(B,"$push",function(){for(var r,t=this,n=0,i=(r=e.slice.call(arguments)).length;n<i;n++)t.push(r[n]);return t},-1),g(B,"$rassoc",function(e){for(var r,t=this,i=0,a=t.length;i<a;i++)if((r=t[i]).length&&r[1]!==undefined&&r[1]["$=="](e))return r;return n},1),g(B,"$reject",function ge(){var e=ge.$$p||n,r=this;if(delete ge.$$p,e===n)return E(r,"enum_for",["reject"],function $(){return(null==$.$$s?this:$.$$s).$size()},{$$arity:0,$$s:r});for(var t,i=[],a=0,o=r.length;a<o;a++)!1!==(t=e(r[a]))&&t!==n||i.push(r[a]);return i},0),g(B,"$reject!",function me(){var e=me.$$p||n,r=this,t=n;return delete me.$$p,e===n?E(r,"enum_for",["reject!"],function i(){return(null==i.$$s?this:i.$$s).$size()},{$$arity:0,$$s:r}):(t=r.$length(),E(r,"delete_if",[],e.$to_proc()),A(r.$length(),t)?n:r)},0),g(B,"$replace",function(e){var r=this;return e=v(i("Array"),e)?e.$to_a():f(e,i("Array"),"to_ary").$to_a(),r.splice(0,r.length),r.push.apply(r,e),r},1),g(B,"$reverse",function(){return this.slice(0).reverse()},0),g(B,"$reverse!",function(){return this.reverse()},0),g(B,"$reverse_each",function ve(){var e=ve.$$p||n,r=this;return delete ve.$$p,e===n?E(r,"enum_for",["reverse_each"],function t(){return(null==t.$$s?this:t.$$s).$size()},{$$arity:0,$$s:r}):(E(r.$reverse(),"each",[],e.$to_proc()),r)},0),g(B,"$rindex",function ye(e){var r,t,i=ye.$$p||n,a=this;if(delete ye.$$p,null!=e&&i!==n&&a.$warn("warning: given block not used"),null!=e){for(r=a.length-1;r>=0&&!(r>=a.length);r--)if(a[r]["$=="](e))return r}else if(i!==n){for(r=a.length-1;r>=0&&!(r>=a.length);r--)if(!1!==(t=i(a[r]))&&t!==n)return r}else if(null==e)return a.$enum_for("rindex");return n},-1),g(B,"$rotate",function(e){var r,t,n,a,o=this;return null==e&&(e=1),e=f(e,i("Integer"),"to_int"),1===o.length?o.slice():0===o.length?[]:(t=e%(r=o.slice()).length,n=r.slice(t),a=r.slice(0,t),n.concat(a))},-1),g(B,"$rotate!",function(e){var r=this,t=n;return null==e&&(e=1),0===r.length||1===r.length?r:(e=f(e,i("Integer"),"to_int"),t=r.$rotate(e),r.$replace(t))},-1),function(e){var r=h(e,null,"SampleRandom");r.$$prototype.rng=n,g(r,"$initialize",function(e){return this.rng=e},1),g(r,"$rand",function(e){var r=n;return r=f(this.rng.$rand(e),i("Integer"),"to_int"),a(r<0)&&p.$raise(i("RangeError"),"random value must be >= 0"),a(r<e)||p.$raise(i("RangeError"),"random value must be less than Array size"),r},1)}(B),g(B,"$sample",function(e,r){var t,o,$,s,u,l,c,d,h=this,_=n,g=n;if(a(e===undefined))return h.$at(p.$rand(h.length));if(a(r===undefined)?a(_=m["$coerce_to?"](e,i("Hash"),"to_hash"))?(r=_,e=n):(r=n,e=f(e,i("Integer"),"to_int")):(e=f(e,i("Integer"),"to_int"),r=f(r,i("Hash"),"to_hash")),a(e)&&a(e<0)&&p.$raise(i("ArgumentError"),"count must be greater than 0"),a(r)&&(g=r["$[]"]("random")),g=a(g)&&a(g["$respond_to?"]("rand"))?H("SampleRandom").$new(g):p,!a(e))return h[g.$rand(h.length)];switch(e>h.length&&(e=h.length),e){case 0:return[];case 1:return[h[g.$rand(h.length)]];case 2:return(s=g.$rand(h.length))===(u=g.$rand(h.length))&&(u=0===s?s+1:s-1),[h[s],h[u]];default:if(h.length/e>3){for(t=!1,o=0,s=1,($=H("Array").$new(e))[0]=g.$rand(h.length);s<e;){for(l=g.$rand(h.length),u=0;u<s;){for(;l===$[u];){if(++o>100){t=!0;break}l=g.$rand(h.length)}if(t)break;u++}if(t)break;$[s]=l,s++}if(!t){for(s=0;s<e;)$[s]=h[$[s]],s++;return $}}$=h.slice();for(var v=0;v<e;v++)c=g.$rand(h.length),d=$[v],$[v]=$[c],$[c]=d;return e===h.length?$:$["$[]"](0,e)}},-1),g(B,"$select",function be(){var e=be.$$p||n,r=this;if(delete be.$$p,e===n)return E(r,"enum_for",["select"],function l(){return(null==l.$$s?this:l.$$s).$size()},{$$arity:0,$$s:r});for(var t,i,o=[],$=0,u=r.length;$<u;$++)t=r[$],i=s(e,t),a(i)&&o.push(t);return o},0),g(B,"$select!",function we(){var e=we.$$p||n,r=this;if(delete we.$$p,e===n)return E(r,"enum_for",["select!"],function i(){return(null==i.$$s?this:i.$$s).$size()},{$$arity:0,$$s:r});var t=r.length;return E(r,"keep_if",[],e.$to_proc()),r.length===t?n:r},0),g(B,"$shift",function(e){var r=this;return a(e===undefined)?a(0===r.length)?n:R(r):(e=f(e,i("Integer"),"to_int"),a(e<0)&&p.$raise(i("ArgumentError"),"negative array size"),a(0===r.length)?[]:r.splice(0,e))},-1),g(B,"$shuffle",function(e){return this.$dup().$to_a()["$shuffle!"](e)},-1),g(B,"$shuffle!",function(e){var r,t,a,o=this,$=o.length;for(e!==undefined&&(e=m["$coerce_to?"](e,i("Hash"),"to_hash"))!==n&&(e=e["$[]"]("random"))!==n&&e["$respond_to?"]("rand")&&(r=e);$;)r?((t=r.$rand($).$to_int())<0&&p.$raise(i("RangeError"),"random number too small "+t),t>=$&&p.$raise(i("RangeError"),"random number too big "+t)):t=o.$rand($),a=o[--$],o[$]=o[t],o[t]=a;return o},-1),g(B,"$slice!",function(e,r){var t=this,o=n,$=n,s=n,u=n,l=n;if(o=n,a(r===undefined))if(v(i("Range"),e)){$=e,o=t["$[]"]($),s=$.begin===n?0:f($.begin,i("Integer"),"to_int"),u=$.end===n?-1:f($.end,i("Integer"),"to_int"),s<0&&(s+=t.length),u<0?u+=t.length:u>=t.length&&(u=t.length-1,$.excl&&(u+=1));var c=u-s;$.excl&&$.end!==n?u-=1:c+=1,s<t.length&&s>=0&&u<t.length&&u>=0&&c>0&&t.splice(s,c)}else{if((l=f(e,i("Integer"),"to_int"))<0&&(l+=t.length),l<0||l>=t.length)return n;o=t[l],0===l?t.shift():t.splice(l,1)}else{if(l=f(e,i("Integer"),"to_int"),(r=f(r,i("Integer"),"to_int"))<0)return n;o=t["$[]"](l,r),l<0&&(l+=t.length),l+r>t.length&&(r=t.length-l),l<t.length&&l>=0&&t.splice(l,r)}return o},-2),g(B,"$sort",function Ee(){var e=Ee.$$p||n,r=this;return delete Ee.$$p,a(r.length>1)?(e===n&&(e=function(e,r){return e["$<=>"](r)}),r.slice().sort(function(r,t){var a=e(r,t);return a===n&&p.$raise(i("ArgumentError"),"comparison of "+r.$inspect()+" with "+t.$inspect()+" failed"),x(a,0)?1:q(a,0)?-1:0})):r},0),g(B,"$sort!",function xe(){var e,r=xe.$$p||n,t=this;delete xe.$$p,e=r!==n?E(t.slice(),"sort",[],r.$to_proc()):t.slice().$sort(),t.length=0;for(var i=0,a=e.length;i<a;i++)t.push(e[i]);return t},0),g(B,"$sort_by!",function ke(){var e=ke.$$p||n,r=this;return delete ke.$$p,e===n?E(r,"enum_for",["sort_by!"],function t(){return(null==t.$$s?this:t.$$s).$size()},{$$arity:0,$$s:r}):r.$replace(E(r,"sort_by",[],e.$to_proc()))},0),g(B,"$take",function(e){var r=this;return e<0&&p.$raise(i("ArgumentError")),r.slice(0,e)},1),g(B,"$take_while",function Ae(){var e=Ae.$$p||n,r=this;delete Ae.$$p;for(var t,i,a=[],o=0,$=r.length;o<$;o++){if(!1===(i=e(t=r[o]))||i===n)return a;a.push(t)}return a},0),g(B,"$to_a",function(){var r=this;return r.$$class===e.Array?r:e.Array.$new(r)},0),g(B,"$to_ary",function(){return this},0),g(B,"$to_h",function Ie(){var e=Ie.$$p||n,r=this,t=n;delete Ie.$$p,t=r,e!==n&&(t=E(t,"map",[],e.$to_proc()));var a,o,$,s,u=t.length,c=y([],{});for(a=0;a<u;a++)(o=m["$coerce_to?"](t[a],i("Array"),"to_ary")).$$is_array||p.$raise(i("TypeError"),"wrong element type "+o.$class()+" at "+a+" (expected array)"),2!==o.length&&p.$raise(i("ArgumentError"),"wrong array length at "+a+" (expected 2, was "+o.$length()+")"),$=o[0],s=o[1],l(c,$,s);return c},0),g(B,"$transpose",function(){var e=this,r=n,t=n;return a(e["$empty?"]())?[]:(r=[],t=n,E(e,"each",[],function(e){var o=n;return null==e&&(e=n),e=v(i("Array"),e)?e.$to_a():f(e,i("Array"),"to_ary").$to_a(),t=a(o=t)?o:e.length,j(e.length,t)&&p.$raise(i("IndexError"),"element size differs ("+e.length+" should be "+t+")"),E(e.length,"times",[],function(t){var i=n;return null==t&&(t=n),(a(o=r["$[]"](t))?o:(E(r,"[]=",O(i=[t,[]])),i[I(i.length,1)]))["$<<"](e.$at(t))},1)},1),r)},0),g(B,"$union",function(){var r,t=this;return r=e.slice.call(arguments),E(r,"reduce",[t.$uniq()],function(e,r){return null==e&&(e=n),null==r&&(r=n),e["$|"](r)},2)},-1),g(B,"$uniq",function Oe(){var e=Oe.$$p||n,r=this;delete Oe.$$p;var t,i,a,o,$=y([],{});if(e===n)for(t=0,i=r.length;t<i;t++)a=r[t],u($,a)===undefined&&l($,a,a);else for(t=0,i=r.length;t<i;t++)a=r[t],o=s(e,a),u($,o)===undefined&&l($,o,a);return $.$values()},0),g(B,"$uniq!",function Se(){var e=Se.$$p||n,r=this;delete Se.$$p;var t,i,a,o,$=r.length,c=y([],{});for(t=0,i=$;t<i;t++)a=r[t],o=e===n?a:s(e,a),u(c,o)!==undefined?(r.splice(t,1),i--,t--):l(c,o,a);return r.length===$?n:r},0),g(B,"$unshift",function(){var r,t=this;r=e.slice.call(arguments);var n=t.length,i=r.length;if(0==i)return t;for(var a=n-i,o=0;o<i;o++)t.push(t[a+o]);for(var $=n-1;$-i>=0;)t[$]=t[$-i],$--;for(var s=0;s<i;s++)t[s]=r[s];return t},-1),g(B,"$values_at",function(){var r,t=this,o=n;return r=e.slice.call(arguments),o=[],E(r,"each",[],function $(e){var r=null==$.$$s?this:$.$$s,t=n,s=n,u=n;return null==e&&(e=n),a(e["$is_a?"](i("Range")))?(t=e.$end()===n?-1:f(e.$end(),i("Integer"),"to_int"),(s=e.$begin()===n?0:f(e.$begin(),i("Integer"),"to_int"))<0?(s+=r.length,n):(t<0&&(t+=r.length),e["$exclude_end?"]()&&e.$end()!==n&&t--,t<s?n:E(s,"upto",[t],function l(e){var r=null==l.$$s?this:l.$$s;return null==e&&(e=n),o["$<<"](r.$at(e))},{$$arity:1,$$s:r}))):(u=f(e,i("Integer"),"to_int"),o["$<<"](r.$at(u)))},{$$arity:1,$$s:t}),o},-1),g(B,"$zip",function Ne(){var r,t=Ne.$$p||n,o=this,$=n;delete Ne.$$p,r=e.slice.call(arguments);var s,u,l,c,f,d=[],h=o.length;for(c=0,f=r.length;c<f;c++)(u=r[c]).$$is_array||(u.$$is_range||u.$$is_enumerator?r[c]=u.$take(h):r[c]=(a($=m["$coerce_to?"](u,i("Array"),"to_ary"))?$:m["$coerce_to!"](u,i("Enumerator"),"to_enum","each")).$to_a());for(l=0;l<h;l++){for(s=[o[l]],c=0,f=r.length;c<f;c++)null==(u=r[c][l])&&(u=n),s[c+1]=u;d[l]=s}if(t!==n){for(l=0;l<h;l++)e.yield1(t,d[l]);return n}return d},-1),_(B,"$inherited",function(e){e.$$prototype.$to_a=function(){return this.slice(0,this.length)}},1),g(B,"$instance_variables",function ze(){var e=ze.$$p||n,r=this;return delete ze.$$p,E(b(r,w(r,"instance_variables",ze,!1,!0),"instance_variables",[],e),"reject",[],function(e){var r=n;return null==e&&(e=n),a(r=/^@\d+$/.test(e))?r:e["$=="]("@length")},1)},0),g(B,"$pack",function(){return e.slice.call(arguments),p.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},-1),M(B,"append","push"),M(B,"filter","select"),M(B,"filter!","select!"),M(B,"map","collect"),M(B,"map!","collect!"),M(B,"prepend","unshift"),M(B,"size","length"),M(B,"slice","[]"),M(B,"to_s","inspect"),m.$pristine(B.$singleton_class(),"allocate"),m.$pristine(B,"copy_instance_variables","initialize_dup")}(0,Array,t)},Opal.modules["corelib/hash"]=function(e){var r=e.top,t=[],n=e.nil,i=e.$$$,a=e.yield1,o=e.hash,$=e.hash_init,s=e.hash_get,u=e.hash_put,l=e.hash_delete,c=e.klass,f=e.Opal,d=e.Kernel,h=e.defs,_=e.def,p=e.send,g=e.rb_ge,m=e.rb_gt,v=e.hash2,y=e.truthy,b=e.to_a,w=e.rb_minus,E=e.alias;return e.add_stubs("require,include,coerce_to?,[],merge!,allocate,raise,coerce_to!,each,fetch,>=,>,==,compare_by_identity,lambda?,abs,arity,enum_for,size,respond_to?,class,dig,except!,dup,delete,new,inspect,map,to_proc,flatten,eql?,default,default_proc,default_proc=,-,default=,to_h,proc"),r.$require("corelib/enumerable"),function(r,$super,t){var x,k=c("::",null,"Hash"),A=[k].concat(t),I=e.$r(A);return k.$include(i("Enumerable")),k.$$prototype.$$is_hash=!0,h(k,"$[]",function(){var r,t,a,o=this,$=(r=e.slice.call(arguments)).length;if(1===$){if((t=f["$coerce_to?"](r["$[]"](0),i("Hash"),"to_hash"))!==n)return o.$allocate()["$merge!"](t);for((r=f["$coerce_to?"](r["$[]"](0),i("Array"),"to_ary"))===n&&d.$raise(i("ArgumentError"),"odd number of arguments for Hash"),$=r.length,t=o.$allocate(),a=0;a<$;a++)if(r[a].$$is_array)switch(r[a].length){case 1:t.$store(r[a][0],n);break;case 2:t.$store(r[a][0],r[a][1]);break;default:d.$raise(i("ArgumentError"),"invalid number of elements ("+r[a].length+" for 1..2)")}return t}for($%2!=0&&d.$raise(i("ArgumentError"),"odd number of arguments for Hash"),t=o.$allocate(),a=0;a<$;a+=2)t.$store(r[a],r[a+1]);return t},-1),h(k,"$allocate",function(){var e=new this.$$constructor;return $(e),e.$$none=n,e.$$proc=n,e},0),h(k,"$try_convert",function(e){return f["$coerce_to?"](e,i("Hash"),"to_hash")},1),_(k,"$initialize",function O(e){var r=O.$$p||n,t=this;return delete O.$$p,e!==undefined&&r!==n&&d.$raise(i("ArgumentError"),"wrong number of arguments (1 for 0)"),t.$$none=e===undefined?n:e,t.$$proc=r,t},-1),_(k,"$==",function(e){var r=this;if(r===e)return!0;if(!e.$$is_hash)return!1;if(r.$$keys.length!==e.$$keys.length)return!1;for(var t,n,i,a=0,o=r.$$keys,$=o.length;a<$;a++)if((t=o[a]).$$is_string?(n=r.$$smap[t],i=e.$$smap[t]):(n=t.value,i=s(e,t.key)),i===undefined||!n["$eql?"](i))return!1;return!0},1),_(k,"$>=",function(e){var r=this,t=n;return e=f["$coerce_to!"](e,i("Hash"),"to_hash"),!(r.$$keys.length<e.$$keys.length)&&(t=!0,p(e,"each",[],function a(e,r){var i=null==a.$$s?this:a.$$s,o=n;null==e&&(e=n),null==r&&(r=n),null!=(o=i.$fetch(e,null))&&o===r||(t=!1)},{$$arity:2,$$s:r}),t)},1),_(k,"$>",function(e){var r=this;return e=f["$coerce_to!"](e,i("Hash"),"to_hash"),!(r.$$keys.length<=e.$$keys.length)&&g(r,e)},1),_(k,"$<",function(e){var r=this;return e=f["$coerce_to!"](e,i("Hash"),"to_hash"),m(e,r)},1),_(k,"$<=",function(e){var r=this;return e=f["$coerce_to!"](e,i("Hash"),"to_hash"),g(e,r)},1),_(k,"$[]",function(e){var r=this,t=s(r,e);return t!==undefined?t:r.$default(e)},1),_(k,"$[]=",function(e,r){return u(this,e,r),r},2),_(k,"$assoc",function(e){for(var r,t=this,i=0,a=t.$$keys,o=a.length;i<o;i++)if((r=a[i]).$$is_string){if(r["$=="](e))return[r,t.$$smap[r]]}else if(r.key["$=="](e))return[r.key,r.value];return n},1),_(k,"$clear",function(){var e=this;return $(e),e},0),_(k,"$clone",function(){var r=this,t=new r.$$class;return $(t),e.hash_clone(r,t),t},0),_(k,"$compact",function(){for(var e,r,t=this,i=o(),a=0,$=t.$$keys,s=$.length;a<s;a++)(e=$[a]).$$is_string?r=t.$$smap[e]:(r=e.value,e=e.key),r!==n&&u(i,e,r);return i},0),_(k,"$compact!",function(){for(var e,r,t=this,i=!1,a=0,o=t.$$keys,$=o.length;a<$;a++)(e=o[a]).$$is_string?r=t.$$smap[e]:(r=e.value,e=e.key),r===n&&l(t,e)!==undefined&&(i=!0,$--,a--);return i?t:n},0),_(k,"$compare_by_identity",function(){var e,r,t,n,i=this,a=i.$$keys;if(i.$$by_identity)return i;if(0===i.$$keys.length)return i.$$by_identity=!0,i;for(n=v([],{}).$compare_by_identity(),e=0,r=a.length;e<r;e++)(t=a[e]).$$is_string||(t=t.key),u(n,t,s(i,t));return i.$$by_identity=!0,i.$$map=n.$$map,i.$$smap=n.$$smap,i},0),_(k,"$compare_by_identity?",function(){return!0===this.$$by_identity},0),_(k,"$default",function(e){var r=this;return e!==undefined&&r.$$proc!==n&&r.$$proc!==undefined?r.$$proc.$call(r,e):r.$$none===undefined?n:r.$$none},-1),_(k,"$default=",function(e){var r=this;return r.$$proc=n,r.$$none=e,e},1),_(k,"$default_proc",function(){var e=this;return e.$$proc!==undefined?e.$$proc:n},0),_(k,"$default_proc=",function(e){var r=this,t=e;return t!==n&&(t=f["$coerce_to!"](t,i("Proc"),"to_proc"))["$lambda?"]()&&2!==t.$arity().$abs()&&d.$raise(i("TypeError"),"default_proc takes two arguments"),r.$$none=n,r.$$proc=t,e},1),_(k,"$delete",function S(r){var t=S.$$p||n,i=this;delete S.$$p;var a=l(i,r);return a!==undefined?a:t!==n?e.yield1(t,r):n},1),_(k,"$delete_if",function N(){var e=N.$$p||n,r=this;if(delete N.$$p,!y(e))return p(r,"enum_for",["delete_if"],function u(){return(null==u.$$s?this:u.$$s).$size()},{$$arity:0,$$s:r});for(var t,i,a,o=0,$=r.$$keys,s=$.length;o<s;o++)(t=$[o]).$$is_string?i=r.$$smap[t]:(i=t.value,t=t.key),!1!==(a=e(t,i))&&a!==n&&l(r,t)!==undefined&&(s--,o--);return r},0),_(k,"$dig",function(r){var t,a=this,o=n;return t=e.slice.call(arguments,1),(o=a["$[]"](r))===n||0===t.length?o:(y(o["$respond_to?"]("dig"))||d.$raise(i("TypeError"),o.$class()+" does not have #dig method"),p(o,"dig",b(t)))},-2),_(k,"$each",function z(){var e=z.$$p||n,r=this;if(delete z.$$p,!y(e))return p(r,"enum_for",["each"],function u(){return(null==u.$$s?this:u.$$s).$size()},{$$arity:0,$$s:r});for(var t,i,o=0,$=r.$$keys,s=$.length;o<s;o++)(t=$[o]).$$is_string?i=r.$$smap[t]:(i=t.value,t=t.key),a(e,[t,i]);return r},0),_(k,"$each_key",function q(){var e=q.$$p||n,r=this;if(delete q.$$p,!y(e))return p(r,"enum_for",["each_key"],function $(){return(null==$.$$s?this:$.$$s).$size()},{$$arity:0,$$s:r});for(var t,i=0,a=r.$$keys,o=a.length;i<o;i++)e((t=a[i]).$$is_string?t:t.key);return r},0),_(k,"$each_value",function j(){var e=j.$$p||n,r=this;if(delete j.$$p,!y(e))return p(r,"enum_for",["each_value"],function $(){return(null==$.$$s?this:$.$$s).$size()},{$$arity:0,$$s:r});for(var t,i=0,a=r.$$keys,o=a.length;i<o;i++)e((t=a[i]).$$is_string?r.$$smap[t]:t.value);return r},0),_(k,"$empty?",function(){return 0===this.$$keys.length},0),_(k,"$except",function(){var r,t=this;return r=e.slice.call(arguments),p(t.$dup(),"except!",b(r))},-1),_(k,"$except!",function(){var r,t=this;return r=e.slice.call(arguments),p(r,"each",[],function i(e){var r=null==i.$$s?this:i.$$s;return null==e&&(e=n),r.$delete(e)},{$$arity:1,$$s:t}),t},-1),_(k,"$fetch",function M(e,r){var t=M.$$p||n,a=this;delete M.$$p;var o=s(a,e);return o!==undefined?o:t!==n?t(e):r!==undefined?r:d.$raise(i("KeyError").$new("key not found: "+e.$inspect(),v(["key","receiver"],{key:e,receiver:a})))},-2),_(k,"$fetch_values",function R(){var r,t=R.$$p||n,i=this;return delete R.$$p,r=e.slice.call(arguments),p(r,"map",[],function a(e){var r=null==a.$$s?this:a.$$s;return null==e&&(e=n),p(r,"fetch",[e],t.$to_proc())},{$$arity:1,$$s:i})},-1),_(k,"$flatten",function(e){var r=this;null==e&&(e=1),e=f["$coerce_to!"](e,i("Integer"),"to_int");for(var t,n,a=[],o=0,$=r.$$keys,s=$.length;o<s;o++)if((t=$[o]).$$is_string?n=r.$$smap[t]:(n=t.value,t=t.key),a.push(t),n.$$is_array){if(1===e){a.push(n);continue}a=a.concat(n.$flatten(e-2))}else a.push(n);return a},-1),_(k,"$has_key?",function(e){return s(this,e)!==undefined},1),_(k,"$has_value?",function(e){for(var r,t=this,n=0,i=t.$$keys,a=i.length;n<a;n++)if(((r=i[n]).$$is_string?t.$$smap[r]:r.value)["$=="](e))return!0;return!1},1),_(k,"$hash",function(){var r,t,n=this,i=e.hash_ids===undefined,a=n.$object_id(),o=["Hash"];try{if(i&&(e.hash_ids=Object.create(null)),e[a])return"self";for(r in e.hash_ids)if(t=e.hash_ids[r],n["$eql?"](t))return"self";e.hash_ids[a]=n;for(var $=0,s=n.$$keys,u=s.length;$<u;$++)(r=s[$]).$$is_string?o.push([r,n.$$smap[r].$hash()]):o.push([r.key_hash,r.value.$hash()]);return o.sort().join()}finally{i&&(e.hash_ids=undefined)}},0),_(k,"$index",function(e){for(var r,t,i=this,a=0,o=i.$$keys,$=o.length;a<$;a++)if((r=o[a]).$$is_string?t=i.$$smap[r]:(t=r.value,r=r.key),t["$=="](e))return r;return n},1),_(k,"$indexes",function(){for(var r,t,n,i=this,a=[],o=0,$=(r=e.slice.call(arguments)).length;o<$;o++)t=r[o],(n=s(i,t))!==undefined?a.push(n):a.push(i.$default());return a},-1),_(k,"$inspect",function(){var e=this,r=x===undefined,t=e.$object_id(),n=[];return function(){try{if(r&&(x={}),x.hasOwnProperty(t))return"{...}";x[t]=!0;for(var i,a,o=0,$=e.$$keys,s=$.length;o<s;o++)(i=$[o]).$$is_string?a=e.$$smap[i]:(a=i.value,i=i.key),i=I("Opal").$inspect(i),a=I("Opal").$inspect(a),n.push(i+"=>"+a);return"{"+n.join(", ")+"}"}finally{r&&(x=undefined)}}()},0),_(k,"$invert",function(){for(var e,r,t=this,n=o(),i=0,a=t.$$keys,$=a.length;i<$;i++)(e=a[i]).$$is_string?r=t.$$smap[e]:(r=e.value,e=e.key),u(n,r,e);return n},0),_(k,"$keep_if",function T(){var e=T.$$p||n,r=this;if(delete T.$$p,!y(e))return p(r,"enum_for",["keep_if"],function u(){return(null==u.$$s?this:u.$$s).$size()},{$$arity:0,$$s:r});for(var t,i,a,o=0,$=r.$$keys,s=$.length;o<s;o++)(t=$[o]).$$is_string?i=r.$$smap[t]:(i=t.value,t=t.key),!1!==(a=e(t,i))&&a!==n||l(r,t)!==undefined&&(s--,o--);return r},0),_(k,"$keys",function(){for(var e,r=[],t=0,n=this.$$keys,i=n.length;t<i;t++)(e=n[t]).$$is_string?r.push(e):r.push(e.key);return r},0),_(k,"$length",function(){return this.$$keys.length},0),_(k,"$merge",function C(){var r,t=C.$$p||n,i=this;return delete C.$$p,r=e.slice.call(arguments),p(i.$dup(),"merge!",b(r),t.$to_proc())},-1),_(k,"$merge!",function F(){var r,t,a,o,$,l,c,d,h,_=F.$$p||n,p=this;for(delete F.$$p,r=e.slice.call(arguments),t=0;t<r.length;++t)if(l=($=(o=f["$coerce_to!"](r[t],i("Hash"),"to_hash")).$$keys).length,_===n)for(a=0;a<l;a++)(c=$[a]).$$is_string?h=o.$$smap[c]:(h=c.value,c=c.key),u(p,c,h);else for(a=0;a<l;a++)(c=$[a]).$$is_string?h=o.$$smap[c]:(h=c.value,c=c.key),(d=s(p,c))!==undefined?u(p,c,_(c,d,h)):u(p,c,h);return p},-1),_(k,"$rassoc",function(e){for(var r,t,i=this,a=0,o=i.$$keys,$=o.length;a<$;a++)if((r=o[a]).$$is_string?t=i.$$smap[r]:(t=r.value,r=r.key),t["$=="](e))return[r,t];return n},1),_(k,"$rehash",function(){var r=this;return e.hash_rehash(r),r},0),_(k,"$reject",function P(){var e=P.$$p||n,r=this;if(delete P.$$p,!y(e))return p(r,"enum_for",["reject"],function f(){return(null==f.$$s?this:f.$$s).$size()},{$$arity:0,$$s:r});for(var t,i,a,$=o(),s=0,l=r.$$keys,c=l.length;s<c;s++)(t=l[s]).$$is_string?i=r.$$smap[t]:(i=t.value,t=t.key),!1!==(a=e(t,i))&&a!==n||u($,t,i);return $},0),_(k,"$reject!",function D(){var e=D.$$p||n,r=this;if(delete D.$$p,!y(e))return p(r,"enum_for",["reject!"],function c(){return(null==c.$$s?this:c.$$s).$size()},{$$arity:0,$$s:r});for(var t,i,a,o=!1,$=0,s=r.$$keys,u=s.length;$<u;$++)(t=s[$]).$$is_string?i=r.$$smap[t]:(i=t.value,t=t.key),!1!==(a=e(t,i))&&a!==n&&l(r,t)!==undefined&&(o=!0,u--,$--);return o?r:n},0),_(k,"$replace",function(e){var r=this,t=n;e=f["$coerce_to!"](e,i("Hash"),"to_hash"),$(r);for(var a,o,s=0,l=e.$$keys,c=l.length;s<c;s++)(a=l[s]).$$is_string?o=e.$$smap[a]:(o=a.value,a=a.key),u(r,a,o);return y(e.$default_proc())?(t=[e.$default_proc()],p(r,"default_proc=",b(t)),t[w(t.length,1)]):(t=[e.$default()],p(r,"default=",b(t)),t[w(t.length,1)]),r},1),_(k,"$select",function L(){var e=L.$$p||n,r=this;if(delete L.$$p,!y(e))return p(r,"enum_for",["select"],function f(){return(null==f.$$s?this:f.$$s).$size()},{$$arity:0,$$s:r});for(var t,i,a,$=o(),s=0,l=r.$$keys,c=l.length;s<c;s++)(t=l[s]).$$is_string?i=r.$$smap[t]:(i=t.value,t=t.key),!1!==(a=e(t,i))&&a!==n&&u($,t,i);return $},0),_(k,"$select!",function U(){var e=U.$$p||n,r=this;if(delete U.$$p,!y(e))return p(r,"enum_for",["select!"],function c(){return(null==c.$$s?this:c.$$s).$size()},{$$arity:0,$$s:r});for(var t,i,a,o=n,$=0,s=r.$$keys,u=s.length;$<u;$++)(t=s[$]).$$is_string?i=r.$$smap[t]:(i=t.value,t=t.key),!1!==(a=e(t,i))&&a!==n||(l(r,t)!==undefined&&(u--,$--),o=r);return o},0),_(k,"$shift",function(){var e,r=this,t=r.$$keys;return t.length>0?[e=(e=t[0]).$$is_string?e:e.key,l(r,e)]:r.$default(n)},0),_(k,"$slice",function(){var r,t=this;r=e.slice.call(arguments);for(var n=o(),i=0,a=r.length;i<a;i++){var $=r[i],l=s(t,$);l!==undefined&&u(n,$,l)}return n},-1),_(k,"$to_a",function(){for(var e,r,t=this,n=[],i=0,a=t.$$keys,o=a.length;i<o;i++)(e=a[i]).$$is_string?r=t.$$smap[e]:(r=e.value,e=e.key),n.push([e,r]);return n},0),_(k,"$to_h",function B(){var r=B.$$p||n,t=this;if(delete B.$$p,r!==n)return p(t,"map",[],r.$to_proc()).$to_h();if(t.$$class===e.Hash)return t;var i=new e.Hash;return $(i),e.hash_clone(t,i),i},0),_(k,"$to_hash",function(){return this},0),_(k,"$to_proc",function(){var e=this;return p(e,"proc",[],function r(e){var t=null==r.$$s?this:r.$$s;return null==e&&d.$raise(i("ArgumentError"),"no key given"),t["$[]"](e)},{$$arity:-1,$$s:e})},0),_(k,"$transform_keys",function K(){var e=K.$$p||n,r=this;if(delete K.$$p,!y(e))return p(r,"enum_for",["transform_keys"],function f(){return(null==f.$$s?this:f.$$s).$size()},{$$arity:0,$$s:r});for(var t,i,$=o(),s=0,l=r.$$keys,c=l.length;s<c;s++)(t=l[s]).$$is_string?i=r.$$smap[t]:(i=t.value,t=t.key),t=a(e,t),u($,t,i);return $},0),_(k,"$transform_keys!",function H(){var r=H.$$p||n,t=this;if(delete H.$$p,!y(r))return p(t,"enum_for",["transform_keys!"],function d(){return(null==d.$$s?this:d.$$s).$size()},{$$arity:0,$$s:t});var i,o,$,s,c=e.slice.call(t.$$keys),f=c.length;for(i=0;i<f;i++)(o=c[i]).$$is_string?$=t.$$smap[o]:($=o.value,o=o.key),s=a(r,o),l(t,o),u(t,s,$);return t},0),_(k,"$transform_values",function Y(){var e=Y.$$p||n,r=this;if(delete Y.$$p,!y(e))return p(r,"enum_for",["transform_values"],function f(){return(null==f.$$s?this:f.$$s).$size()},{$$arity:0,$$s:r});for(var t,i,$=o(),s=0,l=r.$$keys,c=l.length;s<c;s++)(t=l[s]).$$is_string?i=r.$$smap[t]:(i=t.value,t=t.key),i=a(e,i),u($,t,i);return $},0),_(k,"$transform_values!",function G(){var e=G.$$p||n,r=this;if(delete G.$$p,!y(e))return p(r,"enum_for",["transform_values!"],function l(){return(null==l.$$s?this:l.$$s).$size()},{$$arity:0,$$s:r});for(var t,i,o=0,$=r.$$keys,s=$.length;o<s;o++)(t=$[o]).$$is_string?i=r.$$smap[t]:(i=t.value,t=t.key),i=a(e,i),u(r,t,i);return r},0),_(k,"$values",function(){for(var e,r=this,t=[],n=0,i=r.$$keys,a=i.length;n<a;n++)(e=i[n]).$$is_string?t.push(r.$$smap[e]):t.push(e.value);return t},0),E(k,"dup","clone"),E(k,"each_pair","each"),E(k,"eql?","=="),E(k,"filter","select"),E(k,"filter!","select!"),E(k,"include?","has_key?"),E(k,"indices","indexes"),E(k,"key","index"),E(k,"key?","has_key?"),E(k,"member?","has_key?"),E(k,"size","length"),E(k,"store","[]="),E(k,"to_s","inspect"),E(k,"update","merge!"),E(k,"value?","has_value?"),E(k,"values_at","indexes")}(0,0,t)},Opal.modules["corelib/number"]=function(e){var r=e.top,t=[],n=e.nil,i=e.$$$,a=e.klass,o=e.Opal,$=e.Kernel,s=e.def,u=e.eqeqeq,l=e.truthy,c=e.rb_gt,f=e.not,d=e.rb_lt,h=e.send2,_=e.find_super,p=e.send,g=e.rb_plus,m=e.rb_minus,v=e.eqeq,y=e.rb_divide,b=e.to_ary,w=e.rb_times,E=e.rb_le,x=e.rb_ge,k=e.alias,A=e.const_set;return e.add_stubs("require,bridge,raise,name,class,Float,respond_to?,coerce_to!,__coerced__,===,>,!,**,new,<,to_f,==,nan?,infinite?,enum_for,+,-,gcd,lcm,%,/,frexp,to_i,ldexp,rationalize,*,<<,to_r,truncate,-@,size,<=,>=,inspect,coerce_to?"),r.$require("corelib/numeric"),function(r,$super,t){var A=a(r,$super,"Number");[A].concat(t);o.$bridge(Number,A),e.prop(A.$$prototype,"$$is_number",!0),A.$$is_number_class=!0,function(r){s(r,"$allocate",function(){var e=this;return $.$raise(i("TypeError"),"allocator undefined for "+e.$name())},0),e.udef(r,"$new")}(e.get_singleton_class(A)),s(A,"$coerce",function(e){var r=this;if(e===n)$.$raise(i("TypeError"),"can't convert "+e.$class()+" into Float");else{if(e.$$is_string)return[$.$Float(e),r];if(e["$respond_to?"]("to_f"))return[o["$coerce_to!"](e,i("Float"),"to_f"),r];if(e.$$is_number)return[e,r];$.$raise(i("TypeError"),"can't convert "+e.$class()+" into Float")}},1),s(A,"$__id__",function(){return 2*this+1},0),s(A,"$+",function(e){var r=this;return e.$$is_number?r+e:r.$__coerced__("+",e)},1),s(A,"$-",function(e){var r=this;return e.$$is_number?r-e:r.$__coerced__("-",e)},1),s(A,"$*",function(e){var r=this;return e.$$is_number?r*e:r.$__coerced__("*",e)},1),s(A,"$/",function(e){var r=this;return e.$$is_number?r/e:r.$__coerced__("/",e)},1),s(A,"$%",function(e){var r=this;return e.$$is_number?e==-Infinity?e:0!=e?e<0||r<0?(r%e+e)%e:r%e:void $.$raise(i("ZeroDivisionError"),"divided by 0"):r.$__coerced__("%",e)},1),s(A,"$&",function(e){var r=this;return e.$$is_number?r&e:r.$__coerced__("&",e)},1),s(A,"$|",function(e){var r=this;return e.$$is_number?r|e:r.$__coerced__("|",e)},1),s(A,"$^",function(e){var r=this;return e.$$is_number?r^e:r.$__coerced__("^",e)},1),s(A,"$<",function(e){var r=this;return e.$$is_number?r<e:r.$__coerced__("<",e)},1),s(A,"$<=",function(e){var r=this;return e.$$is_number?r<=e:r.$__coerced__("<=",e)},1),s(A,"$>",function(e){var r=this;return e.$$is_number?r>e:r.$__coerced__(">",e)},1),s(A,"$>=",function(e){var r=this;return e.$$is_number?r>=e:r.$__coerced__(">=",e)},1);var I=function(e,r){return r.$$is_number?isNaN(e)||isNaN(r)?n:e>r?1:e<r?-1:0:e.$__coerced__("<=>",r)};s(A,"$<=>",function(r){var t=this;try{return I(t,r)}catch(a){if(!e.rescue(a,[i("ArgumentError")]))throw a;try{return n}finally{e.pop_exception()}}},1),s(A,"$<<",function(e){var r=this;return(e=o["$coerce_to!"](e,i("Integer"),"to_int"))>0?r<<e:r>>-e},1),s(A,"$>>",function(e){var r=this;return(e=o["$coerce_to!"](e,i("Integer"),"to_int"))>0?r>>e:r<<-e},1),s(A,"$[]",function(e){var r=this;return(e=o["$coerce_to!"](e,i("Integer"),"to_int"))<0?0:e>=32?r<0?1:0:r>>e&1},1),s(A,"$+@",function(){return+this},0),s(A,"$-@",function(){return-this},0),s(A,"$~",function(){return~this},0),s(A,"$**",function(e){var r=this
;return u(i("Integer"),e)?f(i("Integer")["$==="](r))||l(c(e,0))?Math.pow(r,e):i("Rational").$new(r,1)["$**"](e):d(r,0)&&(u(i("Float"),e)||u(i("Rational"),e))?i("Complex").$new(r,0)["$**"](e.$to_f()):l(null!=e.$$is_number)?Math.pow(r,e):r.$__coerced__("**",e)},1),s(A,"$===",function(e){var r=this;return e.$$is_number?r.valueOf()===e.valueOf():!!e["$respond_to?"]("==")&&e["$=="](r)},1),s(A,"$==",function(e){var r=this;return e.$$is_number?r.valueOf()===e.valueOf():!!e["$respond_to?"]("==")&&e["$=="](r)},1),s(A,"$abs",function(){var e=this;return Math.abs(e)},0),s(A,"$abs2",function(){var e=this;return Math.abs(e*e)},0),s(A,"$allbits?",function(e){return(this&(e=o["$coerce_to!"](e,i("Integer"),"to_int")))==e},1),s(A,"$anybits?",function(e){return 0!=(this&(e=o["$coerce_to!"](e,i("Integer"),"to_int")))},1),s(A,"$angle",function(){var e=this;return l(e["$nan?"]())?e:0==e?1/e>0?0:Math.PI:e<0?Math.PI:0},0),s(A,"$bit_length",function(){var e=this;if(u(i("Integer"),e)||$.$raise(i("NoMethodError").$new("undefined method `bit_length` for "+e+":Float","bit_length")),0===e||-1===e)return 0;for(var r=0,t=e<0?~e:e;0!=t;)r+=1,t>>>=1;return r},0),s(A,"$ceil",function(e){null==e&&(e=0);var r=this.$to_f();if(r%1==0&&e>=0)return r;var t=Math.pow(10,e),n=Math.ceil(r*t)/t;return r%1==0&&(n=Math.round(n)),n},-1),s(A,"$chr",function(r){var t=this;return e.enc(String.fromCharCode(t),r||"BINARY")},-1),s(A,"$denominator",function O(){var e=O.$$p||n,r=this;return delete O.$$p,l(r["$nan?"]())||l(r["$infinite?"]())?1:h(r,_(r,"denominator",O,!1,!0),"denominator",[],e)},0),s(A,"$downto",function S(e){var r=S.$$p||n,t=this;if(delete S.$$p,r===n)return p(t,"enum_for",["downto",e],function o(){var r=null==o.$$s?this:o.$$s;return u(i("Numeric"),e)||$.$raise(i("ArgumentError"),"comparison of "+r.$class()+" with "+e.$class()+" failed"),l(c(e,r))?0:g(m(r,e),1)},{$$arity:0,$$s:t});e.$$is_number||$.$raise(i("ArgumentError"),"comparison of "+t.$class()+" with "+e.$class()+" failed");for(var a=t;a>=e;a--)r(a);return t},1),s(A,"$equal?",function(e){var r=this,t=n;return l(t=r["$=="](e))?t:isNaN(r)&&isNaN(e)},1),s(A,"$even?",function(){return this%2==0},0),s(A,"$floor",function(e){null==e&&(e=0);var r=this.$to_f();if(r%1==0&&e>=0)return r;var t=Math.pow(10,e),n=Math.floor(r*t)/t;return r%1==0&&(n=Math.round(n)),n},-1),s(A,"$gcd",function(e){var r=this;u(i("Integer"),e)||$.$raise(i("TypeError"),"not an integer");for(var t=Math.abs(r),n=Math.abs(e);t>0;){var a=t;t=n%t,n=a}return n},1),s(A,"$gcdlcm",function(e){var r=this;return[r.$gcd(e),r.$lcm(e)]},1),s(A,"$integer?",function(){return this%1==0},0),s(A,"$is_a?",function N(e){var r=N.$$p||n,t=this;return delete N.$$p,!(!v(e,i("Integer"))||!u(i("Integer"),t))||(!(!v(e,i("Integer"))||!u(i("Integer"),t))||(!(!v(e,i("Float"))||!u(i("Float"),t))||h(t,_(t,"is_a?",N,!1,!0),"is_a?",[e],r)))},1),s(A,"$instance_of?",function z(e){var r=z.$$p||n,t=this;return delete z.$$p,!(!v(e,i("Integer"))||!u(i("Integer"),t))||(!(!v(e,i("Integer"))||!u(i("Integer"),t))||(!(!v(e,i("Float"))||!u(i("Float"),t))||h(t,_(t,"instance_of?",z,!1,!0),"instance_of?",[e],r)))},1),s(A,"$lcm",function(e){var r=this;return u(i("Integer"),e)||$.$raise(i("TypeError"),"not an integer"),0==r||0==e?0:Math.abs(r*e/r.$gcd(e))},1),s(A,"$next",function(){return this+1},0),s(A,"$nobits?",function(e){return 0==(this&(e=o["$coerce_to!"](e,i("Integer"),"to_int")))},1),s(A,"$nonzero?",function(){var e=this;return 0==e?n:e},0),s(A,"$numerator",function q(){var e=q.$$p||n,r=this;return delete q.$$p,l(r["$nan?"]())||l(r["$infinite?"]())?r:h(r,_(r,"numerator",q,!1,!0),"numerator",[],e)},0),s(A,"$odd?",function(){return this%2!=0},0),s(A,"$ord",function(){return this},0),s(A,"$pow",function(e,r){var t=this;return 0==t&&$.$raise(i("ZeroDivisionError"),"divided by 0"),r===undefined?t["$**"](e):(i("Integer")["$==="](e)||$.$raise(i("TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),e<0&&$.$raise(i("TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),i("Integer")["$==="](r)||$.$raise(i("TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),0===r&&$.$raise(i("ZeroDivisionError"),"divided by 0"),t["$**"](e)["$%"](r))},-2),s(A,"$pred",function(){return this-1},0),s(A,"$quo",function j(e){var r=j.$$p||n,t=this;return delete j.$$p,u(i("Integer"),t)?h(t,_(t,"quo",j,!1,!0),"quo",[e],r):y(t,e)},1),s(A,"$rationalize",function(e){var r,t,a=this,o=n,s=n;return arguments.length>1&&$.$raise(i("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),u(i("Integer"),a)?i("Rational").$new(a,1):l(a["$infinite?"]())?$.$raise(i("FloatDomainError"),"Infinity"):l(a["$nan?"]())?$.$raise(i("FloatDomainError"),"NaN"):l(null==e)?(t=i("Math").$frexp(a),o=null==(r=b(t))[0]?n:r[0],s=null==r[1]?n:r[1],o=i("Math").$ldexp(o,i(i("Float"),"MANT_DIG")).$to_i(),s=m(s,i(i("Float"),"MANT_DIG")),i("Rational").$new(w(2,o),1["$<<"](m(1,s))).$rationalize(i("Rational").$new(1,1["$<<"](m(1,s))))):a.$to_r().$rationalize(e)},-1),s(A,"$remainder",function(e){var r=this;return m(r,w(e,y(r,e).$truncate()))},1),s(A,"$round",function(e){var r,t,a=this,s=n;if(u(i("Integer"),a)){if(l(null==e))return a;if(u(i("Float"),e)&&l(e["$infinite?"]())&&$.$raise(i("RangeError"),"Infinity"),e=o["$coerce_to!"](e,i("Integer"),"to_int"),l(d(e,i(i("Integer"),"MIN")))&&$.$raise(i("RangeError"),"out of bounds"),l(e>=0))return a;if(.415241*(e=e["$-@"]())-.125>a.$size())return 0;var f=Math.pow(10,e),h=Math.floor((Math.abs(a)+f/2)/f)*f;return a<0?-h:h}if(l(a["$nan?"]())&&l(null==e)&&$.$raise(i("FloatDomainError"),"NaN"),e=o["$coerce_to!"](e||0,i("Integer"),"to_int"),l(E(e,0)))l(a["$nan?"]())?$.$raise(i("RangeError"),"NaN"):l(a["$infinite?"]())&&$.$raise(i("FloatDomainError"),"Infinity");else{if(v(e,0))return Math.round(a);if(l(a["$nan?"]())||l(a["$infinite?"]()))return a}return t=i("Math").$frexp(a),null==(r=b(t))[0]?n:r[0],s=null==r[1]?n:r[1],l(x(e,m(g(i(i("Float"),"DIG"),2),l(c(s,0))?y(s,4):m(y(s,3),1))))?a:l(d(e,(l(c(s,0))?g(y(s,3),1):y(s,4))["$-@"]()))?0:Math.round(a*Math.pow(10,e))/Math.pow(10,e)},-1),s(A,"$times",function M(){var e=M.$$p||n,r=this;if(delete M.$$p,!l(e))return p(r,"enum_for",["times"],function i(){return null==i.$$s?this:i.$$s},{$$arity:0,$$s:r});for(var t=0;t<r;t++)e(t);return r},0),s(A,"$to_f",function(){return this},0),s(A,"$to_i",function(){var e=this;return e<0?Math.ceil(e):Math.floor(e)},0),s(A,"$to_r",function(){var e,r,t=this,a=n,o=n;return u(i("Integer"),t)?i("Rational").$new(t,1):(r=i("Math").$frexp(t),a=null==(e=b(r))[0]?n:e[0],o=null==e[1]?n:e[1],a=i("Math").$ldexp(a,i(i("Float"),"MANT_DIG")).$to_i(),o=m(o,i(i("Float"),"MANT_DIG")),w(a,i(i("Float"),"RADIX")["$**"](o)).$to_r())},0),s(A,"$to_s",function(e){var r=this;return null==e&&(e=10),e=o["$coerce_to!"](e,i("Integer"),"to_int"),(l(d(e,2))||l(c(e,36)))&&$.$raise(i("ArgumentError"),"invalid radix "+e),v(r,0)&&l(1/r==-Infinity)?"-0.0":r.toString(e)},-1),s(A,"$truncate",function(e){null==e&&(e=0);var r=this.$to_f();if(r%1==0&&e>=0)return r;var t=Math.pow(10,e),n=parseInt(r*t,10)/t;return r%1==0&&(n=Math.round(n)),n},-1),s(A,"$digits",function(e){var r=this;null==e&&(e=10),d(r,0)&&$.$raise(i(i("Math"),"DomainError"),"out of domain"),e=o["$coerce_to!"](e,i("Integer"),"to_int"),l(d(e,2))&&$.$raise(i("ArgumentError"),"invalid radix "+e),r!=parseInt(r)&&$.$raise(i("NoMethodError"),"undefined method `digits' for "+r.$inspect());var t=r,n=[];if(0==r)return[0];for(;0!=t;)n.push(t%e),t=parseInt(t/e,10);return n},-1),s(A,"$divmod",function R(e){var r=R.$$p||n,t=this;return delete R.$$p,l(t["$nan?"]())||l(e["$nan?"]())?$.$raise(i("FloatDomainError"),"NaN"):l(t["$infinite?"]())?$.$raise(i("FloatDomainError"),"Infinity"):h(t,_(t,"divmod",R,!1,!0),"divmod",[e],r)},1),s(A,"$upto",function T(e){var r=T.$$p||n,t=this;if(delete T.$$p,r===n)return p(t,"enum_for",["upto",e],function o(){var r=null==o.$$s?this:o.$$s;return u(i("Numeric"),e)||$.$raise(i("ArgumentError"),"comparison of "+r.$class()+" with "+e.$class()+" failed"),l(d(e,r))?0:g(m(e,r),1)},{$$arity:0,$$s:t});e.$$is_number||$.$raise(i("ArgumentError"),"comparison of "+t.$class()+" with "+e.$class()+" failed");for(var a=t;a<=e;a++)r(a);return t},1),s(A,"$zero?",function(){return 0==this},0),s(A,"$size",function(){return 4},0),s(A,"$nan?",function(){return isNaN(this)},0),s(A,"$finite?",function(){var e=this;return e!=Infinity&&e!=-Infinity&&!isNaN(e)},0),s(A,"$infinite?",function(){var e=this;return e==Infinity?1:e==-Infinity?-1:n},0),s(A,"$positive?",function(){var e=this;return 0!=e&&(e==Infinity||1/e>0)},0),s(A,"$negative?",function(){var e=this;return e==-Infinity||1/e<0},0),k(A,"arg","angle"),k(A,"eql?","=="),k(A,"fdiv","/"),k(A,"inspect","to_s"),k(A,"kind_of?","is_a?"),k(A,"magnitude","abs"),k(A,"modulo","%"),k(A,"object_id","__id__"),k(A,"phase","angle"),k(A,"succ","next"),k(A,"to_int","to_i")}("::",i("Numeric"),t),A("::","Fixnum",i("Number")),function(r,$super,t){var n=a(r,$super,"Integer"),u=[n].concat(t);n.$$is_number_class=!0,n.$$is_integer_class=!0,function(r,t){var n=[r].concat(t),a=e.$r(n);s(r,"$allocate",function(){var e=this;return $.$raise(i("TypeError"),"allocator undefined for "+e.$name())},0),e.udef(r,"$new"),s(r,"$sqrt",function(e){return(e=o["$coerce_to!"](e,i("Integer"),"to_int"))<0&&$.$raise(i(i("Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(e),10)},1),s(r,"$try_convert",function(e){var r=this;return a("Opal")["$coerce_to?"](e,r,"to_int")},1)}(e.get_singleton_class(n),u),A(n,"MAX",Math.pow(2,30)-1),A(n,"MIN",-Math.pow(2,30))}("::",i("Numeric"),t),function(r,$super,t){var n=a(r,$super,"Float");[n].concat(t);return n.$$is_number_class=!0,function(r){s(r,"$allocate",function(){var e=this;return $.$raise(i("TypeError"),"allocator undefined for "+e.$name())},0),e.udef(r,"$new"),s(r,"$===",function(e){return!!e.$$is_number},1)}(e.get_singleton_class(n)),A(n,"INFINITY",Infinity),A(n,"MAX",Number.MAX_VALUE),A(n,"MIN",Number.MIN_VALUE),A(n,"NAN",NaN),A(n,"DIG",15),A(n,"MANT_DIG",53),A(n,"RADIX",2),A(n,"EPSILON",Number.EPSILON||2.220446049250313e-16)}("::",i("Numeric"),t)},Opal.modules["corelib/range"]=function(e){var r=e.top,t=[],n=e.nil,i=e.$$$,a=e.klass,o=e.truthy,$=e.Kernel,s=e.def,u=e.not,l=e.send2,c=e.find_super,f=e.rb_lt,d=e.rb_le,h=e.send,_=e.eqeq,p=e.eqeqeq,g=e.rb_gt,m=e.rb_minus,v=e.Opal,y=e.rb_divide,b=e.rb_plus,w=e.rb_times,E=e.rb_ge,x=e.alias;return e.add_stubs("require,include,attr_reader,raise,nil?,<=>,include?,!,<,<=,enum_for,size,upto,to_proc,respond_to?,class,succ,==,===,exclude_end?,eql?,begin,end,last,to_a,>,-@,-,to_i,coerce_to!,ceil,/,is_a?,new,loop,+,*,>=,each_with_index,%,step,bsearch,inspect,[],hash"),r.$require("corelib/enumerable"),function(r,$super,t){function k(e){return e.begin===n||e.end===n||e.begin===-Infinity||e.end===Infinity||e.begin===Infinity||e.end===-Infinity}var A=a("::",null,"Range"),I=[A].concat(t),O=e.$r(I),S=A.$$prototype;return S.begin=S.end=S.excl=n,A.$include(i("Enumerable")),A.$$prototype.$$is_range=!0,A.$attr_reader("begin","end"),s(A,"$initialize",function(e,r,t){var n=this;return null==t&&(t=!1),o(n.begin)&&$.$raise(i("NameError"),"'initialize' called twice"),o(e["$<=>"](r))||o(e["$nil?"]())||o(r["$nil?"]())||$.$raise(i("ArgumentError"),"bad value for range"),n.begin=e,n.end=r,n.excl=t},-3),s(A,"$===",function(e){return this["$include?"](e)},1),s(A,"$count",function N(){var e=N.$$p||n,r=this;return delete N.$$p,u(e!==n)&&o(k(r))?i(i("Float"),"INFINITY"):l(r,c(r,"count",N,!1,!0),"count",[],e)},0),s(A,"$to_a",function z(){var e=z.$$p||n,r=this;return delete z.$$p,o(k(r))&&$.$raise(i("TypeError"),"cannot convert endless range to an array"),l(r,c(r,"to_a",z,!1,!0),"to_a",[],e)},0),s(A,"$cover?",function(e){var r=this,t=n,i=n,a=n,$=n,s=n;return t=o(i=o(a=o($=r.begin["$nil?"]())?-1:$)?a:r.begin["$<=>"](e))&&i,s=o(i=o(a=o($=r.end["$nil?"]())?-1:$)?a:e["$<=>"](r.end))&&i,o(i=o(a=o(r.excl)?o($=s)?f(s,0):$:o($=s)?d(s,0):$)?t:a)?d(t,0):i},1),s(A,"$each",function q(){var r,t,a=q.$$p||n,s=this,l=n,c=n,d=n;if(delete q.$$p,a===n)return h(s,"enum_for",["each"],function p(){return(null==p.$$s?this:p.$$s).$size()},{$$arity:0,$$s:s});if(s.begin.$$is_number&&s.end.$$is_number){for(s.begin%1==0&&s.end%1==0||$.$raise(i("TypeError"),"can't iterate from Float"),r=s.begin,t=s.end+(o(s.excl)?0:1);r<t;r++)a(r);return s}if(s.begin.$$is_string&&s.end.$$is_string)return h(s.begin,"upto",[s.end,s.excl],a.$to_proc()),s;for(l=s.begin,c=s.end,o(l["$respond_to?"]("succ"))||$.$raise(i("TypeError"),"can't iterate from "+l.$class());o(o(d=s.end["$nil?"]())?d:f(l["$<=>"](c),0));)e.yield1(a,l),l=l.$succ();return u(s.excl)&&_(l,c)&&e.yield1(a,l),s},0),s(A,"$eql?",function(e){var r=this,t=n,a=n;return!!p(i("Range"),e)&&(o(t=o(a=r.excl["$==="](e["$exclude_end?"]()))?r.begin["$eql?"](e.$begin()):a)?r.end["$eql?"](e.$end()):t)},1),s(A,"$exclude_end?",function(){return this.excl},0),s(A,"$first",function j(e){var r=j.$$p||n,t=this;return delete j.$$p,o(t.begin["$nil?"]())&&$.$raise(i("RangeError"),"cannot get the minimum of beginless range"),o(null==e)?t.begin:l(t,c(t,"first",j,!1,!0),"first",[e],r)},-1),s(A,"$last",function(e){var r=this;return o(r.end["$nil?"]())&&$.$raise(i("RangeError"),"cannot get the maximum of endless range"),o(null==e)?r.end:r.$to_a().$last(e)},-1),s(A,"$max",function M(){var e=M.$$p||n,r=this;return delete M.$$p,o(r.end["$nil?"]())?$.$raise(i("RangeError"),"cannot get the maximum of endless range"):e!==n?l(r,c(r,"max",M,!1,!0),"max",[],e):u(r.begin["$nil?"]())&&(o(g(r.begin,r.end))||o(r.excl)&&_(r.begin,r.end))?n:r.excl?r.end-1:r.end},0),s(A,"$min",function R(){var e=R.$$p||n,r=this;return delete R.$$p,o(r.begin["$nil?"]())?$.$raise(i("RangeError"),"cannot get the minimum of beginless range"):e!==n?l(r,c(r,"min",R,!1,!0),"min",[],e):u(r.end["$nil?"]())&&(o(g(r.begin,r.end))||o(r.excl)&&_(r.begin,r.end))?n:r.begin},0),s(A,"$size",function(){var e=this,r=n,t=n,a=n;return r=i(i("Float"),"INFINITY"),_(e.begin,r)&&u(e.end["$nil?"]())||_(e.end,r["$-@"]())&&u(e.begin["$nil?"]())?0:o(k(e))?r:p(i("Numeric"),e.begin)&&p(i("Numeric"),e.end)?(t=e.begin,a=e.end,o(e.excl)&&(a=m(a,1)),o(f(a,t))?0:(Math.abs(a-t)+1).$to_i()):n},0),s(A,"$step",function T(r){function t(){null==r?r=1:r.$$is_number||(r=v["$coerce_to!"](r,i("Integer"),"to_int")),r<0?$.$raise(i("ArgumentError"),"step can't be negative"):0===r&&$.$raise(i("ArgumentError"),"step can't be 0")}function a(){if(!l.begin["$respond_to?"]("succ"))return n;if(l.begin.$$is_string&&l.end.$$is_string)return n;if(r%1==0)return y(l.$size(),r).$ceil();var e,t=l.begin,a=l.end,o=Math.abs,$=Math.floor,s=(o(t)+o(a)+o(a-t))/o(r)*i(i("Float"),"EPSILON");return s>.5&&(s=.5),l.excl?(e=$((a-t)/r-s))*r+t<a&&e++:e=$((a-t)/r+s)+1,e}var s=T.$$p||n,l=this,c=n,f=n;return delete T.$$p,s===n?(o(l.begin["$is_a?"](O("Numeric")))||o(l.begin["$nil?"]()))&&(o(l.end["$is_a?"](O("Numeric")))||o(l.end["$nil?"]()))&&u(o(c=l.begin["$nil?"]())?l.end["$nil?"]():c)?i(i("Enumerator"),"ArithmeticSequence").$new(l,r,"step"):h(l,"enum_for",["step",r],function(){return t(),a()},0):(t(),o(l.begin.$$is_number&&l.end.$$is_number)?(f=0,function(){var t=e.new_brk();try{h(l,"loop",[],function a(){var i=null==a.$$s?this:a.$$s,$=n;return null==i.begin&&(i.begin=n),null==i.excl&&(i.excl=n),null==i.end&&(i.end=n),$=b(i.begin,w(f,r)),o(i.excl)?o(E($,i.end))&&e.brk(n,t):o(g($,i.end))&&e.brk(n,t),e.yield1(s,$),f=b(f,1)},{$$arity:0,$$s:l,$$brk:t})}catch(i){if(i===t)return i.$v;throw i}}()):(l.begin.$$is_string&&l.end.$$is_string&&r%1!=0&&$.$raise(i("TypeError"),"no implicit conversion to float from string"),h(l,"each_with_index",[],function(t,i){return null==t&&(t=n),null==i&&(i=n),_(i["$%"](r),0)?e.yield1(s,t):n},2)),l)},-1),s(A,"$%",function(e){var r=this;return o(r.begin["$is_a?"](O("Numeric")))&&o(r.end["$is_a?"](O("Numeric")))?i(i("Enumerator"),"ArithmeticSequence").$new(r,e,"%"):r.$step(e)},1),s(A,"$bsearch",function C(){var e=C.$$p||n,r=this;return delete C.$$p,e===n?r.$enum_for("bsearch"):(o(k(r)&&(r.begin.$$is_number||r.end.$$is_number))&&$.$raise(i("NotImplementedError"),"Can't #bsearch an infinite range"),o(r.begin.$$is_number&&r.end.$$is_number)||$.$raise(i("TypeError"),"can't do binary search for "+r.begin.$class()),h(r.$to_a(),"bsearch",[],e.$to_proc()))},0),s(A,"$to_s",function(){var e=this,r=n;return(o(r=e.begin)?r:"")+(o(e.excl)?"...":"..")+(o(r=e.end)?r:"")},0),s(A,"$inspect",function(){var e=this,r=n;return(o(r=e.begin)?e.begin.$inspect():r)+(o(e.excl)?"...":"..")+(o(r=e.end)?e.end.$inspect():r)},0),s(A,"$marshal_load",function(e){var r=this;return r.begin=e["$[]"]("begin"),r.end=e["$[]"]("end"),r.excl=e["$[]"]("excl")},1),s(A,"$hash",function(){var e=this;return[e.begin,e.end,e.excl].$hash()},0),x(A,"==","eql?"),x(A,"include?","cover?"),x(A,"member?","cover?")}(0,0,t)},Opal.modules["corelib/proc"]=function(e){var $super,r,t=e.nil,n=e.$$$,i=e.slice,a=e.klass,o=e.truthy,$=e.Kernel,s=e.defs,u=e.def,l=e.send,c=e.to_a,f=e.Opal,d=e.alias;return e.add_stubs("raise,proc,call,to_proc,new,source_location,coerce_to!"),$super=Function,r=a("::",$super,"Proc"),e.prop(r.$$prototype,"$$is_proc",!0),e.prop(r.$$prototype,"$$is_lambda",!1),s(r,"$new",function h(){var e=h.$$p||t;return delete h.$$p,o(e)||$.$raise(n("ArgumentError"),"tried to create a Proc object without a block"),e},0),u(r,"$call",function _(){var r,n=_.$$p||t,i=this;delete _.$$p,r=e.slice.call(arguments),n!==t&&(i.$$p=n);var a,o=i.$$brk;if(o)try{a=i.$$is_lambda?i.apply(null,r):e.yieldX(i,r)}catch($){if($===o)return o.$v;throw $}else a=i.$$is_lambda?i.apply(null,r):e.yieldX(i,r);return a},-1),u(r,"$>>",function p(r){p.$$p;var n=this;return delete p.$$p,l($,"proc",[],function i(){var n,a=i.$$p||t,o=null==i.$$s?this:i.$$s,$=t;return delete i.$$p,n=e.slice.call(arguments),$=l(o,"call",c(n),a.$to_proc()),r.$call($)},{$$arity:-1,$$s:n})},1),u(r,"$<<",function g(r){g.$$p;var n=this;return delete g.$$p,l($,"proc",[],function i(){var n,a=i.$$p||t,o=null==i.$$s?this:i.$$s,$=t;return delete i.$$p,n=e.slice.call(arguments),$=l(r,"call",c(n),a.$to_proc()),o.$call($)},{$$arity:-1,$$s:n})},1),u(r,"$to_proc",function(){return this},0),u(r,"$lambda?",function(){return!!this.$$is_lambda},0),u(r,"$arity",function(){var e=this;return e.$$is_curried?-1:e.$$arity},0),u(r,"$source_location",function(){return this.$$is_curried,t},0),u(r,"$binding",function(){var e=this;return e.$$is_curried&&$.$raise(n("ArgumentError"),"Can't create Binding"),o(n("::","Binding","skip_raise")?"constant":t)?n("Binding").$new(t,[],e.$$s,e.$source_location()):t},0),u(r,"$parameters",function(){var e=this;if(e.$$is_curried)return[["rest"]];if(e.$$parameters){if(e.$$is_lambda)return e.$$parameters;var r,t,n=[];for(r=0,t=e.$$parameters.length;r<t;r++){var i=e.$$parameters[r];"req"===i[0]&&(i=["opt",i[1]]),n.push(i)}return n}return[]},0),u(r,"$curry",function(e){function r(){var a,o=i.call(arguments),s=o.length;return s>e&&t.$$is_lambda&&!t.$$is_curried&&$.$raise(n("ArgumentError"),"wrong number of arguments ("+s+" for "+e+")"),s>=e?t.$call.apply(t,o):((a=function(){return r.apply(null,o.concat(i.call(arguments)))}).$$is_lambda=t.$$is_lambda,a.$$is_curried=!0,a)}var t=this;return e===undefined?e=t.length:(e=f["$coerce_to!"](e,n("Integer"),"to_int"),t.$$is_lambda&&e!==t.length&&$.$raise(n("ArgumentError"),"wrong number of arguments ("+e+" for "+t.length+")")),r.$$is_lambda=t.$$is_lambda,r.$$is_curried=!0,r},-1),u(r,"$dup",function(){var e=this,r=e.$$original_proc||e,t=function(){return r.apply(this,arguments)};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},0),d(r,"===","call"),d(r,"clone","dup"),d(r,"yield","call"),d(r,"[]","call")},Opal.modules["corelib/method"]=function(e){var r,t,n=e.nil,i=e.$$$,a=e.klass,o=e.def,$=e.truthy,s=e.alias,u=e.Kernel,l=e.send,c=e.to_a;return e.add_stubs("attr_reader,arity,curry,>>,<<,new,class,join,source_location,raise,call,bind,to_proc"),r=a("::",null,"Method"),(t=r.$$prototype).method=t.receiver=t.owner=t.name=n,r.$attr_reader("owner","receiver","name"),o(r,"$initialize",function(e,r,t,n){var i=this;return i.receiver=e,i.owner=r,i.name=n,i.method=t},4),o(r,"$arity",function(){return this.method.$arity()},0),o(r,"$parameters",function(){return this.method.$$parameters},0),o(r,"$source_location",function(){var e=n;return $(e=this.method.$$source_location)?e:["(eval)",0]},0),o(r,"$comments",function(){var e=n;return $(e=this.method.$$comments)?e:[]},0),o(r,"$call",function f(){var r,t=f.$$p||n,i=this;return delete f.$$p,r=e.slice.call(arguments),i.method.$$p=t,i.method.apply(i.receiver,r)},-1),o(r,"$curry",function(e){return this.method.$curry(e)},-1),o(r,"$>>",function(e){return this.method["$>>"](e)},1),o(r,"$<<",function(e){return this.method["$<<"](e)},1),o(r,"$unbind",function(){var e=this;return i("UnboundMethod").$new(e.receiver.$class(),e.owner,e.method,e.name)},0),o(r,"$to_proc",function(){var e=this,r=e.$call.bind(e);return r.$$unbound=e.method,r.$$is_lambda=!0,r.$$arity=e.method.$$arity,r.$$parameters=e.method.$$parameters,r},0),o(r,"$inspect",function(){var e=this;return"#<"+e.$class()+": "+e.receiver.$class()+"#"+e.name+" (defined in "+e.owner+" in "+e.$source_location().$join(":")+")>"},0),s(r,"[]","call"),s(r,"===","call"),function(){var r=a("::",null,"UnboundMethod"),t=r.$$prototype;return t.method=t.owner=t.name=t.source=n,r.$attr_reader("source","owner","name"),o(r,"$initialize",function(e,r,t,n){var i=this;return i.source=e,i.owner=r,i.method=t,i.name=n},4),o(r,"$arity",function(){return this.method.$arity()},0),o(r,"$parameters",function(){return this.method.$$parameters},0),o(r,"$source_location",function(){var e=n;return $(e=this.method.$$source_location)?e:["(eval)",0]},0),o(r,"$comments",function(){var e=n;return $(e=this.method.$$comments)?e:[]},0),o(r,"$bind",function(r){var t=this;if(t.owner.$$is_module||e.is_a(r,t.owner))return i("Method").$new(r,t.owner,t.method,t.name);u.$raise(i("TypeError"),"can't bind singleton method to a different class (expected "+r+".kind_of?("+t.owner+" to be true)")},1),o(r,"$bind_call",function s(r){var t,i=s.$$p||n,a=this;return delete s.$$p,t=e.slice.call(arguments,1),l(a.$bind(r),"call",c(t),i.$to_proc())},-2),o(r,"$inspect",function(){var e=this;return"#<"+e.$class()+": "+e.source+"#"+e.name+" (defined in "+e.owner+" in "+e.$source_location().$join(":")+")>"},0)}()},Opal.modules["corelib/variables"]=function(e){var r=e.nil,t=e.gvars,n=e.const_set,i=e.Object,a=e.hash2;return e.add_stubs("new"),t["&"]=t["~"]=t["`"]=t["'"]=r,t.LOADED_FEATURES=t['"']=e.loaded_features,t.LOAD_PATH=t[":"]=[],t["/"]="\n",t[","]=r,n("::","ARGV",[]),n("::","ARGF",i.$new()),n("::","ENV",a([],{})),t.VERBOSE=!1,t.DEBUG=!1,t.SAFE=0},Opal.modules["corelib/io"]=function(e){var r,t,n=e.nil,i=e.$$$,a=e.klass,o=e.const_set,$=e.not,s=e.truthy,u=e.def,l=e.Kernel,c=e.gvars,f=e.send,d=e.to_a,h=e.rb_plus,_=e.neqeq,p=e.range,g=e.hash2,m=e.eqeq,v=e.to_ary,y=e.rb_gt,b=e.alias,w=e.rb_minus,E=n;e.add_stubs("attr_reader,attr_accessor,!,match?,include?,size,write,String,flatten,puts,sysread_noraise,+,!=,[],ord,getc,readchar,raise,gets,==,to_str,length,split,sub,sysread,>,to_a,each_line,enum_for,getbyte,closed_write?,closed_read?,new,write_proc=,-,read_proc="),r=a("::",null,"IO"),(t=r.$$prototype).fd=t.read_buffer=t.closed=n,o(r,"SEEK_SET",0),o(r,"SEEK_CUR",1),o(r,"SEEK_END",2),o(r,"SEEK_DATA",3),o(r,"SEEK_HOLE",4),o(r,"READABLE",1),o(r,"WRITABLE",4),r.$attr_reader("eof"),r.$attr_accessor("read_proc","sync","tty","write_proc"),u(r,"$initialize",function(e,r){var t=this;return null==r&&(r="r"),t.fd=e,t.flags=r,t.eof=!1,s(r["$include?"]("r"))&&$(r["$match?"](/[wa+]/))?t.closed="write":s(r["$match?"](/[wa]/))&&$(r["$match?"](/[r+]/))?t.closed="read":n},-2),u(r,"$fileno",function(){return this.fd},0),u(r,"$tty?",function(){return 1==this.tty},0),u(r,"$write",function(e){return this.write_proc(e),e.$size()},1),u(r,"$flush",function(){return n},0),u(r,"$<<",function(e){var r=this;return r.$write(e),r},1),u(r,"$print",function(){var r,t=this;null==c[","]&&(c[","]=n);for(var i=0,a=(r=e.slice.call(arguments)).length;i<a;i++)r[i]=l.$String(r[i]);return t.$write(r.join(c[","])),n},-1),u(r,"$puts",function(){var r,t,i=this;if(0===(r=e.slice.call(arguments)).length)return i.$write("\n"),n;for(var a=0,o=r.length;a<o;a++)if(r[a].$$is_array){var $=r[a].$flatten();$.length>0&&f(i,"puts",d($))}else(t=r[a].$$is_string?r[a].valueOf():l.$String(r[a])).endsWith("\n")||(t+="\n"),i.$write(t);return n},-1),u(r,"$getc",function(){var e=this,r=n,t=n,i=n;e.read_buffer=s(r=e.read_buffer)?r:"",t="";do{if(e.read_buffer=h(e.read_buffer,t),_(e.read_buffer,""))return i=e.read_buffer["$[]"](0),e.read_buffer=e.read_buffer["$[]"](p(1,-1,!1)),i}while(s(t=e.$sysread_noraise(1)));return n},0),u(r,"$getbyte",function(){var e;return(e=this.$getc())===n||null==e?n:f(e,"ord",[])},0),u(r,"$readbyte",function(){return this.$readchar().$ord()},0),u(r,"$readchar",function(){var e=n;return s(e=this.$getc())?e:l.$raise(i("EOFError"),"end of file reached")},0),u(r,"$readline",function(){var r,t=this,a=n;return r=e.slice.call(arguments),s(a=f(t,"gets",d(r)))?a:l.$raise(i("EOFError"),"end of file reached")},-1),u(r,"$gets",function(r,t,i){var a,o,u,l=this,f=n,d=n,p=n,y=n,b=n,w=n;null==c["/"]&&(c["/"]=n),null==r&&(r=!1),null==t&&(t=n),null==i&&(i=g([],{})),s(r.$$is_number)&&$(t)&&(r=(a=[!1,r,t])[0],t=a[1],i=a[2]),s(r.$$is_hash)&&$(t)&&m(i,g([],{}))?(r=(a=[!1,n,r])[0],t=a[1],i=a[2]):s(t.$$is_hash)&&m(i,g([],{}))&&(r=(a=[r,n,t])[0],t=a[1],i=a[2]),f=r,m(r,!1)&&(r=c["/"]),m(r,"")&&(r=/\r?\n\r?\n/),r=s(d=r)?d:"",m(f,"")||(r=r.$to_str()),p=m(f,"")?2:r.$length(),m(r," ")&&(r=/ /),l.read_buffer=s(d=l.read_buffer)?d:"",y="",b=n;do{if(l.read_buffer=h(l.read_buffer,y),_(r,"")&&s(s(r.$$is_regexp)?l.read_buffer["$match?"](r):l.read_buffer["$include?"](r))){w=l.read_buffer,u=l.read_buffer.$split(r,2),b=null==(o=v(u))[0]?n:o[0],l.read_buffer=null==o[1]?n:o[1],_(b,w)&&(b=h(b,w["$[]"](b.$length(),p)));break}}while(s(y=l.$sysread_noraise(m(r,"")?65536:1)));return s(b)||(b=(a=[s(d=l.read_buffer)?d:"",""])[0],l.read_buffer=a[1],m(b,"")&&(b=n)),s(b)&&(s(t)&&(b=b["$[]"](e.Range.$new(0,t,!0)),l.read_buffer=h(b["$[]"](e.Range.$new(t,-1,!1)),l.read_buffer)),s(i["$[]"]("chomp"))&&(b=b.$sub(/\r?\n$/,"")),m(f,"")&&(b=b.$sub(/^[\r\n]+/,""))),m(f,!1)&&(c._=b),b},-1),u(r,"$sysread",function(e){var r=this,t=n;return s(t=r.read_proc(e))?t:(r.eof=!0,l.$raise(i("EOFError"),"end of file reached"))},1),u(r,"$sysread_noraise",function(r){var t=this;try{return t.$sysread(r)}catch(a){if(!e.rescue(a,[i("EOFError")]))throw a;try{return n}finally{e.pop_exception()}}},1),u(r,"$readpartial",function(e){var r,t=this,i=n,a=n,o=n;return t.read_buffer=s(i=t.read_buffer)?i:"",a=t.$sysread(e),o=(r=[h(t.read_buffer,s(i=a)?i:""),""])[0],t.read_buffer=r[1],m(o,"")&&(o=n),o},1),u(r,"$read",function(r){var t,i,a=this,o=n,$=n,u=n;null==r&&(r=n),a.read_buffer=s(o=a.read_buffer)?o:"",$="",u=n;do{if(a.read_buffer=h(a.read_buffer,$),s(r)&&s(y(a.read_buffer.$length(),r)))return u=(i=[a.read_buffer["$[]"](e.Range.$new(0,r,!0)),a.read_buffer["$[]"](e.Range.$new(r,-1,!1))])[0],a.read_buffer=i[1],u}while(s($=a.$sysread_noraise(s(o=r)?o:65536)));return u=(t=[a.read_buffer,""])[0],a.read_buffer=t[1],u},-1),u(r,"$readlines",function(e){var r=this;return null==c["/"]&&(c["/"]=n),null==e&&(e=c["/"]),r.$each_line(e).$to_a()},-1),u(r,"$each",function k(){var r,t,i,a=k.$$p||n,o=this,$=n;if(null==c["/"]&&(c["/"]=n),delete k.$$p,(r=e.slice.call(arguments)).length>0&&(t=r.shift()),null==t&&(t=c["/"]),i=r,a===n)return f(o,"enum_for",["each",t].concat(d(i)));for(;s($=f(o,"gets",[t].concat(d(i))));)e.yield1(a,$);return o},-1),u(r,"$each_byte",function A(){var r=A.$$p||n,t=this,i=n;if(delete A.$$p,r===n)return t.$enum_for("each_byte");for(;s(i=t.$getbyte());)e.yield1(r,i);return t},0),u(r,"$each_char",function I(){var r=I.$$p||n,t=this,i=n;if(delete I.$$p,r===n)return t.$enum_for("each_char");for(;s(i=t.$getc());)e.yield1(r,i);return t},0),u(r,"$close",function(){return this.closed="both"},0),u(r,"$close_read",function(){var e=this;return m(e.closed,"write")?e.closed="both":e.closed="read"},0),u(r,"$close_write",function(){var e=this;return m(e.closed,"read")?e.closed="both":e.closed="write"},0),u(r,"$closed?",function(){return this.closed["$=="]("both")},0),u(r,"$closed_read?",function(){var e=this,r=n;return s(r=e.closed["$=="]("read"))?r:e.closed["$=="]("both")},0),u(r,"$closed_write?",function(){var e=this,r=n;return s(r=e.closed["$=="]("write"))?r:e.closed["$=="]("both")},0),u(r,"$check_writable",function(){return s(this["$closed_write?"]())?l.$raise(i("IOError"),"not opened for writing"):n},0),u(r,"$check_readable",function(){return s(this["$closed_read?"]())?l.$raise(i("IOError"),"not opened for reading"):n},0),b(r,"each_line","each"),b(r,"eof?","eof"),o("::","STDIN",c.stdin=i("IO").$new(0,"r")),o("::","STDOUT",c.stdout=i("IO").$new(1,"w")),o("::","STDERR",c.stderr=i("IO").$new(2,"w"));var x=e.global.console;return E=["object"==typeof process&&"object"==typeof process.stdout?function(e){process.stdout.write(e)}:function(e){x.log(e)}],f(i("STDOUT"),"write_proc=",d(E)),E[w(E.length,1)],E=["object"==typeof process&&"object"==typeof process.stderr?function(e){process.stderr.write(e)}:function(e){x.warn(e)}],f(i("STDERR"),"write_proc=",d(E)),E[w(E.length,1)],E=[function(){var e=prompt();return null!==e?e+"\n":n}],f(i("STDIN"),"read_proc=",d(E)),E[w(E.length,1)]},Opal.modules["opal/regexp_anchors"]=function(e){var r=[],t=(e.nil,e.$$$),n=e.module,i=e.const_set;return e.add_stubs("new"),function(r,a){var o=n(r,"Opal"),$=[o].concat(a),s=e.$r($);return i(o,"REGEXP_START","^"),i(o,"REGEXP_END","$"),i(o,"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),i(o,"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),i(o,"INLINE_IDENTIFIER_REGEXP",s("Regexp").$new("[^"+t(o,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+t(o,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),i(o,"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),i(o,"CONST_NAME_REGEXP",s("Regexp").$new(t(o,"REGEXP_START")+"(::)?[A-Z][^"+t(o,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+t(o,"REGEXP_END")))}(r[0],r)},Opal.modules["opal/mini"]=function(e){e.nil;var r=e.Object;return e.add_stubs("require"),r.$require("opal/base"),r.$require("corelib/nil"),r.$require("corelib/boolean"),r.$require("corelib/string"),r.$require("corelib/comparable"),r.$require("corelib/enumerable"),r.$require("corelib/enumerator"),r.$require("corelib/array"),r.$require("corelib/hash"),r.$require("corelib/number"),r.$require("corelib/range"),r.$require("corelib/proc"),r.$require("corelib/method"),r.$require("corelib/regexp"),r.$require("corelib/variables"),r.$require("corelib/io"),r.$require("opal/regexp_anchors")},Opal.modules["corelib/kernel/format"]=function(e){var r,t=e.nil,n=e.$$$,i=e.coerce_to,a=e.module,o=e.truthy,$=e.eqeq,s=e.Opal,u=e.Kernel,l=e.gvars,c=e.def,f=e.alias;return e.add_stubs("respond_to?,[],==,length,coerce_to?,nil?,to_a,raise,to_int,fetch,Integer,Float,to_ary,to_str,inspect,to_s"),r=a("::","Kernel"),c(r,"$format",function(r){function a(){T&X&&u.$raise(n("ArgumentError"),"flag after width"),T&W&&u.$raise(n("ArgumentError"),"flag after precision")}function c(){T&X&&u.$raise(n("ArgumentError"),"width given twice"),T&W&&u.$raise(n("ArgumentError"),"width after precision")}function f(e){return e>=v.length&&u.$raise(n("ArgumentError"),"too few arguments"),v[e]}function d(){switch(L){case-1:u.$raise(n("ArgumentError"),"unnumbered("+D+") mixed with numbered");case-2:u.$raise(n("ArgumentError"),"unnumbered("+D+") mixed with named")}return f((L=D++)-1)}function h(e){return L>0&&u.$raise(n("ArgumentError"),"numbered("+e+") after unnumbered("+L+")"),-2===L&&u.$raise(n("ArgumentError"),"numbered("+e+") after named"),e<1&&u.$raise(n("ArgumentError"),"invalid index - "+e+"$"),L=-1,f(e-1)}function _(){return R===undefined?d():R}function p(e){for(var t,i="";;w++){if(w===P&&u.$raise(n("ArgumentError"),"malformed format string - %*[0-9]"),r.charCodeAt(w)<48||r.charCodeAt(w)>57)return w--,(t=parseInt(i,10)||0)>2147483647&&u.$raise(n("ArgumentError"),e+" too big"),t;i+=r.charAt(w)}}function g(e){var t,n=p(e);return"$"===r.charAt(w+1)?(w++,t=h(n)):t=d(),t.$to_int()}var m,v,y=t;null==l.DEBUG&&(l.DEBUG=t),m=e.slice.call(arguments,1),$((v=m).$length(),1)&&o(v["$[]"](0)["$respond_to?"]("to_ary"))&&(y=s["$coerce_to?"](v["$[]"](0),n("Array"),"to_ary"),o(y["$nil?"]())||(v=y.$to_a()));var b,w,E,x,k,A,I,O,S,N,z,q,j,M,R,T,C="",F=0,P=r.length,D=1,L=0,U=0,B=1,K=2,H=4,Y=8,G=16,X=32,J=64,W=128;for(w=r.indexOf("%");-1!==w;w=r.indexOf("%",w)){switch(x=undefined,T=U,A=-1,I=-1,R=undefined,b=w,w++,r.charAt(w)){
case"%":F=w;case"":case"\n":case"\0":w++;continue}e:for(;w<P;w++)switch(r.charAt(w)){case" ":a(),T|=G;continue e;case"#":a(),T|=B;continue e;case"+":a(),T|=H;continue e;case"-":a(),T|=K;continue e;case"0":a(),T|=Y;continue e;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(O=p("width"),"$"===r.charAt(w+1)){if(w+2===P){x="%",w++;break e}R!==undefined&&u.$raise(n("ArgumentError"),"value given twice - %"+O+"$"),R=h(O),w++}else c(),T|=X,A=O;continue e;case"<":case"{":for(N="<"===r.charAt(w)?">":"}",S="",w++;;w++){if(w===P&&u.$raise(n("ArgumentError"),"malformed name - unmatched parenthesis"),r.charAt(w)===N){if(L>0&&u.$raise(n("ArgumentError"),"named "+S+" after unnumbered("+L+")"),-1===L&&u.$raise(n("ArgumentError"),"named "+S+" after numbered"),L=-2,v[0]!==undefined&&v[0].$$is_hash||u.$raise(n("ArgumentError"),"one hash required"),R=v[0].$fetch(S),">"===N)continue e;if(x=R.toString(),-1!==I&&(x=x.slice(0,I)),T&K)for(;x.length<A;)x+=" ";else for(;x.length<A;)x=" "+x;break e}S+=r.charAt(w)}case"*":w++,c(),T|=X,(A=g("width"))<0&&(T|=K,A=-A);continue e;case".":if(T&W&&u.$raise(n("ArgumentError"),"precision given twice"),T|=J|W,I=0,w++,"*"===r.charAt(w)){w++,(I=g("precision"))<0&&(T&=~J);continue e}I=p("precision");continue e;case"d":case"i":case"u":if((E=u.$Integer(_()))>=0){for(x=E.toString();x.length<I;)x="0"+x;if(T&K)for((T&H||T&G)&&(x=(T&H?"+":" ")+x);x.length<A;)x+=" ";else if(T&Y&&-1===I){for(;x.length<A-(T&H||T&G?1:0);)x="0"+x;(T&H||T&G)&&(x=(T&H?"+":" ")+x)}else for((T&H||T&G)&&(x=(T&H?"+":" ")+x);x.length<A;)x=" "+x}else{for(x=(-E).toString();x.length<I;)x="0"+x;if(T&K)for(x="-"+x;x.length<A;)x+=" ";else if(T&Y&&-1===I){for(;x.length<A-1;)x="0"+x;x="-"+x}else for(x="-"+x;x.length<A;)x=" "+x}break e;case"b":case"B":case"o":case"x":case"X":switch(r.charAt(w)){case"b":case"B":z=2,q="0b",j=/^1+/,M="1";break;case"o":z=8,q="0",j=/^3?7+/,M="7";break;case"x":case"X":z=16,q="0x",j=/^f+/,M="f"}if((E=u.$Integer(_()))>=0){for(x=E.toString(z);x.length<I;)x="0"+x;if(T&K)for((T&H||T&G)&&(x=(T&H?"+":" ")+x),T&B&&0!==E&&(x=q+x);x.length<A;)x+=" ";else if(T&Y&&-1===I){for(;x.length<A-(T&H||T&G?1:0)-(T&B&&0!==E?q.length:0);)x="0"+x;T&B&&0!==E&&(x=q+x),(T&H||T&G)&&(x=(T&H?"+":" ")+x)}else for(T&B&&0!==E&&(x=q+x),(T&H||T&G)&&(x=(T&H?"+":" ")+x);x.length<A;)x=" "+x}else if(T&H||T&G){for(x=(-E).toString(z);x.length<I;)x="0"+x;if(T&K)for(T&B&&(x=q+x),x="-"+x;x.length<A;)x+=" ";else if(T&Y&&-1===I){for(;x.length<A-1-(T&B?2:0);)x="0"+x;T&B&&(x=q+x),x="-"+x}else for(T&B&&(x=q+x),x="-"+x;x.length<A;)x=" "+x}else{for(x=(E>>>0).toString(z).replace(j,M);x.length<I-2;)x=M+x;if(T&K)for(x=".."+x,T&B&&(x=q+x);x.length<A;)x+=" ";else if(T&Y&&-1===I){for(;x.length<A-2-(T&B?q.length:0);)x=M+x;x=".."+x,T&B&&(x=q+x)}else for(x=".."+x,T&B&&(x=q+x);x.length<A;)x=" "+x}r.charAt(w)===r.charAt(w).toUpperCase()&&(x=x.toUpperCase());break e;case"f":case"e":case"E":case"g":case"G":if((E=u.$Float(_()))>=0||isNaN(E)){if(E===Infinity)x="Inf";else switch(r.charAt(w)){case"f":x=E.toFixed(-1===I?6:I);break;case"e":case"E":x=E.toExponential(-1===I?6:I);break;case"g":case"G":x=E.toExponential(),(k=parseInt(x.split("e")[1],10))<-4||k>=(-1===I?6:I)||(x=E.toPrecision(-1===I?T&B?6:undefined:I))}if(T&K)for((T&H||T&G)&&(x=(T&H?"+":" ")+x);x.length<A;)x+=" ";else if(T&Y&&E!==Infinity&&!isNaN(E)){for(;x.length<A-(T&H||T&G?1:0);)x="0"+x;(T&H||T&G)&&(x=(T&H?"+":" ")+x)}else for((T&H||T&G)&&(x=(T&H?"+":" ")+x);x.length<A;)x=" "+x}else{if(E===-Infinity)x="Inf";else switch(r.charAt(w)){case"f":x=(-E).toFixed(-1===I?6:I);break;case"e":case"E":x=(-E).toExponential(-1===I?6:I);break;case"g":case"G":x=(-E).toExponential(),(k=parseInt(x.split("e")[1],10))<-4||k>=(-1===I?6:I)||(x=(-E).toPrecision(-1===I?T&B?6:undefined:I))}if(T&K)for(x="-"+x;x.length<A;)x+=" ";else if(T&Y&&E!==-Infinity){for(;x.length<A-1;)x="0"+x;x="-"+x}else for(x="-"+x;x.length<A;)x=" "+x}r.charAt(w)!==r.charAt(w).toUpperCase()||E===Infinity||E===-Infinity||isNaN(E)||(x=x.toUpperCase()),x=x.replace(/([eE][-+]?)([0-9])$/,"$10$2");break e;case"a":case"A":u.$raise(n("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if((E=_())["$respond_to?"]("to_ary")&&(E=E.$to_ary()[0]),1!==(x=E["$respond_to?"]("to_str")?E.$to_str():String.fromCharCode(i(E,n("Integer"),"to_int"))).length&&u.$raise(n("ArgumentError"),"%c requires a character"),T&K)for(;x.length<A;)x+=" ";else for(;x.length<A;)x=" "+x;break e;case"p":if(x=_().$inspect(),-1!==I&&(x=x.slice(0,I)),T&K)for(;x.length<A;)x+=" ";else for(;x.length<A;)x=" "+x;break e;case"s":if(x=_().$to_s(),-1!==I&&(x=x.slice(0,I)),T&K)for(;x.length<A;)x+=" ";else for(;x.length<A;)x=" "+x;break e;default:u.$raise(n("ArgumentError"),"malformed format string - %"+r.charAt(w))}x===undefined&&u.$raise(n("ArgumentError"),"malformed format string - %"),C+=r.slice(F,b)+x,F=w+1}return l.DEBUG&&L>=0&&D<v.length&&u.$raise(n("ArgumentError"),"too many arguments for format string"),C+r.slice(F)},-2),f(r,"sprintf","format")},Opal.modules["corelib/string/encoding"]=function(e){var r=e.top,t=[],n=e.$r(t),i=e.nil,a=e.$$$,o=e.klass,$=e.hash2,s=e.rb_plus,u=e.truthy,l=e.send,c=e.defs,f=e.eqeq,d=e.def,h=e.Kernel,_=e.Opal,p=e.rb_lt,g=e.alias,m=e.to_a,v=e.rb_minus,y=i;return e.add_stubs("require,+,[],clone,initialize,new,instance_eval,to_proc,each,const_set,tr,==,default_external,attr_accessor,singleton_class,attr_reader,raise,register,length,bytes,force_encoding,dup,bytesize,enum_for,each_byte,to_a,each_char,each_codepoint,coerce_to!,find,<,default_external=,-"),r.$require("corelib/string"),function(){var r=o("::",null,"Encoding"),t=r.$$prototype;t.ascii=t.dummy=t.name=i,c(r,"$register",function n(r,t){var a=n.$$p||i,o=this,c=i,f=i,d=i,h=i,_=i,p=i;return delete n.$$p,null==t&&(t=$([],{})),c=s([r],u(f=t["$[]"]("aliases"))?f:[]),d=u(f=t["$[]"]("ascii"))&&f,h=u(f=t["$[]"]("dummy"))&&f,u(t["$[]"]("inherits"))?(_=t["$[]"]("inherits").$clone()).$initialize(r,c,d,h):_=o.$new(r,c,d,h),a!==i&&l(_,"instance_eval",[],a.$to_proc()),p=e.encodings,l(c,"each",[],function g(e){var r=null==g.$$s?this:g.$$s;return null==e&&(e=i),r.$const_set(e.$tr("-","_"),_),p[e]=_},{$$arity:1,$$s:o})},-2),c(r,"$find",function(r){var t=this;return f(r,"default_external")?t.$default_external():e.find_encoding(r)},1),r.$singleton_class().$attr_accessor("default_external"),r.$attr_reader("name","names"),d(r,"$initialize",function(e,r,t,n){var i=this;return i.name=e,i.names=r,i.ascii=t,i.dummy=n},4),d(r,"$ascii_compatible?",function(){return this.ascii},0),d(r,"$dummy?",function(){return this.dummy},0),d(r,"$binary?",function(){return!1},0),d(r,"$to_s",function(){return this.name},0),d(r,"$inspect",function(){var e=this;return"#<Encoding:"+e.name+(u(e.dummy)?" (dummy)":i)+">"},0),d(r,"$charsize",function(e){for(var r=0,t=0,n=e.length;t<n;t++){var i=e.charCodeAt(t);i>=55296&&i<=56319||r++}return r},1),d(r,"$each_char",function _(r){var t=_.$$p||i;delete _.$$p;for(var n="",a=0,o=r.length;a<o;a++){var $=r.charCodeAt(a),s=r.charAt(a);$>=56320&&$<=57343?n=s:($>=55296&&$<=56319&&(s=n+s),"UTF-8"!=r.encoding.name&&((s=new String(s)).encoding=r.encoding),e.yield1(t,s))}},1),d(r,"$each_byte",function(){return e.slice.call(arguments),h.$raise(a("NotImplementedError"))},-1),d(r,"$bytesize",function(){return e.slice.call(arguments),h.$raise(a("NotImplementedError"))},-1),o("::",a("StandardError"),"EncodingError"),o("::",a("EncodingError"),"CompatibilityError")}(),l(a("Encoding"),"register",["UTF-8",$(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],function b(){var r=null==b.$$s?this:b.$$s;return d(r,"$each_byte",function t(r){var n=t.$$p||i;delete t.$$p;for(var a,o=Infinity,$=r.length,s=null,u=0;u<$;++u){if((a=r.charCodeAt(u))>55295&&a<57344){if(!s){if(a>56319){(o-=3)>-1&&(e.yield1(n,239),e.yield1(n,191),e.yield1(n,189));continue}if(u+1===$){(o-=3)>-1&&(e.yield1(n,239),e.yield1(n,191),e.yield1(n,189));continue}s=a;continue}if(a<56320){(o-=3)>-1&&(e.yield1(n,239),e.yield1(n,191),e.yield1(n,189)),s=a;continue}a=65536+(s-55296<<10|a-56320)}else s&&(o-=3)>-1&&(e.yield1(n,239),e.yield1(n,191),e.yield1(n,189));if(s=null,a<128){if((o-=1)<0)break;e.yield1(n,a)}else if(a<2048){if((o-=2)<0)break;e.yield1(n,a>>6|192),e.yield1(n,63&a|128)}else if(a<65536){if((o-=3)<0)break;e.yield1(n,a>>12|224),e.yield1(n,a>>6&63|128),e.yield1(n,63&a|128)}else if(a<1114112){if((o-=4)<0)break;e.yield1(n,a>>18|240),e.yield1(n,a>>12&63|128),e.yield1(n,a>>6&63|128),e.yield1(n,63&a|128)}}},1),d(r,"$bytesize",function(e){return e.$bytes().$length()},1)},{$$arity:0,$$s:r}),l(a("Encoding"),"register",["UTF-16LE"],function w(){var r=null==w.$$s?this:w.$$s;return d(r,"$each_byte",function t(r){var n=t.$$p||i;delete t.$$p;for(var a=0,o=r.length;a<o;a++){var $=r.charCodeAt(a);e.yield1(n,255&$),e.yield1(n,$>>8)}},1),d(r,"$bytesize",function(e){return 2*e.length},1)},{$$arity:0,$$s:r}),l(a("Encoding"),"register",["UTF-16BE",$(["inherits"],{inherits:a(a("Encoding"),"UTF_16LE")})],function E(){var r=null==E.$$s?this:E.$$s;return d(r,"$each_byte",function t(r){var n=t.$$p||i;delete t.$$p;for(var a=0,o=r.length;a<o;a++){var $=r.charCodeAt(a);e.yield1(n,$>>8),e.yield1(n,255&$)}},1)},{$$arity:0,$$s:r}),l(a("Encoding"),"register",["UTF-32LE"],function x(){var r=null==x.$$s?this:x.$$s;return d(r,"$each_byte",function t(r){var n=t.$$p||i;delete t.$$p;for(var a=0,o=r.length;a<o;a++){var $=r.charCodeAt(a);e.yield1(n,255&$),e.yield1(n,$>>8),e.yield1(n,0),e.yield1(n,0)}},1),d(r,"$bytesize",function(e){return 4*e.length},1)},{$$arity:0,$$s:r}),l(a("Encoding"),"register",["UTF-32BE",$(["inherits"],{inherits:a(a("Encoding"),"UTF_32LE")})],function k(){var r=null==k.$$s?this:k.$$s;return d(r,"$each_byte",function t(r){var n=t.$$p||i;delete t.$$p;for(var a=0,o=r.length;a<o;a++){var $=r.charCodeAt(a);e.yield1(n,0),e.yield1(n,0),e.yield1(n,$>>8),e.yield1(n,255&$)}},1)},{$$arity:0,$$s:r}),l(a("Encoding"),"register",["ASCII-8BIT",$(["aliases","ascii"],{aliases:["BINARY"],ascii:!0})],function A(){var r=null==A.$$s?this:A.$$s;return d(r,"$each_char",function t(r){var n=t.$$p||i;delete t.$$p;for(var a=0,o=r.length;a<o;a++){var $=new String(r.charAt(a));$.encoding=r.encoding,e.yield1(n,$)}},1),d(r,"$charsize",function(e){return e.length},1),d(r,"$each_byte",function n(r){var t=n.$$p||i;delete n.$$p;for(var a=0,o=r.length;a<o;a++){var $=r.charCodeAt(a);e.yield1(t,255&$)}},1),d(r,"$bytesize",function(e){return e.length},1),d(r,"$binary?",function(){return!0},0)},{$$arity:0,$$s:r}),a("Encoding").$register("ISO-8859-1",$(["aliases","ascii","inherits"],{aliases:["ISO8859-1"],ascii:!0,inherits:a(a("Encoding"),"ASCII_8BIT")})),a("Encoding").$register("US-ASCII",$(["aliases","ascii","inherits"],{aliases:["ASCII"],ascii:!0,inherits:a(a("Encoding"),"ASCII_8BIT")})),function(){var r=o("::",null,"String"),t=r.$$prototype;t.internal_encoding=t.bytes=t.encoding=i,r.$attr_reader("encoding"),r.$attr_reader("internal_encoding"),e.prop(String.prototype,"bytes",i),e.prop(String.prototype,"encoding",a(a("Encoding"),"UTF_8")),e.prop(String.prototype,"internal_encoding",a(a("Encoding"),"UTF_8")),d(r,"$b",function(){return this.$dup().$force_encoding("binary")},0),d(r,"$bytesize",function(){var e=this;return e.internal_encoding.$bytesize(e)},0),d(r,"$each_byte",function n(){var e=n.$$p||i,r=this;return delete n.$$p,e===i?l(r,"enum_for",["each_byte"],function t(){return(null==t.$$s?this:t.$$s).$bytesize()},{$$arity:0,$$s:r}):(l(r.internal_encoding,"each_byte",[r],e.$to_proc()),r)},0),d(r,"$bytes",function(){var e=this,r=i;return"string"==typeof e?new String(e).$each_byte().$to_a():(e.bytes=u(r=e.bytes)?r:e.$each_byte().$to_a(),e.bytes.$dup())},0),d(r,"$each_char",function $(){var e=$.$$p||i,r=this;return delete $.$$p,e===i?l(r,"enum_for",["each_char"],function t(){return(null==t.$$s?this:t.$$s).$length()},{$$arity:0,$$s:r}):(l(r.encoding,"each_char",[r],e.$to_proc()),r)},0),d(r,"$chars",function s(){var e=s.$$p||i,r=this;return delete s.$$p,u(e)?l(r,"each_char",[],e.$to_proc()):r.$each_char().$to_a()},0),d(r,"$each_codepoint",function c(){var r=c.$$p||i,t=this;if(delete c.$$p,r===i)return t.$enum_for("each_codepoint");for(var n=0,a=t.length;n<a;n++)e.yield1(r,t.codePointAt(n));return t},0),d(r,"$codepoints",function f(){var e=f.$$p||i,r=this;return delete f.$$p,e!==i?l(r,"each_codepoint",[],e.$to_proc()):r.$each_codepoint().$to_a()},0),d(r,"$encode",function(r){var t=this;return e.enc(t,r)},1),d(r,"$force_encoding",function(r){var t=this;return r===t.encoding?t:(r=_["$coerce_to!"](r,a("String"),"to_s"),(r=a("Encoding").$find(r))===t.encoding?t:t=e.set_encoding(t,r))},1),d(r,"$getbyte",function(e){var r=i;return r=this.$bytes(),e=_["$coerce_to!"](e,a("Integer"),"to_int"),u(p(r.$length(),e))?i:r["$[]"](e)},1),d(r,"$initialize_copy",function(){return"\n      self.encoding = other.encoding;\n      self.internal_encoding = other.internal_encoding;\n    "},1),d(r,"$length",function(){return this.length},0),g(r,"size","length"),d(r,"$valid_encoding?",function(){return!0},0)}(),y=[a(n("Encoding"),"UTF_8")],l(a("Encoding"),"default_external=",m(y)),y[v(y.length,1)]},Opal.modules["corelib/math"]=function(e){var r=[],t=(e.nil,e.$$$),n=e.type_error,i=e.module,a=e.const_set,o=e.Class,$=e.Kernel,s=e.defs,u=e.def,l=e.truthy,c=e.rb_minus,f=e.eqeqeq,d=e.rb_divide;return e.add_stubs("new,raise,Float,Integer,module_function,checked,float!,===,gamma,-,integer!,/,infinite?"),function(r,h){var _=i("::","Math"),p=[_].concat(h),g=e.$r(p);return a(_,"E",Math.E),a(_,"PI",Math.PI),a(_,"DomainError",o.$new(t("StandardError"))),s(_,"$checked",function(r){var t;if(t=e.slice.call(arguments,1),isNaN(t[0])||2==t.length&&isNaN(t[1]))return NaN;var n=Math[r].apply(null,t);return isNaN(n)&&$.$raise(g("DomainError"),'Numerical argument is out of domain - "'+r+'"'),n},-2),s(_,"$float!",function(r){try{return $.$Float(r)}catch(i){if(!e.rescue(i,[t("ArgumentError")]))throw i;try{return $.$raise(n(r,t("Float")))}finally{e.pop_exception()}}},1),s(_,"$integer!",function(r){try{return $.$Integer(r)}catch(i){if(!e.rescue(i,[t("ArgumentError")]))throw i;try{return $.$raise(n(r,t("Integer")))}finally{e.pop_exception()}}},1),_.$module_function(),u(_,"$acos",function(e){return t("Math").$checked("acos",t("Math")["$float!"](e))},1),l("undefined"!=typeof Math.acosh)||(Math.acosh=function(e){return Math.log(e+Math.sqrt(e*e-1))}),u(_,"$acosh",function(e){return t("Math").$checked("acosh",t("Math")["$float!"](e))},1),u(_,"$asin",function(e){return t("Math").$checked("asin",t("Math")["$float!"](e))},1),l("undefined"!=typeof Math.asinh)||(Math.asinh=function(e){return Math.log(e+Math.sqrt(e*e+1))}),u(_,"$asinh",function(e){return t("Math").$checked("asinh",t("Math")["$float!"](e))},1),u(_,"$atan",function(e){return t("Math").$checked("atan",t("Math")["$float!"](e))},1),u(_,"$atan2",function(e,r){return t("Math").$checked("atan2",t("Math")["$float!"](e),t("Math")["$float!"](r))},2),l("undefined"!=typeof Math.atanh)||(Math.atanh=function(e){return.5*Math.log((1+e)/(1-e))}),u(_,"$atanh",function(e){return t("Math").$checked("atanh",t("Math")["$float!"](e))},1),l("undefined"!=typeof Math.cbrt)||(Math.cbrt=function(e){if(0==e)return 0;if(e<0)return-Math.cbrt(-e);for(var r=e,t=0;r<.125;)r*=8,t--;for(;r>1;)r*=.125,t++;for(r=(-.46946116*r+1.072302)*r+.3812513;t<0;)r*=.5,t++;for(;t>0;)r*=2,t--;return r=2/3*(r=2/3*(r=2/3*(r=2/3*r+1/3*e/(r*r))+1/3*e/(r*r))+1/3*e/(r*r))+1/3*e/(r*r)}),u(_,"$cbrt",function(e){return t("Math").$checked("cbrt",t("Math")["$float!"](e))},1),u(_,"$cos",function(e){return t("Math").$checked("cos",t("Math")["$float!"](e))},1),l("undefined"!=typeof Math.cosh)||(Math.cosh=function(e){return(Math.exp(e)+Math.exp(-e))/2}),u(_,"$cosh",function(e){return t("Math").$checked("cosh",t("Math")["$float!"](e))},1),l("undefined"!=typeof Math.erf)||e.prop(Math,"erf",function(e){var r=.254829592,t=-.284496736,n=1.421413741,i=-1.453152027,a=1.061405429,o=1;e<0&&(o=-1);var $=1/(1+.3275911*(e=Math.abs(e)));return o*(1-((((a*$+i)*$+n)*$+t)*$+r)*$*Math.exp(-e*e))}),u(_,"$erf",function(e){return t("Math").$checked("erf",t("Math")["$float!"](e))},1),l("undefined"!=typeof Math.erfc)||e.prop(Math,"erfc",function(e){var r=Math.abs(e),t=1/(.5*r+1),n=-r*r-1.26551223+t*(t*(t*(t*(t*(t*(t*(t*(.17087277*t-.82215223)+1.48851587)-1.13520398)+.27886807)-.18628806)+.09678418)+.37409196)+1.00002368),i=t*Math.exp(n);return e<0?2-i:i}),u(_,"$erfc",function(e){return t("Math").$checked("erfc",t("Math")["$float!"](e))},1),u(_,"$exp",function(e){return t("Math").$checked("exp",t("Math")["$float!"](e))},1),u(_,"$frexp",function(e){if(e=g("Math")["$float!"](e),isNaN(e))return[NaN,0];var r=Math.floor(Math.log(Math.abs(e))/Math.log(2))+1;return[e/Math.pow(2,r),r]},1),u(_,"$gamma",function(e){var r,n,i,a,o,s,u,l,f;e=g("Math")["$float!"](e);var d=4.7421875,h=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(e))return NaN;if(0===e&&1/e<0)return-Infinity;if(-1!==e&&e!==-Infinity||$.$raise(g("DomainError"),'Numerical argument is out of domain - "gamma"'),g("Integer")["$==="](e)){if(e<=0)return isFinite(e)?Infinity:NaN;if(e>171)return Infinity;for(a=e-2,o=e-1;a>1;)o*=a,a--;return 0==o&&(o=1),o}if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*t("Math").$gamma(c(1,e)));if(e>=171.35)return Infinity;if(e>85)return f=(l=(u=(s=e*e)*e)*e)*e,Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*s)-139/(51840*u)-571/(2488320*l)+163879/(209018880*f)+5246819/(75246796800*f*e));for(e-=1,i=h[0],r=1;r<h.length;++r)i+=h[r]/(e+r);return n=e+d+.5,Math.sqrt(2*Math.PI)*Math.pow(n,e+.5)*Math.exp(-n)*i},1),l("undefined"!=typeof Math.hypot)||(Math.hypot=function(e,r){return Math.sqrt(e*e+r*r)}),u(_,"$hypot",function(e,r){return t("Math").$checked("hypot",t("Math")["$float!"](e),t("Math")["$float!"](r))},2),u(_,"$ldexp",function(e,r){return e=g("Math")["$float!"](e),r=g("Math")["$integer!"](r),isNaN(r)&&$.$raise(t("RangeError"),"float NaN out of range of integer"),e*Math.pow(2,r)},2),u(_,"$lgamma",function(e){return-1==e?[Infinity,1]:[Math.log(Math.abs(t("Math").$gamma(e))),t("Math").$gamma(e)<0?-1:1]},1),u(_,"$log",function(e,r){return f(t("String"),e)&&$.$raise(n(e,t("Float"))),l(null==r)?t("Math").$checked("log",t("Math")["$float!"](e)):(f(t("String"),r)&&$.$raise(n(r,t("Float"))),d(t("Math").$checked("log",t("Math")["$float!"](e)),t("Math").$checked("log",t("Math")["$float!"](r))))},-2),l("undefined"!=typeof Math.log10)||(Math.log10=function(e){return Math.log(e)/Math.LN10}),u(_,"$log10",function(e){return f(t("String"),e)&&$.$raise(n(e,t("Float"))),t("Math").$checked("log10",t("Math")["$float!"](e))},1),l("undefined"!=typeof Math.log2)||(Math.log2=function(e){return Math.log(e)/Math.LN2}),u(_,"$log2",function(e){return f(t("String"),e)&&$.$raise(n(e,t("Float"))),t("Math").$checked("log2",t("Math")["$float!"](e))},1),u(_,"$sin",function(e){return t("Math").$checked("sin",t("Math")["$float!"](e))},1),l("undefined"!=typeof Math.sinh)||(Math.sinh=function(e){return(Math.exp(e)-Math.exp(-e))/2}),u(_,"$sinh",function(e){return t("Math").$checked("sinh",t("Math")["$float!"](e))},1),u(_,"$sqrt",function(e){return t("Math").$checked("sqrt",t("Math")["$float!"](e))},1),u(_,"$tan",function(e){return e=t("Math")["$float!"](e),l(e["$infinite?"]())?t(t("Float"),"NAN"):t("Math").$checked("tan",t("Math")["$float!"](e))},1),l("undefined"!=typeof Math.tanh)||(Math.tanh=function(e){return e==Infinity?1:e==-Infinity?-1:(Math.exp(e)-Math.exp(-e))/(Math.exp(e)+Math.exp(-e))}),u(_,"$tanh",function(e){return t("Math").$checked("tanh",t("Math")["$float!"](e))},1)}(0,r)},Opal.modules["corelib/complex/base"]=function(e){var r=[],t=e.nil,n=e.module,i=e.truthy,a=e.def,o=e.klass;return e.add_stubs("new,from_string"),function(r,o){var $=n("::","Kernel"),s=[$].concat(o),u=e.$r(s);a($,"$Complex",function(e,r){return null==r&&(r=t),i(r)?u("Complex").$new(e,r):u("Complex").$new(e,0)},-2)}(0,r),function(r,$super,t){var n=o("::",null,"String"),i=[n].concat(t),$=e.$r(i);return a(n,"$to_c",function(){var e=this;return $("Complex").$from_string(e)},0)}(0,0,r)},Opal.modules["corelib/complex"]=function(e){var r=e.top,t=[],n=e.nil,i=e.$$$,a=e.klass,o=e.truthy,$=e.eqeqeq,s=e.Kernel,u=e.defs,l=e.rb_times,c=e.def,f=e.rb_plus,d=e.rb_minus,h=e.rb_divide,_=e.eqeq,p=e.to_ary,g=e.rb_gt,m=e.neqeq,v=e.const_set,y=e.alias;return e.add_stubs("require,real?,===,raise,new,*,cos,sin,attr_reader,class,==,real,imag,Complex,-@,+,__coerced__,-,nan?,/,conj,abs2,quo,polar,exp,log,>,!=,divmod,**,hypot,atan2,lcm,denominator,finite?,infinite?,numerator,abs,arg,rationalize,to_f,to_i,to_r,inspect,zero?,positive?,Rational"),r.$require("corelib/numeric"),r.$require("corelib/complex/base"),function(r,$super,t){var b=a(r,$super,"Complex"),w=[b].concat(t),E=e.$r(w),x=b.$$prototype;return x.real=x.imag=n,u(b,"$rect",function(e,r){var t=this;return null==r&&(r=0),$(i("Numeric"),e)&&o(e["$real?"]())&&$(i("Numeric"),r)&&o(r["$real?"]())||s.$raise(i("TypeError"),"not a real"),t.$new(e,r)},-2),u(b,"$polar",function(e,r){var t=this;return null==r&&(r=0),$(i("Numeric"),e)&&o(e["$real?"]())&&$(i("Numeric"),r)&&o(r["$real?"]())||s.$raise(i("TypeError"),"not a real"),t.$new(l(e,i("Math").$cos(r)),l(e,i("Math").$sin(r)))},-2),b.$attr_reader("real","imag"),c(b,"$initialize",function(e,r){var t=this;return null==r&&(r=0),t.real=e,t.imag=r},-2),c(b,"$coerce",function(e){var r=this;return $(i("Complex"),e)?[e,r]:$(i("Numeric"),e)&&o(e["$real?"]())?[i("Complex").$new(e,0),r]:s.$raise(i("TypeError"),e.$class()+" can't be coerced into Complex")},1),c(b,"$==",function(e){var r=this,t=n;return $(i("Complex"),e)?o(t=r.real["$=="](e.$real()))?r.imag["$=="](e.$imag()):t:$(i("Numeric"),e)&&o(e["$real?"]())?o(t=r.real["$=="](e))?r.imag["$=="](0):t:e["$=="](r)},1),c(b,"$-@",function(){var e=this;return s.$Complex(e.real["$-@"](),e.imag["$-@"]())},0),c(b,"$+",function(e){var r=this;return $(i("Complex"),e)?s.$Complex(f(r.real,e.$real()),f(r.imag,e.$imag())):$(i("Numeric"),e)&&o(e["$real?"]())?s.$Complex(f(r.real,e),r.imag):r.$__coerced__("+",e)},1),c(b,"$-",function(e){var r=this;return $(i("Complex"),e)?s.$Complex(d(r.real,e.$real()),d(r.imag,e.$imag())):$(i("Numeric"),e)&&o(e["$real?"]())?s.$Complex(d(r.real,e),r.imag):r.$__coerced__("-",e)},1),c(b,"$*",function(e){var r=this;return $(i("Complex"),e)?s.$Complex(d(l(r.real,e.$real()),l(r.imag,e.$imag())),f(l(r.real,e.$imag()),l(r.imag,e.$real()))):$(i("Numeric"),e)&&o(e["$real?"]())?s.$Complex(l(r.real,e),l(r.imag,e)):r.$__coerced__("*",e)},1),c(b,"$/",function(e){var r=this;return $(i("Complex"),e)?$(i("Number"),r.real)&&o(r.real["$nan?"]())||$(i("Number"),r.imag)&&o(r.imag["$nan?"]())||$(i("Number"),e.$real())&&o(e.$real()["$nan?"]())||$(i("Number"),e.$imag())&&o(e.$imag()["$nan?"]())?i("Complex").$new(i(i("Float"),"NAN"),i(i("Float"),"NAN")):h(l(r,e.$conj()),e.$abs2()):$(i("Numeric"),e)&&o(e["$real?"]())?s.$Complex(r.real.$quo(e),r.imag.$quo(e)):r.$__coerced__("/",e)},1),c(b,"$**",function(e){var r,t,a,u,c=this,v=n,y=n,b=n,w=n,E=n,x=n,k=n,A=n,I=n,O=n,S=n;if(_(e,0))return i("Complex").$new(1,0);if($(i("Complex"),e))return t=c.$polar(),v=null==(r=p(t))[0]?n:r[0],y=null==r[1]?n:r[1],b=e.$real(),w=e.$imag(),E=i("Math").$exp(d(l(b,i("Math").$log(v)),l(w,y))),x=f(l(y,b),l(w,i("Math").$log(v))),i("Complex").$polar(E,x);if($(i("Integer"),e)){if(o(g(e,0))){for(A=k=c,I=d(e,1);m(I,0);){for(a=I.$divmod(2),O=null==(t=p(a))[0]?n:t[0],S=null==t[1]?n:t[1];_(S,0);)k=s.$Complex(d(l(k.$real(),k.$real()),l(k.$imag(),k.$imag())),l(l(2,k.$real()),k.$imag())),u=(I=O).$divmod(2),O=null==(a=p(u))[0]?n:a[0],S=null==a[1]?n:a[1];A=l(A,k),I=d(I,1)}return A}return h(i("Rational").$new(1,1),c)["$**"](e["$-@"]())}return $(i("Float"),e)||$(i("Rational"),e)?(t=c.$polar(),v=null==(r=p(t))[0]?n:r[0],y=null==r[1]?n:r[1],i("Complex").$polar(v["$**"](e),l(y,e))):c.$__coerced__("**",e)},1),c(b,"$abs",function(){var e=this;return i("Math").$hypot(e.real,e.imag)},0),c(b,"$abs2",function(){var e=this;return f(l(e.real,e.real),l(e.imag,e.imag))},0),c(b,"$angle",function(){var e=this;return i("Math").$atan2(e.imag,e.real)},0),c(b,"$conj",function(){var e=this;return s.$Complex(e.real,e.imag["$-@"]())},0),c(b,"$denominator",function(){var e=this;return e.real.$denominator().$lcm(e.imag.$denominator())},0),c(b,"$eql?",function(e){var r=this,t=n,i=n;return o(t=o(i=E("Complex")["$==="](e))?r.real.$class()["$=="](r.imag.$class()):i)?r["$=="](e):t},1),c(b,"$fdiv",function(e){var r=this;return $(i("Numeric"),e)||s.$raise(i("TypeError"),e.$class()+" can't be coerced into Complex"),h(r,e)},1),c(b,"$finite?",function(){var e=this,r=n;return o(r=e.real["$finite?"]())?e.imag["$finite?"]():r},0),c(b,"$hash",function(){var e=this;return"Complex:"+e.real+":"+e.imag},0),c(b,"$infinite?",function(){var e=this,r=n;return o(r=e.real["$infinite?"]())?r:e.imag["$infinite?"]()},0),c(b,"$inspect",function(){return"("+this+")"},0),c(b,"$numerator",function(){var e=this,r=n;return r=e.$denominator(),s.$Complex(l(e.real.$numerator(),h(r,e.real.$denominator())),l(e.imag.$numerator(),h(r,e.imag.$denominator())))},0),c(b,"$polar",function(){var e=this;return[e.$abs(),e.$arg()]},0),c(b,"$rationalize",function(e){var r=this;return arguments.length>1&&s.$raise(i("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),m(r.imag,0)&&s.$raise(i("RangeError"),"can't convert "+r+" into Rational"),r.$real().$rationalize(e)},-1),c(b,"$real?",function(){return!1},0),c(b,"$rect",function(){var e=this;return[e.real,e.imag]},0),c(b,"$to_f",function(){var e=this;return _(e.imag,0)||s.$raise(i("RangeError"),"can't convert "+e+" into Float"),e.real.$to_f()},0),c(b,"$to_i",function(){var e=this;return _(e.imag,0)||s.$raise(i("RangeError"),"can't convert "+e+" into Integer"),e.real.$to_i()},0),c(b,"$to_r",function(){var e=this;return _(e.imag,0)||s.$raise(i("RangeError"),"can't convert "+e+" into Rational"),e.real.$to_r()},0),c(b,"$to_s",function(){var e=this,r=n;return r=e.real.$inspect(),r=f(r,$(i("Number"),e.imag)&&o(e.imag["$nan?"]())||o(e.imag["$positive?"]())||o(e.imag["$zero?"]())?"+":"-"),r=f(r,e.imag.$abs().$inspect()),$(i("Number"),e.imag)&&(o(e.imag["$nan?"]())||o(e.imag["$infinite?"]()))&&(r=f(r,"*")),f(r,"i")},0),v(w[0],"I",b.$new(0,1)),u(b,"$from_string",function(e){function r(){return o.test(e)}function t(){var r=e.match(o)[0];return e=e.slice(r.length),r.replace(/_/g,"")}function n(){if(r()){var n=parseFloat(t());if("/"===e[0]){if(e=e.slice(1),r()){var i=parseFloat(t());return s.$Rational(n,i)}return e="/"+e,n}return n}return null}var i,a,o=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/;e.match(o);return(i=n())?(a=n())?s.$Complex(i,a):"i"===e[0]?s.$Complex(0,i):s.$Complex(i,0):"i"===e[0]?s.$Complex(0,1):"-"===e[0]&&"i"===e[1]?s.$Complex(0,-1):"+"===e[0]&&"i"===e[1]?s.$Complex(0,1):s.$Complex(0,0)},1),function(e){y(e,"rectangular","rect")}(e.get_singleton_class(b)),y(b,"arg","angle"),y(b,"conjugate","conj"),y(b,"divide","/"),y(b,"imaginary","imag"),y(b,"magnitude","abs"),y(b,"phase","arg"),y(b,"quo","/"),y(b,"rectangular","rect"),e.udef(b,"$negative?"),e.udef(b,"$positive?"),e.udef(b,"$step"),n}("::",i("Numeric"),t)},Opal.modules["corelib/rational/base"]=function(e){e.nil;var r,t=e.$$$,n=e.module,i=e.def,a=e.klass;return e.add_stubs("convert,from_string"),r=n("::","Kernel"),i(r,"$Rational",function(e,r){return null==r&&(r=1),t("Rational").$convert(e,r)},-2),function(){var e=a("::",null,"String");return i(e,"$to_r",function(){var e=this;return t("Rational").$from_string(e)},0)}()},Opal.modules["corelib/rational"]=function(e){var r=e.top,t=e.nil,n=e.$$$,i=e.klass,a=e.eqeq,o=e.Kernel,$=e.truthy,s=e.rb_lt,u=e.rb_divide,l=e.defs,c=e.eqeqeq,f=e.not,d=e.Opal,h=e.def,_=e.rb_minus,p=e.rb_times,g=e.rb_plus,m=e.rb_gt,v=e.rb_le,y=e.alias;return e.add_stubs("require,to_i,==,raise,<,-@,new,gcd,/,nil?,===,reduce,to_r,!,equal?,coerce_to!,to_f,numerator,denominator,<=>,-,*,__coerced__,+,Rational,>,**,abs,ceil,with_precision,floor,<=,truncate,send"),r.$require("corelib/numeric"),r.$require("corelib/rational/base"),function(e,$super){var r=i(e,$super,"Rational"),b=r.$$prototype;return b.num=b.den=t,l(r,"$reduce",function(e,r){var i=this,l=t;if(e=e.$to_i(),r=r.$to_i(),a(r,0))o.$raise(n("ZeroDivisionError"),"divided by 0");else if($(s(r,0)))e=e["$-@"](),r=r["$-@"]();else if(a(r,1))return i.$new(e,r);return l=e.$gcd(r),i.$new(u(e,l),u(r,l))},2),l(r,"$convert",function(e,r){var t=this;return($(e["$nil?"]())||$(r["$nil?"]()))&&o.$raise(n("TypeError"),"cannot convert nil into Rational"),c(n("Integer"),e)&&c(n("Integer"),r)?t.$reduce(e,r):((c(n("Float"),e)||c(n("String"),e)||c(n("Complex"),e))&&(e=e.$to_r()),(c(n("Float"),r)||c(n("String"),r)||c(n("Complex"),r))&&(r=r.$to_r()),$(r["$equal?"](1))&&f(n("Integer")["$==="](e))?d["$coerce_to!"](e,n("Rational"),"to_r"):c(n("Numeric"),e)&&c(n("Numeric"),r)?u(e,r):t.$reduce(e,r))},2),h(r,"$initialize",function(e,r){var t=this;return t.num=e,t.den=r},2),h(r,"$numerator",function(){return this.num},0),h(r,"$denominator",function(){return this.den},0),h(r,"$coerce",function(e){var r=this,i=t;return c(n("Rational"),i=e)?[e,r]:c(n("Integer"),i)?[e.$to_r(),r]:c(n("Float"),i)?[e,r.$to_f()]:t},1),h(r,"$==",function(e){var r=this,i=t,a=t;return c(n("Rational"),i=e)?$(a=r.num["$=="](e.$numerator()))?r.den["$=="](e.$denominator()):a:c(n("Integer"),i)?$(a=r.num["$=="](e))?r.den["$=="](1):a:c(n("Float"),i)?r.$to_f()["$=="](e):e["$=="](r)},1),h(r,"$<=>",function(e){var r=this,i=t;return c(n("Rational"),i=e)?_(p(r.num,e.$denominator()),p(r.den,e.$numerator()))["$<=>"](0):c(n("Integer"),i)?_(r.num,p(r.den,e))["$<=>"](0):c(n("Float"),i)?r.$to_f()["$<=>"](e):r.$__coerced__("<=>",e)},1),h(r,"$+",function(e){var r=this,i=t,a=t,$=t;return c(n("Rational"),i=e)?(a=g(p(r.num,e.$denominator()),p(r.den,e.$numerator())),$=p(r.den,e.$denominator()),o.$Rational(a,$)):c(n("Integer"),i)?o.$Rational(g(r.num,p(e,r.den)),r.den):c(n("Float"),i)?g(r.$to_f(),e):r.$__coerced__("+",e)},1),h(r,"$-",function(e){var r=this,i=t,a=t,$=t;return c(n("Rational"),i=e)?(a=_(p(r.num,e.$denominator()),p(r.den,e.$numerator())),$=p(r.den,e.$denominator()),o.$Rational(a,$)):c(n("Integer"),i)?o.$Rational(_(r.num,p(e,r.den)),r.den):c(n("Float"),i)?_(r.$to_f(),e):r.$__coerced__("-",e)},1),h(r,"$*",function(e){var r=this,i=t,a=t,$=t;return c(n("Rational"),i=e)?(a=p(r.num,e.$numerator()),$=p(r.den,e.$denominator()),o.$Rational(a,$)):c(n("Integer"),i)?o.$Rational(p(r.num,e),r.den):c(n("Float"),i)?p(r.$to_f(),e):r.$__coerced__("*",e)},1),h(r,"$/",function(e){var r=this,i=t,$=t,s=t;return c(n("Rational"),i=e)?($=p(r.num,e.$denominator()),s=p(r.den,e.$numerator()),o.$Rational($,s)):c(n("Integer"),i)?a(e,0)?u(r.$to_f(),0):o.$Rational(r.num,p(r.den,e)):c(n("Float"),i)?u(r.$to_f(),e):r.$__coerced__("/",e)},1),h(r,"$**",function(e){var r=this,i=t;return c(n("Integer"),i=e)?a(r,0)&&$(s(e,0))?n(n("Float"),"INFINITY"):$(m(e,0))?o.$Rational(r.num["$**"](e),r.den["$**"](e)):$(s(e,0))?o.$Rational(r.den["$**"](e["$-@"]()),r.num["$**"](e["$-@"]())):o.$Rational(1,1):c(n("Float"),i)?r.$to_f()["$**"](e):c(n("Rational"),i)?a(e,0)?o.$Rational(1,1):a(e.$denominator(),1)?$(s(e,0))?o.$Rational(r.den["$**"](e.$numerator().$abs()),r.num["$**"](e.$numerator().$abs())):o.$Rational(r.num["$**"](e.$numerator()),r.den["$**"](e.$numerator())):a(r,0)&&$(s(e,0))?o.$raise(n("ZeroDivisionError"),"divided by 0"):r.$to_f()["$**"](e):r.$__coerced__("**",e)},1),h(r,"$abs",function(){var e=this;return o.$Rational(e.num.$abs(),e.den.$abs())},0),h(r,"$ceil",function(e){var r=this;return null==e&&(e=0),a(e,0)?u(r.num["$-@"](),r.den)["$-@"]().$ceil():r.$with_precision("ceil",e)},-1),h(r,"$floor",function(e){var r=this;return null==e&&(e=0),a(e,0)?u(r.num["$-@"](),r.den)["$-@"]().$floor():r.$with_precision("floor",e)},-1),h(r,"$hash",function(){var e=this;return"Rational:"+e.num+":"+e.den},0),h(r,"$inspect",function(){return"("+this+")"},0),h(r,"$rationalize",function(e){var r=this;if(arguments.length>1&&o.$raise(n("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),null==e)return r;for(var t,i,a,$,s,l=e.$abs(),c=_(r,l),f=g(r,l),d=0,h=1,p=1,m=0;a=c.$ceil(),!v(a,f);)t=($=a-1)*h+d,i=$*m+p,s=u(1,_(f,$)),f=u(1,_(c,$)),c=s,d=h,p=m,h=t,m=i;return o.$Rational(a*h+d,a*m+p)},-1),h(r,"$round",function(e){var r=this,n=t,i=t,o=t;return null==e&&(e=0),a(e,0)?a(r.num,0)?0:a(r.den,1)?r.num:(n=g(p(r.num.$abs(),2),r.den),i=p(r.den,2),o=u(n,i).$truncate(),$(s(r.num,0))?o["$-@"]():o):r.$with_precision("round",e)},-1),h(r,"$to_f",function(){var e=this;return u(e.num,e.den)},0),h(r,"$to_i",function(){return this.$truncate()},0),h(r,"$to_r",function(){return this},0),h(r,"$to_s",function(){var e=this;return e.num+"/"+e.den},0),
h(r,"$truncate",function(e){var r=this;return null==e&&(e=0),a(e,0)?$(s(r.num,0))?r.$ceil():r.$floor():r.$with_precision("truncate",e)},-1),h(r,"$with_precision",function(e,r){var i=this,a=t,l=t;return c(n("Integer"),r)||o.$raise(n("TypeError"),"not an Integer"),a=10["$**"](r),l=p(i,a),$(s(r,1))?u(l.$send(e),a).$to_i():o.$Rational(l.$send(e),a)},2),l(r,"$from_string",function(e){function r(){return $.test(a)}function t(){var e=a.match($)[0];return a=a.slice(e.length),e.replace(/_/g,"")}var n,i,a=e.trimLeft(),$=/^[+-]?[\d_]+(\.[\d_]+)?/;a.match($);return r()?(n=parseFloat(t()),"/"===a[0]?(a=a.slice(1),r()?(i=parseFloat(t()),o.$Rational(n,i)):o.$Rational(n,1)):o.$Rational(n,1)):o.$Rational(0,1)},1),y(r,"divide","/"),y(r,"quo","/")}("::",n("Numeric"))},Opal.modules["corelib/time"]=function(e){var r=e.top,t=[],n=e.nil,i=e.$$$,a=e.slice,o=e.klass,$=e.Kernel,s=e.Opal,u=e.defs,l=e.eqeqeq,c=e.def,f=e.truthy,d=e.rb_gt,h=e.rb_lt,_=e.rb_plus,p=e.rb_divide,g=e.rb_minus,m=e.range,v=e.neqeq,y=e.rb_le,b=e.eqeq,w=e.alias;return e.add_stubs("require,include,===,raise,coerce_to!,respond_to?,to_str,to_i,new,<=>,to_f,nil?,>,<,strftime,year,month,day,+,round,/,-,copy_instance_variables,initialize_dup,is_a?,zero?,wday,utc?,mon,yday,hour,min,sec,rjust,ljust,zone,to_s,[],cweek_cyear,isdst,!=,<=,==,ceil"),r.$require("corelib/comparable"),function(r,$super,t){function E(e,r,t,a,o,u){if(e=e.$$is_string?parseInt(e,10):s["$coerce_to!"](e,i("Integer"),"to_int"),r===n)r=1;else if(!r.$$is_number)if(r["$respond_to?"]("to_str"))switch((r=r.$to_str()).toLowerCase()){case"jan":r=1;break;case"feb":r=2;break;case"mar":r=3;break;case"apr":r=4;break;case"may":r=5;break;case"jun":r=6;break;case"jul":r=7;break;case"aug":r=8;break;case"sep":r=9;break;case"oct":r=10;break;case"nov":r=11;break;case"dec":r=12;break;default:r=r.$to_i()}else r=s["$coerce_to!"](r,i("Integer"),"to_int");return(r<1||r>12)&&$.$raise(i("ArgumentError"),"month out of range: "+r),r-=1,((t=t===n?1:t.$$is_string?parseInt(t,10):s["$coerce_to!"](t,i("Integer"),"to_int"))<1||t>31)&&$.$raise(i("ArgumentError"),"day out of range: "+t),((a=a===n?0:a.$$is_string?parseInt(a,10):s["$coerce_to!"](a,i("Integer"),"to_int"))<0||a>24)&&$.$raise(i("ArgumentError"),"hour out of range: "+a),((o=o===n?0:o.$$is_string?parseInt(o,10):s["$coerce_to!"](o,i("Integer"),"to_int"))<0||o>59)&&$.$raise(i("ArgumentError"),"min out of range: "+o),u===n?u=0:u.$$is_number||(u=u.$$is_string?parseInt(u,10):s["$coerce_to!"](u,i("Integer"),"to_int")),(u<0||u>60)&&$.$raise(i("ArgumentError"),"sec out of range: "+u),[e,r,t,a,o,u]}var x=o("::",$super,"Time"),k=[x].concat(t),A=e.$r(k);x.$include(i("Comparable"));var I=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],O=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],N=["January","February","March","April","May","June","July","August","September","October","November","December"];return u(x,"$at",function(e,r){var t;return i("Time")["$==="](e)?(r!==undefined&&$.$raise(i("TypeError"),"can't convert Time into an exact number"),(t=new Date(e.getTime())).is_utc=e.is_utc,t):(e.$$is_number||(e=s["$coerce_to!"](e,i("Integer"),"to_int")),r===undefined?new Date(1e3*e):(r.$$is_number||(r=s["$coerce_to!"](r,i("Integer"),"to_int")),new Date(1e3*e+r/1e3)))},-2),u(x,"$new",function(e,r,t,a,o,s,u){var l,c;return null==r&&(r=n),null==t&&(t=n),null==a&&(a=n),null==o&&(o=n),null==s&&(s=n),null==u&&(u=n),e===undefined?new Date:(u!==n&&$.$raise(i("ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time"),e=(l=E(e,r,t,a,o,s))[0],r=l[1],t=l[2],a=l[3],o=l[4],s=l[5],c=new Date(e,r,t,a,o,0,1e3*s),e<100&&c.setFullYear(e),c)},-1),u(x,"$local",function(e,r,t,i,o,$,s,u,l,c){var f,d;return null==r&&(r=n),null==t&&(t=n),null==i&&(i=n),null==o&&(o=n),null==$&&($=n),null==s&&(s=n),null==u&&(u=n),null==l&&(l=n),null==c&&(c=n),10===arguments.length&&(e=(f=a.call(arguments))[5],r=f[4],t=f[3],i=f[2],o=f[1],$=f[0]),e=(f=E(e,r,t,i,o,$))[0],r=f[1],t=f[2],i=f[3],o=f[4],$=f[5],d=new Date(e,r,t,i,o,0,1e3*$),e<100&&d.setFullYear(e),d},-2),u(x,"$gm",function(e,r,t,i,o,$,s,u,l,c){var f,d;return null==r&&(r=n),null==t&&(t=n),null==i&&(i=n),null==o&&(o=n),null==$&&($=n),null==s&&(s=n),null==u&&(u=n),null==l&&(l=n),null==c&&(c=n),10===arguments.length&&(e=(f=a.call(arguments))[5],r=f[4],t=f[3],i=f[2],o=f[1],$=f[0]),e=(f=E(e,r,t,i,o,$))[0],r=f[1],t=f[2],i=f[3],o=f[4],$=f[5],d=new Date(Date.UTC(e,r,t,i,o,0,1e3*$)),e<100&&d.setUTCFullYear(e),d.is_utc=!0,d},-2),u(x,"$now",function(){return this.$new()},0),c(x,"$+",function(e){var r=this;l(i("Time"),e)&&$.$raise(i("TypeError"),"time + time?"),e.$$is_number||(e=s["$coerce_to!"](e,i("Integer"),"to_int"));var t=new Date(r.getTime()+1e3*e);return t.is_utc=r.is_utc,t},1),c(x,"$-",function(e){var r=this;if(l(i("Time"),e))return(r.getTime()-e.getTime())/1e3;e.$$is_number||(e=s["$coerce_to!"](e,i("Integer"),"to_int"));var t=new Date(r.getTime()-1e3*e);return t.is_utc=r.is_utc,t},1),c(x,"$<=>",function(e){var r=this,t=n;return l(i("Time"),e)?r.$to_f()["$<=>"](e.$to_f()):(t=e["$<=>"](r),f(t["$nil?"]())?n:f(d(t,0))?-1:f(h(t,0))?1:0)},1),c(x,"$==",function(e){var r=this,t=n;return f(t=i("Time")["$==="](e))?r.$to_f()===e.$to_f():t},1),c(x,"$asctime",function(){return this.$strftime("%a %b %e %H:%M:%S %Y")},0),c(x,"$day",function(){var e=this;return e.is_utc?e.getUTCDate():e.getDate()},0),c(x,"$yday",function(){var e=this,r=n,t=n,i=n;return r=A("Time").$new(e.$year()).$to_i(),t=A("Time").$new(e.$year(),e.$month(),e.$day()).$to_i(),i=86400,_(p(g(t,r),i).$round(),1)},0),c(x,"$isdst",function(){var e=this,r=new Date(e.getFullYear(),0,1),t=new Date(e.getFullYear(),6,1);return e.getTimezoneOffset()<Math.max(r.getTimezoneOffset(),t.getTimezoneOffset())},0),c(x,"$dup",function(){var e=this,r=n;return(r=new Date(e.getTime())).$copy_instance_variables(e),r.$initialize_dup(e),r},0),c(x,"$eql?",function(e){var r=this,t=n;return f(t=e["$is_a?"](i("Time")))?r["$<=>"](e)["$zero?"]():t},1),c(x,"$friday?",function(){return 5==this.$wday()},0),c(x,"$hash",function(){return"Time:"+this.getTime()},0),c(x,"$hour",function(){var e=this;return e.is_utc?e.getUTCHours():e.getHours()},0),c(x,"$inspect",function(){var e=this;return f(e["$utc?"]())?e.$strftime("%Y-%m-%d %H:%M:%S UTC"):e.$strftime("%Y-%m-%d %H:%M:%S %z")},0),c(x,"$min",function(){var e=this;return e.is_utc?e.getUTCMinutes():e.getMinutes()},0),c(x,"$mon",function(){var e=this;return(e.is_utc?e.getUTCMonth():e.getMonth())+1},0),c(x,"$monday?",function(){return 1==this.$wday()},0),c(x,"$saturday?",function(){return 6==this.$wday()},0),c(x,"$sec",function(){var e=this;return e.is_utc?e.getUTCSeconds():e.getSeconds()},0),c(x,"$succ",function(){var e=this,r=new Date(e.getTime()+1e3);return r.is_utc=e.is_utc,r},0),c(x,"$usec",function(){return 1e3*this.getMilliseconds()},0),c(x,"$zone",function(){var e,r=this.toString();return"GMT"==(e=-1==r.indexOf("(")?r.match(/[A-Z]{3,4}/)[0]:r.match(/\((.+)\)(?:\s|$)/)[1])&&/(GMT\W*\d{4})/.test(r)?RegExp.$1:e},0),c(x,"$getgm",function(){var e=new Date(this.getTime());return e.is_utc=!0,e},0),c(x,"$gmtime",function(){var e=this;return e.is_utc=!0,e},0),c(x,"$gmt?",function(){return!0===this.is_utc},0),c(x,"$gmt_offset",function(){var e=this;return e.is_utc?0:60*-e.getTimezoneOffset()},0),c(x,"$strftime",function(e){var r=this;return e.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(e,t,n,i,a){var o="",$=-1!==t.indexOf("0"),s=-1===t.indexOf("-"),u=-1!==t.indexOf("_"),l=-1!==t.indexOf("^"),c=-1!==t.indexOf("#"),f=(t.match(":")||[]).length;switch(n=parseInt(n,10),$&&u&&(t.indexOf("0")<t.indexOf("_")?$=!1:u=!1),a){case"Y":o+=r.$year();break;case"C":$=!u,o+=Math.round(r.$year()/100);break;case"y":$=!u,o+=r.$year()%100;break;case"m":$=!u,o+=r.$mon();break;case"B":o+=N[r.$mon()-1];break;case"b":case"h":u=!$,o+=S[r.$mon()-1];break;case"d":$=!u,o+=r.$day();break;case"e":u=!$,o+=r.$day();break;case"j":$=!u,n=isNaN(n)?3:n,o+=r.$yday();break;case"H":$=!u,o+=r.$hour();break;case"k":u=!$,o+=r.$hour();break;case"I":$=!u,o+=r.$hour()%12||12;break;case"l":u=!$,o+=r.$hour()%12||12;break;case"P":o+=r.$hour()>=12?"pm":"am";break;case"p":o+=r.$hour()>=12?"PM":"AM";break;case"M":$=!u,o+=r.$min();break;case"S":$=!u,o+=r.$sec();break;case"L":$=!u,n=isNaN(n)?3:n,o+=r.getMilliseconds();break;case"N":n=isNaN(n)?9:n,o=(o+=r.getMilliseconds().toString().$rjust(3,"0")).$ljust(n,"0");break;case"z":var d=r.getTimezoneOffset(),h=Math.floor(Math.abs(d)/60),_=Math.abs(d)%60;o+=d<0?"+":"-",o+=h<10?"0":"",o+=h,f>0&&(o+=":"),o+=_<10?"0":"",o+=_,f>1&&(o+=":00");break;case"Z":o+=r.$zone();break;case"A":o+=I[r.$wday()];break;case"a":o+=O[r.$wday()];break;case"u":o+=r.$wday()+1;break;case"w":o+=r.$wday();break;case"V":o+=r.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":o+=r.$cweek_cyear()["$[]"](1);break;case"g":o+=r.$cweek_cyear()["$[]"](1)["$[]"](m(-2,-1,!1));break;case"s":o+=r.$to_i();break;case"n":o+="\n";break;case"t":o+="\t";break;case"%":o+="%";break;case"c":o+=r.$strftime("%a %b %e %T %Y");break;case"D":case"x":o+=r.$strftime("%m/%d/%y");break;case"F":o+=r.$strftime("%Y-%m-%d");break;case"v":o+=r.$strftime("%e-%^b-%4Y");break;case"r":o+=r.$strftime("%I:%M:%S %p");break;case"R":o+=r.$strftime("%H:%M");break;case"T":case"X":o+=r.$strftime("%H:%M:%S");break;default:return e}return l&&(o=o.toUpperCase()),c&&(o=o.replace(/[A-Z]/,function(e){e.toLowerCase()}).replace(/[a-z]/,function(e){e.toUpperCase()})),s&&($||u)&&(o=o.$rjust(isNaN(n)?2:n,u?" ":"0")),o})},1),c(x,"$sunday?",function(){return 0==this.$wday()},0),c(x,"$thursday?",function(){return 4==this.$wday()},0),c(x,"$to_a",function(){var e=this;return[e.$sec(),e.$min(),e.$hour(),e.$day(),e.$month(),e.$year(),e.$wday(),e.$yday(),e.$isdst(),e.$zone()]},0),c(x,"$to_f",function(){return this.getTime()/1e3},0),c(x,"$to_i",function(){return parseInt(this.getTime()/1e3,10)},0),c(x,"$tuesday?",function(){return 2==this.$wday()},0),c(x,"$wday",function(){var e=this;return e.is_utc?e.getUTCDay():e.getDay()},0),c(x,"$wednesday?",function(){return 3==this.$wday()},0),c(x,"$year",function(){var e=this;return e.is_utc?e.getUTCFullYear():e.getFullYear()},0),c(x,"$cweek_cyear",function(){var e=this,r=n,t=n,a=n,o=n,$=n;return r=i("Time").$new(e.$year(),1,1).$wday(),0,t=e.$year(),f(y(r,4))&&v(r,0)?a=g(r,1):(a=g(g(r,7),1),b(a,-8)&&(a=-1)),o=p(_(e.$yday(),a),7).$ceil(),f(y(o,0))?i("Time").$new(g(e.$year(),1),12,31).$cweek_cyear():(b(o,53)&&($=i("Time").$new(e.$year(),12,31).$wday(),f(y($,3))&&v($,0)&&(o=1,t=_(t,1))),[o,t])},0),function(e){w(e,"mktime","local"),w(e,"utc","gm")}(e.get_singleton_class(x)),w(x,"ctime","asctime"),w(x,"dst?","isdst"),w(x,"getutc","getgm"),w(x,"gmtoff","gmt_offset"),w(x,"mday","day"),w(x,"month","mon"),w(x,"to_s","inspect"),w(x,"tv_sec","to_i"),w(x,"tv_usec","usec"),w(x,"utc","gmtime"),w(x,"utc?","gmt?"),w(x,"utc_offset","gmt_offset")}(0,Date,t)},Opal.modules["corelib/struct"]=function(e){var r=e.top,t=[],n=e.nil,i=e.$$$,a=e.klass,o=e.hash2,$=e.truthy,s=e.neqeq,u=e.eqeq,l=e.Opal,c=e.send,f=e.Class,d=e.to_a,h=e.def,_=e.defs,p=e.Kernel,g=e.rb_gt,m=e.rb_minus,v=e.eqeqeq,y=e.rb_lt,b=e.rb_ge,w=e.rb_plus,E=e.alias;return e.add_stubs("require,include,!=,upcase,[],==,class,unshift,const_name!,map,coerce_to!,new,each,define_struct_attribute,allocate,initialize,alias_method,module_eval,to_proc,const_set,raise,<<,members,define_method,instance_eval,last,>,length,-,keys,any?,join,[]=,each_with_index,hash,===,<,-@,size,>=,include?,to_sym,instance_of?,__id__,eql?,enum_for,+,name,each_pair,inspect,to_h,args,each_with_object,flatten,to_a,respond_to?,dig"),r.$require("corelib/enumerable"),function(r,$super,t){var x=a("::",null,"Struct"),k=[x].concat(t),A=e.$r(k);x.$include(i("Enumerable")),_(x,"$new",function O(r){var t,a,_,p,g=O.$$p||n,m=this,v=n;if(delete O.$$p,t=e.slice.call(arguments,1),null==(a=e.extract_kwargs(t)))a=o([],{});else if(!a.$$is_hash)throw e.ArgumentError.$new("expected kwargs");if(_=t,null==(p=a.$$smap.keyword_init)&&(p=!1),$(r))if(u(r.$class(),i("String"))&&s(r["$[]"](0).$upcase(),r["$[]"](0)))_.$unshift(r),r=n;else try{r=l["$const_name!"](r)}catch(y){if(!e.rescue(y,[i("TypeError"),i("NameError")]))throw y;try{_.$unshift(r),r=n}finally{e.pop_exception()}}return c(_,"map",[],function(e){return null==e&&(e=n),l["$coerce_to!"](e,i("String"),"to_str")},1),v=c(f,"new",[m],function b(){var r=null==b.$$s?this:b.$$s;return c(_,"each",[],function t(e){var r=null==t.$$s?this:t.$$s;return null==e&&(e=n),r.$define_struct_attribute(e)},{$$arity:1,$$s:r}),function(r){return h(r,"$new",function(){var r,t=this,i=n;return r=e.slice.call(arguments),(i=t.$allocate()).$$data={},c(i,"initialize",d(r)),i},-1),r.$alias_method("[]","new")}(e.get_singleton_class(r))},{$$arity:0,$$s:m}),$(g)&&c(v,"module_eval",[],g.$to_proc()),v.$$keyword_init=p,$(r)&&i("Struct").$const_set(r,v),v},-2),_(x,"$define_struct_attribute",function(e){var r=this;return u(r,i("Struct"))&&p.$raise(i("ArgumentError"),"you cannot define attributes to the Struct class"),r.$members()["$<<"](e),c(r,"define_method",[e],function t(){return(null==t.$$s?this:t.$$s).$$data[e]},{$$arity:0,$$s:r}),c(r,"define_method",[e+"="],function a(r){var t=null==a.$$s?this:a.$$s;return null==r&&(r=n),t.$$data[e]=r},{$$arity:1,$$s:r})},1),_(x,"$members",function(){var e=this,r=n;return null==e.members&&(e.members=n),u(e,i("Struct"))&&p.$raise(i("ArgumentError"),"the Struct class has no members"),e.members=$(r=e.members)?r:[]},0),_(x,"$inherited",function(e){var r=this,t=n;return null==r.members&&(r.members=n),t=r.members,c(e,"instance_eval",[],function i(){return(null==i.$$s?this:i.$$s).members=t},{$$arity:0,$$s:r})},1),h(x,"$initialize",function(){var r,t,a=this,s=n,u=n,l=n;return r=e.slice.call(arguments),t=r,$(a.$class().$$keyword_init)?(s=$(u=t.$last())?u:o([],{}),($(g(t.$length(),1))||$(1===t.length&&!s.$$is_hash))&&p.$raise(i("ArgumentError"),"wrong number of arguments (given "+t.$length()+", expected 0)"),l=m(s.$keys(),a.$class().$members()),$(l["$any?"]())&&p.$raise(i("ArgumentError"),"unknown keywords: "+l.$join(", ")),c(a.$class().$members(),"each",[],function f(e){var r=null==f.$$s?this:f.$$s,t=n;return null==e&&(e=n),t=[e,s["$[]"](e)],c(r,"[]=",d(t)),t[m(t.length,1)]},{$$arity:1,$$s:a})):($(g(t.$length(),a.$class().$members().$length()))&&p.$raise(i("ArgumentError"),"struct size differs"),c(a.$class().$members(),"each_with_index",[],function h(e,r){var i=null==h.$$s?this:h.$$s,a=n;return null==e&&(e=n),null==r&&(r=n),a=[e,t["$[]"](r)],c(i,"[]=",d(a)),a[m(a.length,1)]},{$$arity:2,$$s:a}))},-1),h(x,"$initialize_copy",function(e){var r=this;r.$$data={};var t,n,i,a=Object.keys(e.$$data);for(t=0,n=a.length;t<n;t++)i=a[t],r.$$data[i]=e.$$data[i]},1),_(x,"$keyword_init?",function(){return this.$$keyword_init},0),h(x,"$members",function(){return this.$class().$members()},0),h(x,"$hash",function(){var e=this;return A("Hash").$new(e.$$data).$hash()},0),h(x,"$[]",function(e){var r=this;return v(i("Integer"),e)?($(y(e,r.$class().$members().$size()["$-@"]()))&&p.$raise(i("IndexError"),"offset "+e+" too small for struct(size:"+r.$class().$members().$size()+")"),$(b(e,r.$class().$members().$size()))&&p.$raise(i("IndexError"),"offset "+e+" too large for struct(size:"+r.$class().$members().$size()+")"),e=r.$class().$members()["$[]"](e)):v(i("String"),e)?r.$$data.hasOwnProperty(e)||p.$raise(i("NameError").$new("no member '"+e+"' in struct",e)):p.$raise(i("TypeError"),"no implicit conversion of "+e.$class()+" into Integer"),e=l["$coerce_to!"](e,i("String"),"to_str"),r.$$data[e]},1),h(x,"$[]=",function(e,r){var t=this;return v(i("Integer"),e)?($(y(e,t.$class().$members().$size()["$-@"]()))&&p.$raise(i("IndexError"),"offset "+e+" too small for struct(size:"+t.$class().$members().$size()+")"),$(b(e,t.$class().$members().$size()))&&p.$raise(i("IndexError"),"offset "+e+" too large for struct(size:"+t.$class().$members().$size()+")"),e=t.$class().$members()["$[]"](e)):v(i("String"),e)?$(t.$class().$members()["$include?"](e.$to_sym()))||p.$raise(i("NameError").$new("no member '"+e+"' in struct",e)):p.$raise(i("TypeError"),"no implicit conversion of "+e.$class()+" into Integer"),e=l["$coerce_to!"](e,i("String"),"to_str"),t.$$data[e]=r},2),h(x,"$==",function(e){function r(e,t){var o,$,s;for(o in n[e.$__id__()]=!0,a[t.$__id__()]=!0,e.$$data)if($=e.$$data[o],s=t.$$data[o],i("Struct")["$==="]($)){if(!(n.hasOwnProperty($.$__id__())&&a.hasOwnProperty(s.$__id__())||r($,s)))return!1}else if(!$["$=="](s))return!1;return!0}var t=this;if(!$(e["$instance_of?"](t.$class())))return!1;var n={},a={};return r(t,e)},1),h(x,"$eql?",function(e){function r(e,t){var o,$,s;for(o in n[e.$__id__()]=!0,a[t.$__id__()]=!0,e.$$data)if($=e.$$data[o],s=t.$$data[o],i("Struct")["$==="]($)){if(!(n.hasOwnProperty($.$__id__())&&a.hasOwnProperty(s.$__id__())||r($,s)))return!1}else if(!$["$eql?"](s))return!1;return!0}var t=this;if(!$(e["$instance_of?"](t.$class())))return!1;var n={},a={};return r(t,e)},1),h(x,"$each",function S(){var r=S.$$p||n,t=this;return delete S.$$p,r===n?c(t,"enum_for",["each"],function i(){return(null==i.$$s?this:i.$$s).$size()},{$$arity:0,$$s:t}):(c(t.$class().$members(),"each",[],function a(t){var i=null==a.$$s?this:a.$$s;return null==t&&(t=n),e.yield1(r,i["$[]"](t))},{$$arity:1,$$s:t}),t)},0),h(x,"$each_pair",function N(){var r=N.$$p||n,t=this;return delete N.$$p,r===n?c(t,"enum_for",["each_pair"],function i(){return(null==i.$$s?this:i.$$s).$size()},{$$arity:0,$$s:t}):(c(t.$class().$members(),"each",[],function a(t){var i=null==a.$$s?this:a.$$s;return null==t&&(t=n),e.yield1(r,[t,i["$[]"](t)])},{$$arity:1,$$s:t}),t)},0),h(x,"$length",function(){return this.$class().$members().$length()},0),h(x,"$to_a",function(){var e=this;return c(e.$class().$members(),"map",[],function r(e){var t=null==r.$$s?this:r.$$s;return null==e&&(e=n),t["$[]"](e)},{$$arity:1,$$s:e})},0);var I=[];return h(x,"$inspect",function(){var e=this,r=n,t=n;return function(){try{return r="#<struct ",$(I["$include?"](e.$__id__()))?w(r,":...>"):(I["$<<"](e.$__id__()),t=!0,v(i("Struct"),e)&&$(e.$class().$name())&&(r=w(r,e.$class()+" ")),r=w(r,c(e.$each_pair(),"map",[],function(e,r){return null==e&&(e=n),null==r&&(r=n),e+"="+A("Opal").$inspect(r)},2).$join(", ")),r=w(r,">"))}finally{$(t)&&I.pop()}}()},0),h(x,"$to_h",function z(){var e=z.$$p||n,r=this;return delete z.$$p,e!==n?c(c(r,"map",[],e.$to_proc()),"to_h",d(r.$args())):c(r.$class().$members(),"each_with_object",[o([],{})],function t(e,r){var i=null==t.$$s?this:t.$$s,a=n;return null==e&&(e=n),null==r&&(r=n),a=[e,i["$[]"](e)],c(r,"[]=",d(a)),a[m(a.length,1)]},{$$arity:2,$$s:r})},0),h(x,"$values_at",function(){var r,t,a=this;r=e.slice.call(arguments);for(var o=[],$=0,s=(t=c(t=r,"map",[],function(e){return null==e&&(e=n),e.$$is_range?e.$to_a():e},1).$flatten()).length;$<s;$++)t[$].$$is_number||p.$raise(i("TypeError"),"no implicit conversion of "+t[$].$class()+" into Integer"),o.push(a["$[]"](t[$]));return o},-1),h(x,"$dig",function(r){var t,a=this,o=n;return t=e.slice.call(arguments,1),(o=$(r.$$is_string&&a.$$data.hasOwnProperty(r))&&a.$$data[r]||n)===n||0===t.length?o:($(o["$respond_to?"]("dig"))||p.$raise(i("TypeError"),o.$class()+" does not have #dig method"),c(o,"dig",d(t)))},-2),E(x,"size","length"),E(x,"to_s","inspect"),E(x,"values","to_a")}(0,0,t)},Opal.modules["corelib/dir"]=function(e){var r=[],t=e.nil,n=e.$$$,i=e.klass,a=e.def,o=e.truthy,$=e.alias;return e.add_stubs("[]"),function(r,$super,s){var u=i("::",null,"Dir");[u].concat(s);return function(r){return a(r,"$chdir",function i(r){var n=i.$$p||t,a=t;return delete i.$$p,function(){try{return a=e.current_dir,e.current_dir=r,e.yieldX(n,[])}finally{e.current_dir=a}}()},1),a(r,"$pwd",function(){return e.current_dir||"."},0),a(r,"$home",function(){var e=t;return o(e=n("ENV")["$[]"]("HOME"))?e:"."},0),$(r,"getwd","pwd")}(e.get_singleton_class(u))}(0,0,r)},Opal.modules["corelib/file"]=function(e){var r=[],t=e.nil,n=e.$$$,i=e.truthy,a=e.klass,o=e.const_set,$=e.Opal,s=e.regexp,u=e.rb_plus,l=e.def,c=e.Kernel,f=e.eqeq,d=e.rb_lt,h=e.rb_minus,_=e.range,p=e.send,g=e.alias;return e.add_stubs("respond_to?,to_path,coerce_to!,pwd,split,sub,+,unshift,join,home,raise,start_with?,absolute_path,==,<,dirname,-,basename,empty?,rindex,[],length,nil?,gsub,find,=~,map,each_with_index,flatten,reject,to_proc,end_with?"),function(r,$super,m){var v=a(r,$super,"File"),y=[v].concat(m),b=t;return o(y[0],"Separator",o(y[0],"SEPARATOR","/")),o(y[0],"ALT_SEPARATOR",t),o(y[0],"PATH_SEPARATOR",":"),o(y[0],"FNM_SYSCASE",0),b=/^[a-zA-Z]:(?:\\|\/)/,function(r,a){function o(e){return i(e["$respond_to?"]("to_path"))&&(e=e.$to_path()),e=$["$coerce_to!"](e,n("String"),"to_str")}function m(){return y("ALT_SEPARATOR")===t?e.escape_regexp(y("SEPARATOR")):e.escape_regexp(u(y("SEPARATOR"),y("ALT_SEPARATOR")))}var v=[r].concat(a),y=e.$r(v);return l(r,"$absolute_path",function(e,r){var a,o=t,l=t,c=t,f=t,d=t,h=t,_=t,p=t,g=t,v=t;null==r&&(r=t),o=y("SEPARATOR"),l=m(),c=[],e=i(e["$respond_to?"]("to_path"))?e.$to_path():e,e=$["$coerce_to!"](e,n("String"),"to_str"),r=i(f=r)?f:n("Dir").$pwd(),d=e.substr(0,o.length)===o||b.test(e),h=r.substr(0,o.length)===o||b.test(r),i(d)?(_=e.$split(s(["[",l,"]"])),p=b.test(e)?"":e.$sub(s(["^([",l,"]+).*$"]),"\\1"),g=!0):(_=u(r.$split(s(["[",l,"]"])),e.$split(s(["[",l,"]"]))),p=b.test(r)?"":r.$sub(s(["^([",l,"]+).*$"]),"\\1"),g=h);for(var w=0,E=_.length;w<E;w++)(a=_[w])===t||""===a&&(0===c.length||g)||"."===a&&(0===c.length||g)||(".."===a?c.pop():c.push(a));return g||"."===_[0]||c.$unshift("."),v=c.$join(o),i(g)&&(v=u(p,v)),v},-2),l(r,"$expand_path",function(e,r){var a=this,o=t,$=t,l=t,f=t,d=t;return null==r&&(r=t),o=y("SEPARATOR"),$=m(),i("~"===e[0]||r&&"~"===r[0])&&(l=y("Dir").$home(),i(l)||c.$raise(n("ArgumentError"),"couldn't find HOME environment -- expanding `~'"),f=b.test(l)?"":l.$sub(s(["^([",$,"]+).*$"]),"\\1"),i(l["$start_with?"](f))||c.$raise(n("ArgumentError"),"non-absolute home"),l=u(l,o),d=s(["^\\~(?:",o,"|$)"]),e=e.$sub(d,l),i(r)&&(r=r.$sub(d,l))),a.$absolute_path(e,r)},-2),l(r,"$dirname",function(e,r){var a=this,$=t;if(null==r&&(r=1),f(r,0))return e;i(d(r,0))&&c.$raise(n("ArgumentError"),"level can't be negative"),$=m();var s,u=(e=o(e)).match(new RegExp("^["+$+"]"));return s=""===(e=(e=(e=e.replace(new RegExp("["+$+"]+$"),"")).replace(new RegExp("[^"+$+"]+$"),"")).replace(new RegExp("["+$+"]+$"),""))?u?"/":".":e,1==r?s:a.$dirname(s,h(r,1))},-2),l(r,"$basename",function(r,i){var a=t;return null==i&&(i=t),a=m(),0==(r=o(r)).length?r:(i=i!==t?$["$coerce_to!"](i,n("String"),"to_str"):null,r=(r=r.replace(new RegExp("(.)["+a+"]*$"),"$1")).replace(new RegExp("^(?:.*["+a+"])?([^"+a+"]+)$"),"$1"),".*"===i?r=r.replace(/\.[^\.]+$/,""):null!==i&&(i=e.escape_regexp(i),r=r.replace(new RegExp(i+"$"),"")),r)},-2),l(r,"$extname",function(r){var n=this,a=t,$=t;return r=o(r),a=n.$basename(r),i(a["$empty?"]())?"":($=a["$[]"](_(1,-1,!1)).$rindex("."),i($["$nil?"]())||f(u($,1),h(a.$length(),1))?"":a["$[]"](e.Range.$new(u($,1),-1,!1)))},1),l(r,"$exist?",function(r){return null!=e.modules[r]},1),l(r,"$directory?",function(r){var n=t;for(var i in n=[],e.modules)n.push(i);return r=r.$gsub(s(["(^.",y("SEPARATOR"),"+|",y("SEPARATOR"),"+$)"])),p(n,"find",[],function(e){return null==e&&(e=t),e["$=~"](s(["^",r]))},1)},1),l(r,"$join",function(){var r,n,a=t;return r=e.slice.call(arguments),i((n=r)["$empty?"]())?"":(a="",n=p(n.$flatten().$each_with_index(),"map",[],function(e,r){return null==e&&(e=t),null==r&&(r=t),f(r,0)&&i(e["$empty?"]())?y("SEPARATOR"):f(n.$length(),u(r,1))&&i(e["$empty?"]())?y("SEPARATOR"):e},2),n=p(n,"reject",[],"empty?".$to_proc()),p(n,"each_with_index",[],function(e,r){var o=t;return null==e&&(e=t),null==r&&(r=t),o=n["$[]"](u(r,1)),i(o["$nil?"]())?a=""+a+e:(i(e["$end_with?"](y("SEPARATOR")))&&i(o["$start_with?"](y("SEPARATOR")))&&(e=e.$sub(s([y("SEPARATOR"),"+$"]),"")),a=i(e["$end_with?"](y("SEPARATOR")))||i(o["$start_with?"](y("SEPARATOR")))?""+a+e:""+a+e+y("SEPARATOR"))},2),a)},-1),l(r,"$split",function(e){return e.$split(y("SEPARATOR"))},1),g(r,"realpath","expand_path"),g(r,"exists?","exist?")}(e.get_singleton_class(v),y)}("::",n("IO"),r)},Opal.modules["corelib/process/base"]=function(e){var r,t=e.nil,n=e.klass,i=e.defs;return r=n("::",null,"Signal"),i(r,"$trap",function(){return e.slice.call(arguments),t},-1),function(){var e=n("::",null,"GC");return i(e,"$start",function(){return t},0)}()},Opal.modules["corelib/process"]=function(e){var r=e.nil,t=e.$$$,n=e.module,i=e.defs,a=e.truthy,o=e.Kernel;return e.add_stubs("const_set,size,<<,__register_clock__,to_f,now,new,[],raise"),function(){var $=n("::","Process"),s=r;if($.__clocks__=[],i($,"$__register_clock__",function(e,t){var n=this;return null==n.__clocks__&&(n.__clocks__=r),n.$const_set(e,n.__clocks__.$size()),n.__clocks__["$<<"](t)},2),$.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),s=!1,e.global.performance)s=function(){return performance.now()};else if(e.global.process&&process.hrtime){var u=process.hrtime();s=function(){var e=process.hrtime(u),r=e[1]/1e3|0;return 1e3*e[0]+r/1e3}}return a(s)&&$.$__register_clock__("CLOCK_MONOTONIC",s),i($,"$pid",function(){return 0},0),i($,"$times",function(){var e=r;return e=t("Time").$now().$to_f(),t(t("Benchmark"),"Tms").$new(e,e,e,e,e)},0),i($,"$clock_gettime",function(e,n){var i=this,$=r;null==i.__clocks__&&(i.__clocks__=r),null==n&&(n="float_second"),a($=i.__clocks__["$[]"](e))||o.$raise(t(t("Errno"),"EINVAL"),"clock_gettime("+e+") "+i.__clocks__["$[]"](e));var s=$();switch(n){case"float_second":return s/1e3;case"float_millisecond":return s/1;case"float_microsecond":return 1e3*s;case"second":return s/1e3|0;case"millisecond":return s/1|0;case"microsecond":return 1e3*s|0;case"nanosecond":return 1e6*s|0;default:o.$raise(t("ArgumentError"),"unexpected unit: "+n)}},-2)}()},Opal.modules["corelib/random/formatter"]=function(e){var r,t,n=[],i=e.nil,a=e.$$$,o=e.klass,$=e.module,s=e.def,u=e.send,l=e.to_a,c=e.rb_minus,f=e.range,d=e.rb_divide,h=e.Kernel,_=e.Opal;return e.add_stubs("_verify_count,bytes,encode,strict_encode64,random_bytes,urlsafe_encode64,split,hex,[]=,-,[],map,to_proc,join,times,<<,|,ord,/,abs,random_float,raise,coerce_to!,flatten,new,random_number,length,include,extend"),r=n,function(r,t){var n=$(r,"Formatter"),o=[n].concat(t),p=e.$r(o);s(n,"$hex",function(e){var r=this;null==e&&(e=i),e=a("Random").$_verify_count(e);for(var t=r.$bytes(e),n="",o=0;o<e;o++)n+=t.charCodeAt(o).toString(16).padStart(2,"0");return n.$encode("US-ASCII")},-1),s(n,"$random_bytes",function(e){return null==e&&(e=i),this.$bytes(e)},-1),s(n,"$base64",function(e){var r=this;return null==e&&(e=i),a("Base64").$strict_encode64(r.$random_bytes(e)).$encode("US-ASCII")},-1),s(n,"$urlsafe_base64",function(e,r){var t=this;return null==e&&(e=i),null==r&&(r=!1),a("Base64").$urlsafe_encode64(t.$random_bytes(e),r).$encode("US-ASCII")},-1),s(n,"$uuid",function(){var e=i,r=i;return e=this.$hex(16).$split(""),u(e,"[]=",l(r=[12,"4"])),r[c(r.length,1)],r=[16,(3&parseInt(e["$[]"](16),16)|8).toString(16)],u(e,"[]=",l(r)),r[c(r.length,1)],e=[e["$[]"](f(0,8,!0)),e["$[]"](f(8,12,!0)),e["$[]"](f(12,16,!0)),e["$[]"](f(16,20,!0)),e["$[]"](f(20,32,!0))],(e=u(e,"map",[],"join".$to_proc())).$join("-")},0),s(n,"$random_float",function(){var e=i,r=i;return e=this.$bytes(4),r=0,u(4,"times",[],function(t){return null==t&&(t=i),r=(r=r["$<<"](8))["$|"](e["$[]"](t).$ord())},1),d(r.$abs(),2147483647)},0),s(n,"$random_number",function(e){function r(){return o.$random_float()}function t(e){return Math.floor(r()*e)}function n(){var r=e.begin,n=e.end;if(r===i||n===i)return i;var a=n-r;return a<0?i:0===a?r:(n%1!=0||r%1!=0||e.excl||a++,t(a)+r)}var o=this;return null==e?r():e.$$is_range?n():e.$$is_number?(e<=0&&h.$raise(a("ArgumentError"),"invalid argument - "+e),e%1==0?t(e):r()*e):((e=_["$coerce_to!"](e,a("Integer"),"to_int"))<=0&&h.$raise(a("ArgumentError"),"invalid argument - "+e),t(e))},-1),s(n,"$alphanumeric",function(e){var r=this,t=i;return null==e&&(e=i),e=p("Random").$_verify_count(e),t=u([f("0","9",!1),f("a","z",!1),f("A","Z",!1)],"map",[],"to_a".$to_proc()).$flatten(),u(a("Array"),"new",[e],function n(e){var r=null==n.$$s?this:n.$$s;return null==e&&(e=i),t["$[]"](r.$random_number(t.$length()))},{$$arity:1,$$s:r}).$join()},-1)}(t=o("::",null,"Random"),[t].concat(r)),t.$include(a(a("Random"),"Formatter")),t.$extend(a(a("Random"),"Formatter"))},Opal.modules["corelib/random/mersenne_twister"]=function(e){var r,t,n,i=e.nil,a=e.$$$,o=e.klass,$=e.const_set,s=e.send,u=e.to_a,l=e.rb_minus,c=i;return e.add_stubs("generator=,-"),c=function(){function e(e){var t={left:0,next:o,state:new Array(o)};return r(t,e),t}function r(e,r){var t;for(e.state[0]=r>>>0,t=1;t<o;t++)e.state[t]=1812433253*(e.state[t-1]^e.state[t-1]>>30>>>0)+t,e.state[t]&=4294967295;e.left=1,e.next=o}function t(e){var r,t=0,n=e.state;for(e.left=o,e.next=0,r=o-$+1;--r;t++)n[t]=n[t+$]^f(n[t+0],n[t+1]);for(r=$;--r;t++)n[t]=n[t+($-o)]^f(n[t+0],n[t+1]);n[t]=n[t+($-o)]^f(n[t+0],n[0])}function n(e){var r;return--e.left<=0&&t(e),r=e.state[e.next++],r^=r>>>11,r^=r<<7&2636928640,r^=r<<15&4022730752,(r^=r>>>18)>>>0}function i(e,r){return(67108864*(e>>>=5)+(r>>>=6))*(1/9007199254740992)}function a(e){return i(n(e),n(e))}var o=624,$=397,s=2567483615,u=2147483648,l=2147483647,c=function(e,r){return e&u|r&l},f=function(e,r){return c(e,r)>>>1^(1&r?s:0)};return{genrand_real:a,init:e}}(),r=o("::",null,"Random"),t=i,n=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,$(r,"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*n)},reseed:function(e){return c.init(e)},rand:function(e){return c.genrand_real(e)}}),t=[a(r,"MERSENNE_TWISTER_GENERATOR")],s(r,"generator=",u(t)),t[l(t.length,1)]},Opal.modules["corelib/random"]=function(e){var r=e.top,t=e.nil,n=e.$$$,i=e.truthy,a=e.klass,o=e.Kernel,$=e.defs,s=e.Opal,u=e.def,l=e.eqeqeq,c=e.send;return e.add_stubs("require,attr_reader,to_int,raise,new_seed,coerce_to!,reseed,rand,seed,bytes,===,==,state,_verify_count,encode,join,new,chr,random_number,random_float,const_defined?,const_set"),r.$require("corelib/random/formatter"),function(){var r=a("::",null,"Random");r.$attr_reader("seed","state"),$(r,"$_verify_count",function(e){return i(e)||(e=16),"number"!=typeof e&&(e=e.$to_int()),e<0&&o.$raise(n("ArgumentError"),"negative string size (or size too big)"),e=Math.floor(e)},1),u(r,"$initialize",function(e){var r=this;return null==e&&(e=n("Random").$new_seed()),e=s["$coerce_to!"](e,n("Integer"),"to_int"),r.state=e,r.$reseed(e)},-1),u(r,"$reseed",function(r){var t=this;return t.seed=r,t.$rng=e.$$rand.reseed(r)},1),$(r,"$new_seed",function(){return e.$$rand.new_seed()},0),$(r,"$rand",function(e){return n(this,"DEFAULT").$rand(e)},-1),$(r,"$srand",function(e){var r=this,i=t;return null==e&&(e=n("Random").$new_seed()),e=s["$coerce_to!"](e,n("Integer"),"to_int"),i=n(r,"DEFAULT").$seed(),n(r,"DEFAULT").$reseed(e),i},-1),$(r,"$urandom",function(e){return n("SecureRandom").$bytes(e)},1),u(r,"$==",function(e){var r=this,a=t;return!!l(n("Random"),e)&&(i(a=r.$seed()["$=="](e.$seed()))?r.$state()["$=="](e.$state()):a)},1),u(r,"$bytes",function(e){var r=this;return e=n("Random").$_verify_count(e),c(n("Array"),"new",[e],function t(){return(null==t.$$s?this:t.$$s).$rand(255).$chr()},{$$arity:0,$$s:r}).$join().$encode("ASCII-8BIT")},1),$(r,"$bytes",function(e){return n(this,"DEFAULT").$bytes(e)},1),u(r,"$rand",function(e){return this.$random_number(e)},-1),u(r,"$random_float",function(){var r=this;return r.state++,e.$$rand.rand(r.$rng)},0),$(r,"$random_float",function(){return n(this,"DEFAULT").$random_float()},0),$(r,"$generator=",function(r){var t=this;return e.$$rand=r,i(t["$const_defined?"]("DEFAULT"))?n(t,"DEFAULT").$reseed():t.$const_set("DEFAULT",t.$new(t.$new_seed()))},1)}(),r.$require("corelib/random/mersenne_twister")},Opal.modules["corelib/unsupported"]=function(e){function r(r){switch(e.config.unsupported_features_severity){case"error":$.$raise(o("NotImplementedError"),r);break;case"warning":t(r)}}function t(e){h[e]||(h[e]=!0,n.$warn(e))}var n=e.top,i=[],a=e.nil,o=e.$$$,$=e.Kernel,s=e.klass,u=e.send,l=e.module,c=e.def,f=e.alias,d=e.defs;e.add_stubs("raise,warn,each,define_method,%");var h={};return function(){var r=s("::",null,"String"),t="String#%s not supported. Mutable String methods are not supported in Opal.";u(["<<","capitalize!","chomp!","chop!","downcase!","gsub!","lstrip!","next!","reverse!","slice!","squeeze!","strip!","sub!","succ!","swapcase!","tr!","tr_s!","upcase!","prepend","[]=","clear","encode!","unicode_normalize!"],"each",[],function n(r){var i=null==n.$$s?this:n.$$s;return null==r&&(r=a),u(i,"define_method",[r],function(){return e.slice.call(arguments),$.$raise(o("NotImplementedError"),t["$%"](r))},-1)},{$$arity:1,$$s:r})}(),function(){
var e=l("::","Kernel"),t="Object freezing is not supported by Opal";c(e,"$freeze",function(){var e=this;return r(t),e},0),c(e,"$frozen?",function(){return r(t),!1},0)}(),function(){var e=l("::","Kernel"),t="Object tainting is not supported by Opal";c(e,"$taint",function(){var e=this;return r(t),e},0),c(e,"$untaint",function(){var e=this;return r(t),e},0),c(e,"$tainted?",function(){return r(t),!1},0)}(),function(){var r=s("::",null,"Module");c(r,"$public",function(){var r,t=this;return 0===(r=e.slice.call(arguments)).length?(t.$$module_function=!1,a):1===r.length?r[0]:r},-1),c(r,"$private_class_method",function(){var r;return 1===(r=e.slice.call(arguments)).length?r[0]:r},-1),c(r,"$private_method_defined?",function(){return!1},1),c(r,"$private_constant",function(){return e.slice.call(arguments),a},-1),f(r,"nesting","public"),f(r,"private","public"),f(r,"protected","public"),f(r,"protected_method_defined?","private_method_defined?"),f(r,"public_class_method","private_class_method"),f(r,"public_instance_method","instance_method"),f(r,"public_instance_methods","instance_methods"),f(r,"public_method_defined?","method_defined?")}(),function(){var r=l("::","Kernel");c(r,"$private_methods",function(){return e.slice.call(arguments),[]},-1),f(r,"private_instance_methods","private_methods")}(),function(r,t){var n=l("::","Kernel"),i=[n].concat(t),a=e.$r(i);c(n,"$eval",function(){return e.slice.call(arguments),$.$raise(o("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. See https://github.com/opal/opal/blob/"+a("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details.")},-1)}(0,i),d(n,"$public",function(){var r;return 1===(r=e.slice.call(arguments)).length?r[0]:r},-1),d(n,"$private",function(){var r;return 1===(r=e.slice.call(arguments)).length?r[0]:r},-1)},Opal.modules.opal=function(e){e.nil;var r=e.Object;return e.add_stubs("require,autoload"),r.$require("opal/base"),r.$require("opal/mini"),r.$require("corelib/kernel/format"),r.$require("corelib/string/encoding"),r.$autoload("Math","corelib/math"),r.$require("corelib/complex/base"),r.$autoload("Complex","corelib/complex"),r.$require("corelib/rational/base"),r.$autoload("Rational","corelib/rational"),r.$require("corelib/time"),r.$autoload("Struct","corelib/struct"),r.$require("corelib/dir"),r.$autoload("File","corelib/file"),r.$require("corelib/process/base"),r.$autoload("Process","corelib/process"),r.$autoload("Random","corelib/random"),r.$require("corelib/unsupported")},Opal.modules.native=function(e){var r=e.top,t=[],n=e.$r(t),i=e.nil,a=e.$$$,o=e.module,$=e.defs,s=e.truthy,u=e.send,l=e.Kernel,c=e.hash2,f=e.range,d=e.to_a,h=e.def,_=e.alias,p=e.klass,g=e.rb_minus,m=e.send2,v=e.find_super,y=e.eqeqeq,b=e.rb_ge,w=e.gvars;return e.add_stubs("try_convert,native?,respond_to?,to_n,raise,inspect,Native,proc,map!,end_with?,define_method,[],convert,call,to_proc,new,each,native_reader,native_writer,extend,warn,include,is_a?,map,to_a,_Array,method_missing,bind,instance_method,slice,-,length,[]=,enum_for,===,>=,<<,each_pair,method_defined?,_initialize,name,native_module"),function(r,t){var n=o(r,"Native"),a=[n].concat(t),_=e.$r(a);$(n,"$is_a?",function(e,r){var t=this;try{return e instanceof t.$try_convert(r)}catch(n){return!1}},2),$(n,"$try_convert",function(e,r){return null==r&&(r=i),this["$native?"](e)?e:e["$respond_to?"]("to_n")?e.$to_n():r},-2),$(n,"$convert",function(e){var r=this;return r["$native?"](e)?e:e["$respond_to?"]("to_n")?e.$to_n():void r.$raise(_("ArgumentError"),e.$inspect()+" isn't native")},1),$(n,"$call",function p(r,t){var n,a=p.$$p||i,o=this;delete p.$$p,n=e.slice.call(arguments,2);var $=r[t];if($ instanceof Function){for(var s=new Array(n.length),u=0,l=n.length;u<l;u++){var c=n[u],f=o.$try_convert(c);s[u]=f===i?c:f}return a!==i&&s.push(a),o.$Native($.apply(r,s))}return o.$Native($)},-3),$(n,"$proc",function g(){var r=g.$$p||i,t=this;return delete g.$$p,s(r)||t.$raise(_("LocalJumpError"),"no block given"),u(l,"proc",[],function n(){var t,a,o=null==n.$$s?this:n.$$s,$=i;if(t=e.slice.call(arguments),u(a=t,"map!",[],function l(e){var r=null==l.$$s?this:l.$$s;return null==e&&(e=i),r.$Native(e)},{$$arity:1,$$s:o}),$=o.$Native(this),this===e.global)return r.apply(o,a);var s=r.$$s;r.$$s=null;try{return r.apply($,a)}finally{r.$$s=s}},{$$arity:-1,$$s:t})},0),function(r,t){var n=o(r,"Helpers"),a=[n].concat(t),$=e.$r(a);h(n,"$alias_native",function l(r){l.$$p;var t,n,a,o,h=this;if(delete l.$$p,t=e.slice.call(arguments,1),null==(n=e.extract_kwargs(t)))n=c([],{});else if(!n.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return t.length>0&&(a=t.shift()),null==a&&(a=r),null==(o=n.$$smap.as)&&(o=i),s(a["$end_with?"]("="))?u(h,"define_method",[r],function _(e){var r=null==_.$$s?this:_.$$s;return null==r.native&&(r.native=i),null==e&&(e=i),r.native[a["$[]"](f(0,-2,!1))]=$("Native").$convert(e),e},{$$arity:1,$$s:h}):s(o)?u(h,"define_method",[r],function p(){var r,t=p.$$p||i,n=null==p.$$s?this:p.$$s,l=i;return null==n.native&&(n.native=i),delete p.$$p,r=e.slice.call(arguments),l=u($("Native"),"call",[n.native,a].concat(d(r)),t.$to_proc()),s(l)?o.$new(l.$to_n()):i},{$$arity:-1,$$s:h}):u(h,"define_method",[r],function g(){var r,t=g.$$p||i,n=null==g.$$s?this:g.$$s;return null==n.native&&(n.native=i),delete g.$$p,r=e.slice.call(arguments),u($("Native"),"call",[n.native,a].concat(d(r)),t.$to_proc())},{$$arity:-1,$$s:h})},-2),h(n,"$native_reader",function(){var r,t=this;return r=e.slice.call(arguments),u(r,"each",[],function n(e){var r=null==n.$$s?this:n.$$s;return null==e&&(e=i),u(r,"define_method",[e],function t(){var r=null==t.$$s?this:t.$$s;return null==r.native&&(r.native=i),r.$Native(r.native[e])},{$$arity:0,$$s:r})},{$$arity:1,$$s:t})},-1),h(n,"$native_writer",function(){var r,t=this;return r=e.slice.call(arguments),u(r,"each",[],function n(e){var r=null==n.$$s?this:n.$$s;return null==e&&(e=i),u(r,"define_method",[e+"="],function t(r){var n=null==t.$$s?this:t.$$s;return null==n.native&&(n.native=i),null==r&&(r=i),n.$Native(n.native[e]=r)},{$$arity:1,$$s:r})},{$$arity:1,$$s:t})},-1),h(n,"$native_accessor",function(){var r,t,n=this;return r=e.slice.call(arguments),u(n,"native_reader",d(t=r)),u(n,"native_writer",d(t))},-1)}(a[0],a),function(r,t){var n=o(r,"Wrapper"),a=[n].concat(t),u=e.$r(a);h(n,"$initialize",function(e){var r=this;return s(l["$native?"](e))||l.$raise(u("ArgumentError"),e.$inspect()+" isn't native"),r.native=e},1),h(n,"$to_n",function(){var e=this;return null==e.native&&(e.native=i),e.native},0),$(n,"$included",function(e){return e.$extend(u("Helpers"))},1)}(a[0],a),$(n,"$included",function(e){return this.$warn("Including ::Native is deprecated. Please include Native::Wrapper instead."),e.$include(_("Wrapper"))},1)}(t[0],t),function(r,t){var n=o(r,"Kernel"),$=[n].concat(t),l=e.$r($);h(n,"$native?",function(e){return null==e||!e.$$class},1),h(n,"$Native",function c(r){c.$$p;var t=this;return delete c.$$p,s(null==r)?i:s(t["$native?"](r))?a(l("Native"),"Object").$new(r):s(r["$is_a?"](l("Array")))?u(r,"map",[],function n(e){var r=null==n.$$s?this:n.$$s;return null==e&&(e=i),r.$Native(e)},{$$arity:1,$$s:t}):s(r["$is_a?"](l("Proc")))?u(t,"proc",[],function o(){var t,n=o.$$p||i,a=null==o.$$s?this:o.$$s;return delete o.$$p,t=e.slice.call(arguments),a.$Native(u(r,"call",d(t),n.$to_proc()))},{$$arity:-1,$$s:t}):r},1),_(n,"_Array","Array"),h(n,"$Array",function f(r){var t,n=f.$$p||i,o=this;return delete f.$$p,t=e.slice.call(arguments,1),s(o["$native?"](r))?u(a(l("Native"),"Array"),"new",[r].concat(d(t)),n.$to_proc()).$to_a():o.$_Array(r)},-2)}(t[0],t),function(r,$super){var t=p(r,$super,"Object");t.$$prototype.native=i,t.$include(a(a("Native"),"Wrapper")),h(t,"$==",function(e){return this.native===a("Native").$try_convert(e)},1),h(t,"$has_key?",function(r){var t=this;return e.hasOwnProperty.call(t.native,r)},1),h(t,"$each",function n(){var r,t=n.$$p||i,a=this;if(delete n.$$p,r=e.slice.call(arguments),t!==i){for(var o in a.native)e.yieldX(t,[o,a.native[o]]);return a}return u(a,"method_missing",["each"].concat(d(r)))},-1),h(t,"$[]",function(e){var r=this,t=r.native[e];return t instanceof Function?t:a("Native").$call(r.native,e)},1),h(t,"$[]=",function(e,r){var t=this,n=i;return n=a("Native").$try_convert(r),s(n===i)?t.native[e]=r:t.native[e]=n},2),h(t,"$merge!",function(e){var r=this;for(var t in e=a("Native").$convert(e))r.native[t]=e[t];return r},1),h(t,"$respond_to?",function(e,r){var t=this;return null==r&&(r=!1),l.$instance_method("respond_to?").$bind(t).$call(e,r)},-2),h(t,"$respond_to_missing?",function(r,t){var n=this;return null==t&&(t=!1),e.hasOwnProperty.call(n.native,r)},-2),h(t,"$method_missing",function o(r){var t,n=o.$$p||i,$=this,s=i;return delete o.$$p,t=e.slice.call(arguments,1),"="===r.charAt(r.length-1)?(s=[r.$slice(0,g(r.$length(),1)),t["$[]"](0)],u($,"[]=",d(s)),s[g(s.length,1)]):u(a("Native"),"call",[$.native,r].concat(d(t)),n.$to_proc())},-2),h(t,"$nil?",function(){return!1},0),h(t,"$is_a?",function(r){var t=this;return e.is_a(t,r)},1),h(t,"$instance_of?",function(e){return this.$$class===e},1),h(t,"$class",function(){return this.$$class},0),h(t,"$to_a",function $(e){var r=$.$$p||i,t=this;return delete $.$$p,null==e&&(e=c([],{})),u(a(a("Native"),"Array"),"new",[t.native,e],r.$to_proc()).$to_a()},-1),h(t,"$inspect",function(){return"#<Native:"+String(this.native)+">"},0),_(t,"include?","has_key?"),_(t,"key?","has_key?"),_(t,"kind_of?","is_a?"),_(t,"member?","has_key?")}(n("Native"),n("BasicObject")),function(r,$super,t){var n=p(r,null,"Array"),o=[n].concat(t),$=e.$r(o),u=n.$$prototype;u.named=u.native=u.get=u.block=u.set=u.length=i,n.$include(a($("Native"),"Wrapper")),n.$include($("Enumerable")),h(n,"$initialize",function l(e,r){var t=l.$$p||i,n=this,a=i;return delete l.$$p,null==r&&(r=c([],{})),m(n,v(n,"initialize",l,!1,!0),"initialize",[e],null),n.get=s(a=r["$[]"]("get"))?a:r["$[]"]("access"),n.named=r["$[]"]("named"),n.set=s(a=r["$[]"]("set"))?a:r["$[]"]("access"),n.length=s(a=r["$[]"]("length"))?a:"length",n.block=t,s(null==n.$length())?n.$raise($("ArgumentError"),"no length found on the array-like object"):i},-2),h(n,"$each",function f(){var r=f.$$p||i,t=this;if(delete f.$$p,!s(r))return t.$enum_for("each");for(var n=0,a=t.$length();n<a;n++)e.yield1(r,t["$[]"](n));return t},0),h(n,"$[]",function(e){var r=this,t=i,n=i;return t=y($("String"),n=e)||y($("Symbol"),n)?s(r.named)?r.native[r.named](e):r.native[e]:y($("Integer"),n)?s(r.get)?r.native[r.get](e):r.native[e]:i,s(t)?s(r.block)?r.block.$call(t):r.$Native(t):i},1),h(n,"$[]=",function(e,r){var t=this;return s(t.set)?t.native[t.set](e,$("Native").$convert(r)):t.native[e]=$("Native").$convert(r)},2),h(n,"$last",function(e){var r=this,t=i,n=i;if(null==e&&(e=i),s(e)){for(t=g(r.$length(),1),n=[];s(b(t,0));)n["$<<"](r["$[]"](t)),t=g(t,1);return n}return r["$[]"](g(r.$length(),1))},-1),h(n,"$length",function(){var e=this;return e.native[e.length]},0),h(n,"$inspect",function(){return this.$to_a().$inspect()},0),_(n,"to_ary","to_a")}(n("Native"),0,t),function(e){var r=p(e,null,"Numeric");h(r,"$to_n",function(){return this.valueOf()},0)}(t[0]),function(e){var r=p(e,null,"Proc");h(r,"$to_n",function(){return this},0)}(t[0]),function(e){var r=p(e,null,"String");h(r,"$to_n",function(){return this.valueOf()},0)}(t[0]),function(e){var r=p(e,null,"Regexp");h(r,"$to_n",function(){return this.valueOf()},0)}(t[0]),function(e){var r=p(e,null,"MatchData");r.$$prototype.matches=i,h(r,"$to_n",function(){return this.matches},0)}(t[0]),function(r,$super,t){var n=p(r,null,"Struct"),a=[n].concat(t),o=e.$r(a);h(n,"$to_n",function(){var e=i;return e={},u(this,"each_pair",[],function(r,t){return null==r&&(r=i),null==t&&(t=i),e[r]=o("Native").$try_convert(t,t)},2),e},0)}(t[0],0,t),function(r,$super,t){var n=p(r,null,"Array"),i=[n].concat(t),a=e.$r(i);h(n,"$to_n",function(){for(var e=this,r=[],t=0,n=e.length;t<n;t++){var i=e[t];r.push(a("Native").$try_convert(i,i))}return r},0)}(t[0],0,t),function(e){var r=p(e,null,"Boolean");h(r,"$to_n",function(){return this.valueOf()},0)}(t[0]),function(e){var r=p(e,null,"Time");h(r,"$to_n",function(){return this},0)}(t[0]),function(e){var r=p(e,null,"NilClass");h(r,"$to_n",function(){return null},0)}(t[0]),s(n("Hash")["$method_defined?"]("_initialize"))||function(r,$super,t){var n=p(r,null,"Hash"),a=[n].concat(t),o=e.$r(a);_(n,"_initialize","initialize"),h(n,"$initialize",function $(e){var r=$.$$p||i,t=this;if(delete $.$$p,null!=e&&(e.constructor===undefined||e.constructor===Object)){var n,a,s=t.$$smap,l=t.$$keys;for(n in e)!(a=e[n])||a.constructor!==undefined&&a.constructor!==Object?a&&a.$$is_array?(a=a.map(function(e){return!e||e.constructor!==undefined&&e.constructor!==Object?t.$Native(e):o("Hash").$new(e)}),s[n]=a):s[n]=t.$Native(a):s[n]=o("Hash").$new(a),l.push(n);return t}return u(t,"_initialize",[e],r.$to_proc())},-1),h(n,"$to_n",function(){for(var e,r,t=this,n={},i=t.$$keys,a=t.$$smap,$=0,s=i.length;$<s;$++)r=(e=i[$]).$$is_string?a[e]:(e=e.key).value,n[e]=o("Native").$try_convert(r,r);return n},0)}(t[0],0,t),function(r){var t=p(r,null,"Module");h(t,"$native_module",function(){var r=this;return e.global[r.$name()]=r},0)}(t[0]),function(r,$super,t){var n=p(r,null,"Class"),i=[n].concat(t),a=e.$r(i);h(n,"$native_alias",function(e,r){var t=this,n=t.prototype["$"+r];n||t.$raise(a("NameError").$new("undefined method `"+r+"' for class `"+t.$inspect()+"'",r)),t.prototype[e]=n},2),h(n,"$native_class",function(){var e=this;return e.$native_module(),e["new"]=e.$new},0)}(t[0],0,t),w.$=w.global=r.$Native(e.global)},Opal.modules["opal/jquery/constants"]=function(e){var r=e.top,t=[],n=e.$r(t),i=e.nil,a=e.truthy,o=e.const_set;return e.add_stubs("require,raise"),r.$require("native"),a(n("JQUERY_CLASS","skip_raise")?"constant":i)?i:a(!!e.global.jQuery)?o(t[0],"JQUERY_CLASS",o(t[0],"JQUERY_SELECTOR",e.global.jQuery)):a(!!e.global.Zepto)?(o(t[0],"JQUERY_SELECTOR",e.global.Zepto),o(t[0],"JQUERY_CLASS",e.global.Zepto.zepto.Z)):r.$raise(n("NameError"),"Can't find jQuery or Zepto. jQuery must be included before opal-jquery")},Opal.modules["opal/jquery/element"]=function(e){var r=e.top,t=[],n=e.$r(t),i=e.nil,a=e.klass,o=e.defs,$=e.send,s=e.to_a,u=e.def,l=e.alias,c=e.truthy,f=e.send2,d=e.find_super;return e.add_stubs("require,to_n,include,each,alias_native,attr_reader,call,nil?,raise,is_a?,has_key?,delete,from_object,gsub,upcase,[],compact,map,respond_to?,<<,Native,arity,new"),r.$require("native"),r.$require("opal/jquery/constants"),function(r,$super,t){var n=a(r,$super,"Element"),h=[n].concat(t),_=e.$r(h),p=_("JQUERY_SELECTOR").$to_n();return n.$include(_("Enumerable")),o(n,"$find",function(e){return p(e)},1),o(n,"$[]",function(e){return p(e)},1),o(n,"$id",function(e){var r=document.getElementById(e);return r?p(r):i},1),o(n,"$new",function(e){return null==e&&(e="div"),p(document.createElement(e))},-1),o(n,"$parse",function(e){return p.parseHTML?p(p.parseHTML(e)):p(e)},1),o(n,"$expose",function(){var r,t=this;return r=e.slice.call(arguments),$(r,"each",[],function n(e){var r=null==n.$$s?this:n.$$s;return null==e&&(e=i),r.$alias_native(e)},{$$arity:1,$$s:t})},-1),n.$attr_reader("selector"),n.$alias_native("after"),n.$alias_native("before"),n.$alias_native("parent"),n.$alias_native("parents"),n.$alias_native("prev"),n.$alias_native("remove"),n.$alias_native("hide"),n.$alias_native("show"),n.$alias_native("toggle"),n.$alias_native("children"),n.$alias_native("blur"),n.$alias_native("closest"),n.$alias_native("detach"),n.$alias_native("focus"),n.$alias_native("find"),n.$alias_native("next"),n.$alias_native("siblings"),n.$alias_native("text"),n.$alias_native("trigger"),n.$alias_native("append"),n.$alias_native("prepend"),n.$alias_native("serialize"),n.$alias_native("is"),n.$alias_native("filter"),n.$alias_native("not"),n.$alias_native("last"),n.$alias_native("wrap"),n.$alias_native("stop"),n.$alias_native("clone"),n.$alias_native("empty"),n.$alias_native("get"),u(n,"$prop",function(){var r,t=this;return r=e.slice.call(arguments),$(_("Native"),"call",[t,"prop"].concat(s(r)))},-1),l(n,"succ","next"),l(n,"<<","append"),n.$alias_native("add_class","addClass"),n.$alias_native("append_to","appendTo"),n.$alias_native("has_class?","hasClass"),n.$alias_native("html=","html"),n.$alias_native("index"),n.$alias_native("is?","is"),n.$alias_native("remove_attr","removeAttr"),n.$alias_native("remove_class","removeClass"),n.$alias_native("replace_all","replaceAll"),n.$alias_native("replace_with","replaceWith"),n.$alias_native("select"),n.$alias_native("submit"),n.$alias_native("click"),n.$alias_native("text=","text"),n.$alias_native("toggle_class","toggleClass"),n.$alias_native("value=","val"),n.$alias_native("scroll_top=","scrollTop"),n.$alias_native("scroll_top","scrollTop"),n.$alias_native("scroll_left=","scrollLeft"),n.$alias_native("scroll_left","scrollLeft"),n.$alias_native("remove_attribute","removeAttr"),n.$alias_native("slide_down","slideDown"),n.$alias_native("slide_up","slideUp"),n.$alias_native("slide_toggle","slideToggle"),n.$alias_native("fade_toggle","fadeToggle"),n.$alias_native("height=","height"),n.$alias_native("width=","width"),n.$alias_native("outer_width","outerWidth"),n.$alias_native("outer_height","outerHeight"),u(n,"$to_n",function(){return this},0),u(n,"$[]",function(e){var r=this.attr(e);return r===undefined?i:r},1),u(n,"$[]=",function(e,r){var t=this;return c(r["$nil?"]())?t.removeAttr(e):t.attr(e,r)},2),u(n,"$attr",function(){var r,t=this;switch((r=e.slice.call(arguments)).length){case 1:var n=t.attr(r[0]);return null==n?i:n;case 2:return t.attr(r[0],r[1]);default:t.$raise(_("ArgumentError"),"#attr only accepts 1 or 2 arguments")}},-1),u(n,"$has_attribute?",function(e){return this.attr(e)!==undefined},1),u(n,"$append_to_body",function(){return this.appendTo(document.body)},0),u(n,"$append_to_head",function(){return this.appendTo(document.head)},0),u(n,"$at",function(e){var r=this,t=r.length;return e<0&&(e+=t),e<0||e>=t?i:p(r[e])},1),u(n,"$class_name",function(){var e=this[0];return e&&e.className||""},0),u(n,"$class_name=",function(e){for(var r=this,t=0,n=r.length;t<n;t++)r[t].className=e;return r},1),u(n,"$css",function(e,r){var t=this;return null==r&&(r=i),c(r["$nil?"]())&&c(e["$is_a?"](_("String")))?t.css(e):(c(e["$is_a?"](_("Hash")))?t.css(e.$to_n()):t.css(e,r),t)},-2),u(n,"$animate",function g(e){var r=g.$$p||i,t=this,n=i;return delete g.$$p,n=c(e["$has_key?"]("speed"))?e.$delete("speed"):400,r!==i?t.animate(e.$to_n(),n,r):t.animate(e.$to_n(),n)},1),u(n,"$data",function(){var r,t=this;r=e.slice.call(arguments);var n=t.data.apply(t,r);return"object"!=typeof n||n instanceof _("JQUERY_CLASS")||(n=_("JSON").$from_object(n)),null==n?i:n},-1),u(n,"$effect",function m(r){var t,n=m.$$p||i,a=this;return delete m.$$p,t=e.slice.call(arguments,1),r=$(r,"gsub",[/_\w/],function(e){return null==e&&(e=i),e["$[]"](1).$upcase()},1),(t=$(t,"map",[],function(e){return null==e&&(e=i),c(e["$respond_to?"]("to_n"))?e.$to_n():i},1).$compact())["$<<"](function(){n!==i&&n.$call()}),a[r].apply(a,t)},-2),u(n,"$visible?",function(){return this.is(":visible")},0),u(n,"$offset",function(){var e=this;return e.$Native(e.offset())},0),u(n,"$each",function v(){var r=v.$$p||i,t=this;delete v.$$p;for(var n=0,a=t.length;n<a;n++)e.yield1(r,p(t[n]));return t},0),u(n,"$first",function(){var e=this;return e.length?e.first():i},0),u(n,"$html",function(e){var r=this;return null!=e?r.html(e):r.html()||""},-1),u(n,"$id",function(){var e=this[0];return e&&e.id||""},0),u(n,"$id=",function(e){var r=this,t=r[0];return t&&(t.id=e),r},1),u(n,"$tag_name",function(){var e=this;return e.length>0?e[0].tagName.toLowerCase():i},0),u(n,"$inspect",function(){var e=this;if(e[0]===document)return"#<Element [document]>";if(e[0]===window)return"#<Element [window]>";for(var r,t,n,i=[],a=0,o=e.length;a<o;a++){if(!(t=e[a]).tagName)return"#<Element ["+t.toString()+"]";n="<"+t.tagName.toLowerCase(),(r=t.id)&&(n+=' id="'+r+'"'),(r=t.className)&&(n+=' class="'+r+'"'),i.push(n+">")}return"#<Element ["+i.join(", ")+"]>"},0),u(n,"$to_s",function(){for(var e,r=this,t=[],n=0,i=r.length;n<i;n++)e=r[n],t.push(e.outerHTML);return t.join(", ")},0),u(n,"$length",function(){return this.length},0),u(n,"$any?",function(){return this.length>0},0),u(n,"$empty?",function(){return 0===this.length},0),l(n,"empty?","none?"),u(n,"$on",function y(e,r){var t=y.$$p||i,n=this;delete y.$$p,null==r&&(r=i);var a=0!==t.$arity(),o=function(){for(var e=new Array(arguments.length),r=0,n=e.length;r<n;r++)e[r]=arguments[r];return a&&e[0].preventDefault&&(e[0]=_("Event").$new(e[0])),t.apply(null,e)};return t.$$jqwrap=o,r==i?n.on(e,o):n.on(e,r,o),t},-2),u(n,"$one",function b(e,r){var t=b.$$p||i,n=this;delete b.$$p,null==r&&(r=i);var a=0!==t.$arity(),o=function(){for(var e=new Array(arguments.length),r=0,n=e.length;r<n;r++)e[r]=arguments[r];return a&&e[0].preventDefault&&(e[0]=_("Event").$new(e[0])),t.apply(null,e)};return t.$$jqwrap=o,r==i?n.one(e,o):n.one(e,r,o),t},-2),u(n,"$off",function(e,r,t){var n=this;return null==t&&(t=i),null==r?n.off(e):t===i?n.off(e,r.$$jqwrap):n.off(e,r,t.$$jqwrap)},-3),u(n,"$serialize_array",function(){return $(this.serializeArray(),"map",[],function(e){return null==e&&(e=i),_("Hash").$new(e)},1)},0),l(n,"size","length"),u(n,"$value",function(){var e=i;return c(e=this.val())?e:""},0),u(n,"$height",function(){var e=i;return c(e=this.height())?e:i},0),u(n,"$width",function(){var e=i;return c(e=this.width())?e:i},0),u(n,"$position",function(){var e=this;return e.$Native(e.position())},0),u(n,"$==",function(e){return this.is(e)},1),u(n,"$respond_to_missing?",function w(e,r){var t=w.$$p||i,n=this;return delete w.$$p,"function"==typeof n[e]||f(n,d(n,"respond_to_missing?",w,!1,!0),"respond_to_missing?",[e,r],t)},2),u(n,"$method_missing",function E(r){var t,n=E.$$p||i,a=this;delete E.$$p,t=e.slice.call(arguments,1),n!==i&&t["$<<"](n);var o=a[r];return"function"==typeof o?o.apply(a,t.$to_n()):f(a,d(a,"method_missing",E,!1,!0),"method_missing",[r].concat(s(t)),n)},-2)}(t[0],n("JQUERY_CLASS").$to_n(),t)},Opal.modules["opal/jquery/window"]=function(e){var r=e.top,t=[],n=e.$r(t),i=e.nil,a=e.$$$,o=e.module,$=e.klass,s=e.truthy,u=e.def,l=e.send,c=e.to_a,f=e.const_set,d=e.gvars;return e.add_stubs("require,include,find,on,element,to_proc,off,trigger,new"),r.$require("opal/jquery/element"),function(r,t){var n=[o(r,"Browser")].concat(t);(function(r,$super,t){var n,o=$(r,null,"Window"),f=[o].concat(t),d=e.$r(f);o.$$prototype.element=i,o.$include(s((n=d("Native","skip_raise"))&&a(n,"Wrapper","skip_raise")?"constant":i)?a(d("Native"),"Wrapper"):d("Native")),u(o,"$element",function(){var e=this,r=i;return e.element=s(r=e.element)?r:d("Element").$find(window)},0),u(o,"$on",function h(){var r,t=h.$$p||i,n=this;return delete h.$$p,r=e.slice.call(arguments),l(n.$element(),"on",c(r),t.$to_proc())},-1),u(o,"$off",function _(){var r,t=_.$$p||i,n=this;return delete _.$$p,r=e.slice.call(arguments),l(n.$element(),"off",c(r),t.$to_proc())},-1),u(o,"$trigger",function(){var r,t=this;return r=e.slice.call(arguments),l(t.$element(),"trigger",c(r))},-1)})(n[0],0,n)}(t[0],t),f(t[0],"Window",a(n("Browser"),"Window").$new(window)),d.window=n("Window")},Opal.modules["opal/jquery/document"]=function(e){var r=e.top,t=[],n=e.$r(t),i=e.nil,a=e.$$$,o=e.module,$=e.class_variable_set,s=e.truthy,u=e.class_variable_get,l=e.def,c=e.send,f=e.const_set,d=e.gvars;return e.add_stubs("require,to_n,call,new,ready?,resolve,module_function,find,extend"),r.$require("opal/jquery/constants"),r.$require("opal/jquery/element"),function(r,t){var n=[o(r,"Browser")].concat(t);(function(r,t){var n=o(r,"DocumentMethods"),a=[n].concat(t),f=e.$r(a);$(a[0],"@@__isReady",!1);var d=f("JQUERY_SELECTOR").$to_n();l(n,"$ready?",function h(){var e=h.$$p||i;return delete h.$$p,e!==i?s(u(a[0],"@@__isReady",!1))?e.$call():d(e):i},0),l(n,"$ready",function(){var e=i;return e=f("Promise").$new(),c(f("Document"),"ready?",[],function(){return e.$resolve()},0),e},0),n.$module_function("ready?"),c(n,"ready?",[],function(){return $(a[0],"@@__isReady",!0)},0),l(n,"$title",function(){return document.title},0),l(n,"$title=",function(e){return document.title=e},1),l(n,"$head",function(){return f("Element").$find(document.head)},0),l(n,"$body",function(){return f("Element").$find(document.body)},0)})(n[0],n)}(t[0],t),f(t[0],"Document",n("Element").$find(document)),n("Document").$extend(a(n("Browser"),"DocumentMethods")),d.document=n("Document")},Opal.modules["opal/jquery/event"]=function(e){var r=e.top,t=[],n=e.nil,i=e.klass,a=e.def,o=e.alias;return e.add_stubs("require,to_n,stop,prevent"),r.$require("opal/jquery/constants"),function(r,$super,t){var $=i(r,null,"Event"),s=[$].concat(t),u=e.$r(s);$.$$prototype.native=n;var l=u("JQUERY_SELECTOR").$to_n();return a($,"$initialize",function(e){return this.native=e},1),a($,"$to_n",function(){return this.native},0),a($,"$[]",function(e){return this.native[e]},1),a($,"$type",function(){return this.native.type},0),a($,"$element",function(){return l(this.native.currentTarget)},0),o($,"current_target","element"),a($,"$target",function(){return l(this.native.target)},0),a($,"$prevented?",function(){return this.native.isDefaultPrevented()},0),a($,"$prevent",function(){return this.native.preventDefault()},0),a($,"$stopped?",function(){return this.native.isPropagationStopped()},0),a($,"$stop",function(){return this.native.stopPropagation()},0),a($,"$stop_immediate",function(){return this.native.stopImmediatePropagation()},0),a($,"$kill",function(){var e=this;return e.$stop(),e.$prevent()},0),a($,"$page_x",function(){return this.native.pageX},0),a($,"$page_y",function(){return this.native.pageY},0),a($,"$touch_x",function(){return this.native.originalEvent.touches[0].pageX},0),a($,"$touch_y",function(){return this.native.originalEvent.touches[0].pageY},0),a($,"$ctrl_key",function(){return this.native.ctrlKey},0),a($,"$meta_key",function(){return this.native.metaKey},0),a($,"$alt_key",function(){return this.native.altKey},0),a($,"$shift_key",function(){return this.native.shiftKey},0),a($,"$key_code",function(){return this.native.keyCode},0),a($,"$which",function(){return this.native.which},0),o($,"default_prevented?","prevented?"),o($,"prevent_default","prevent"),o($,"propagation_stopped?","stopped?"),o($,"stop_propagation","stop"),o($,"stop_immediate_propagation","stop_immediate")}(t[0],0,t)},Opal.modules.json=function(e){var r,t,n=[],i=e.nil,a=e.$$$,o=e.module,$=e.klass,s=e.send,u=e.to_a,l=e.rb_minus,c=e.Object,f=e.hash2,d=e.eqeqeq,h=e.defs,_=e.truthy,p=e.def;return e.add_stubs("raise,new,push,[]=,-,[],create_id,json_create,const_get,attr_accessor,create_id=,===,parse,generate,from_object,merge,to_json,responds_to?,to_io,write,to_s,to_a,strftime"),function(r,t){function n(e){try{return JSON.parse(e)}catch(r){g.$raise(a(v("JSON"),"ParserError"),r.message)}}function p(e,r){var t,n,a,o,$,f;switch(typeof e){case"string":case"number":return e;case"boolean":return!!e;case"undefined":return i;case"object":if(!e)return i;if(e.$$is_array){for(n=r.array_class.$new(),o=0,$=e.length;o<$;o++)n.$push(p(e[o],r));return n}for(f in a=r.object_class.$new(),e)b.call(e,f)&&(y=[f,p(e[f],r)],s(a,"[]=",u(y)),y[l(y.length,1)]);return r.parse||(t=a["$[]"](v("JSON").$create_id()))==i?a:c.$const_get(t).$json_create(a)}}var g=o(r,"JSON"),m=[g].concat(t),v=e.$r(m),y=i;$(m[0],v("StandardError"),"JSONError"),$(m[0],v("JSONError"),"ParserError");var b=e.hasOwnProperty;(function(e){e.$attr_accessor("create_id")})(e.get_singleton_class(g)),s(g,"create_id=",u(y=["json_class"])),y[l(y.length,1)],h(g,"$[]",function(e,r){var t=this;return null==r&&(r=f([],{})),d(v("String"),e)?t.$parse(e,r):t.$generate(e,r)},-2),h(g,"$parse",function(e,r){var t=this;return null==r&&(r=f([],{})),t.$from_object(n(e),r.$merge(f(["parse"],{parse:!0})))},-2),h(g,"$parse!",function(e,r){var t=this;return null==r&&(r=f([],{})),t.$parse(e,r)},-2),h(g,"$load",function(e,r){var t=this;return null==r&&(r=f([],{})),t.$from_object(n(e),r)},-2),h(g,"$from_object",function(e,r){var t=i;return null==r&&(r=f([],{})),_(r["$[]"]("object_class"))||(t=["object_class",v("Hash")],s(r,"[]=",u(t)),t[l(t.length,1)]),_(r["$[]"]("array_class"))||(t=["array_class",v("Array")],s(r,"[]=",u(t)),t[l(t.length,1)]),p(e,r.$$smap)},-2),h(g,"$generate",function(e,r){return null==r&&(r=f([],{})),e.$to_json(r)},-2),h(g,"$dump",function(e,r,t){var n=i;return null==r&&(r=i),null==t&&(t=i),n=this.$generate(e),_(r)?(_(r["$responds_to?"]("to_io"))&&(r=r.$to_io()),r.$write(n),r):n},-2)}(n[0],n),r=n[0],t=$(r,null,"Object"),p(t,"$to_json",function(){return this.$to_s().$to_json()},0),function(e){var r=o(e,"Enumerable");p(r,"$to_json",function(){return this.$to_a().$to_json()},0)}(n[0]),function(e){var r=$(e,null,"Array");p(r,"$to_json",function(){for(var e=this,r=[],t=0,n=e.length;t<n;t++)r.push(e[t].$to_json());return"["+r.join(",")+"]"},0)}(n[0]),function(e){var r=$(e,null,"Boolean");p(r,"$to_json",function(){return 1==this?"true":"false"},0)}(n[0]),function(e){var r=$(e,null,"Hash");p(r,"$to_json",function(){for(var e,r,t=this,n=[],i=0,a=t.$$keys,o=a.length;i<o;i++)(e=a[i]).$$is_string?r=t.$$smap[e]:(r=e.value,e=e.key),n.push(e.$to_s().$to_json()+":"+r.$to_json());return"{"+n.join(",")+"}"},0)}(n[0]),function(e){var r=$(e,null,"NilClass");p(r,"$to_json",function(){return"null"},0)}(n[0]),function(e){var r=$(e,null,"Numeric");p(r,"$to_json",function(){return this.toString()},0)}(n[0]),function(e){var r=$(e,null,"String");p(r,"$to_json",function(){var e=this;return JSON.stringify(e)},0)}(n[0]),function(e){var r=$(e,null,"Time");p(r,"$to_json",function(){return this.$strftime("%FT%T%z").$to_json()},0)}(n[0]),function(e){var r=$(e,null,"Date");return p(r,"$to_json",function(){return this.$to_s().$to_json()},0),p(r,"$as_json",function(){return this.$to_s()},0)}(n[0])},Opal.modules.promise=function(e){var r=[],t=e.$r(r),n=e.nil,i=e.klass,a=e.defs,o=e.hash2,$=e.def,s=e.eqeqeq,u=e.truthy,l=e.not,c=e.send,f=e.to_a,d=e.rb_plus,h=e.alias,_=e.send2,p=e.find_super,g=e.rb_le,m=e.rb_minus,v=e.const_set;return e.add_stubs("resolve,new,reject,attr_reader,===,value,key?,keys,!=,==,<<,>>,exception?,[],resolved?,rejected?,!,error,include?,action,realized?,raise,^,call,resolve!,exception!,any?,each,reject!,there_can_be_only_one!,then,to_proc,fail,always,trace,class,object_id,+,inspect,rescue,nil?,prev,act?,push,concat,it,proc,reverse,pop,<=,length,shift,-,wait,map,reduce,try,tap,all?,find"),function(r,$super,t){var v=i(r,null,"Promise"),y=[v].concat(t),b=e.$r(y),w=v.$$prototype;w.value=w.action=w.exception=w.realized=w.next=w.delayed=w.error=w.prev=n,a(v,"$value",function(e){return this.$new().$resolve(e)},1),a(v,"$error",function(e){return this.$new().$reject(e)},1),a(v,"$when",function(){var r;return r=e.slice.call(arguments),b("When").$new(r)},-1),v.$attr_reader("error","prev","next"),$(v,"$initialize",function(e){var r=this;return null==e&&(e=o([],{})),r.action=e,r.realized=!1,r.exception=!1,r.value=n,r.error=n,r.delayed=!1,r.prev=n,r.next=[]},-1),$(v,"$value",function(){var e=this;return s(b("Promise"),e.value)?e.value.$value():e.value},0),$(v,"$act?",function(){var e=this,r=n;return u(r=e.action["$key?"]("success"))?r:e.action["$key?"]("always")},0),$(v,"$action",function(){return this.action.$keys()},0),$(v,"$exception?",function(){return this.exception},0),$(v,"$realized?",function(){return this.realized["$!="](!1)},0),$(v,"$resolved?",function(){return this.realized["$=="]("resolve")},0),$(v,"$rejected?",function(){return this.realized["$=="]("reject")},0),$(v,"$^",function(e){var r=this;return e["$<<"](r),r["$>>"](e),e},1),$(v,"$<<",function(e){var r=this;return r.prev=e,r},1),$(v,"$>>",function(e){var r=this;return r.next["$<<"](e),u(r["$exception?"]())?e.$reject(r.delayed["$[]"](0)):u(r["$resolved?"]())?e.$resolve(u(r.delayed)?r.delayed["$[]"](0):r.$value()):u(r["$rejected?"]())&&(l(r.action["$key?"]("failure"))||s(b("Promise"),u(r.delayed)?r.delayed["$[]"](0):r.error)?e.$reject(u(r.delayed)?r.delayed["$[]"](0):r.$error()):u(e.$action()["$include?"]("always"))&&e.$reject(u(r.delayed)?r.delayed["$[]"](0):r.$error())),r},1),$(v,"$resolve",function(r){var t=this,i=n,a=n,o=n;if(null==r&&(r=n),u(t["$realized?"]())&&t.$raise(b("ArgumentError"),"the promise has already been realized"),s(b("Promise"),r))return r["$<<"](t.prev)["$^"](t);try{i=u(a=t.action["$[]"]("success"))?a:t.action["$[]"]("always"),u(i)&&(r=i.$call(r)),t["$resolve!"](r)}catch($){if(!e.rescue($,[b("Exception")]))throw $;o=$;try{t["$exception!"](o)}finally{e.pop_exception()}}return t},-1),$(v,"$resolve!",function(e){var r=this;return r.realized="resolve",r.value=e,u(r.next["$any?"]())?c(r.next,"each",[],function(r){return null==r&&(r=n),r.$resolve(e)},1):r.delayed=[e]},1),$(v,"$reject",function(r){var t=this,i=n,a=n,o=n;if(null==r&&(r=n),
u(t["$realized?"]())&&t.$raise(b("ArgumentError"),"the promise has already been realized"),s(b("Promise"),r))return r["$<<"](t.prev)["$^"](t);try{i=u(a=t.action["$[]"]("failure"))?a:t.action["$[]"]("always"),u(i)&&(r=i.$call(r)),u(t.action["$key?"]("always"))?t["$resolve!"](r):t["$reject!"](r)}catch($){if(!e.rescue($,[b("Exception")]))throw $;o=$;try{t["$exception!"](o)}finally{e.pop_exception()}}return t},-1),$(v,"$reject!",function(e){var r=this;return r.realized="reject",r.error=e,u(r.next["$any?"]())?c(r.next,"each",[],function(r){return null==r&&(r=n),r.$reject(e)},1):r.delayed=[e]},1),$(v,"$exception!",function(e){var r=this;return r.exception=!0,r["$reject!"](e)},1),$(v,"$then",function E(){var e=E.$$p||n,r=this;return delete E.$$p,r["$^"](b("Promise").$new(o(["success"],{success:e})))},0),$(v,"$then!",function x(){var e=x.$$p||n,r=this;return delete x.$$p,r["$there_can_be_only_one!"](),c(r,"then",[],e.$to_proc())},0),$(v,"$fail",function k(){var e=k.$$p||n,r=this;return delete k.$$p,r["$^"](b("Promise").$new(o(["failure"],{failure:e})))},0),$(v,"$fail!",function A(){var e=A.$$p||n,r=this;return delete A.$$p,r["$there_can_be_only_one!"](),c(r,"fail",[],e.$to_proc())},0),$(v,"$always",function I(){var e=I.$$p||n,r=this;return delete I.$$p,r["$^"](b("Promise").$new(o(["always"],{always:e})))},0),$(v,"$always!",function O(){var e=O.$$p||n,r=this;return delete O.$$p,r["$there_can_be_only_one!"](),c(r,"always",[],e.$to_proc())},0),$(v,"$trace",function S(e){var r=S.$$p||n,t=this;return delete S.$$p,null==e&&(e=n),t["$^"](b("Trace").$new(e,r))},-1),$(v,"$trace!",function N(){var r,t=N.$$p||n,i=this;return delete N.$$p,r=e.slice.call(arguments),i["$there_can_be_only_one!"](),c(i,"trace",f(r),t.$to_proc())},-1),$(v,"$there_can_be_only_one!",function(){var e=this;return u(e.next["$any?"]())?e.$raise(b("ArgumentError"),"a promise has already been chained"):n},0),$(v,"$inspect",function(){var e=this,r=n,t=n;return r="#<"+e.$class()+"("+e.$object_id()+")",u(e.next["$any?"]())&&(r=d(r," >> "+e.next.$inspect())),r=d(r,u(e["$realized?"]())?": "+(u(t=e.value)?t:e.error).$inspect()+">":">")},0),$(v,"$to_v2",function(){var e=this,r=n;return r=b("PromiseV2").$new(),c(c(e,"then",[],function(e){return null==e&&(e=n),r.$resolve(e)},1),"rescue",[],function(e){return null==e&&(e=n),r.$reject(e)},1),r},0),h(v,"catch","fail"),h(v,"catch!","fail!"),h(v,"do","then"),h(v,"do!","then!"),h(v,"ensure","always"),h(v,"ensure!","always!"),h(v,"finally","always"),h(v,"finally!","always!"),h(v,"rescue","fail"),h(v,"rescue!","fail!"),h(v,"to_n","to_v2"),h(v,"to_v1","itself"),function(r,$super,t){var s=i(r,$super,"Trace"),l=[s].concat(t),d=e.$r(l);a(s,"$it",function(e){var r=this,t=n,i=n;return t=[],(u(e["$act?"]())||u(e.$prev()["$nil?"]()))&&t.$push(e.$value()),i=e.$prev(),u(i)?t.$concat(r.$it(i)):t},1),$(s,"$initialize",function h(e,r){h.$$p;var t=this;return delete h.$$p,t.depth=e,_(t,p(t,"initialize",h,!1,!0),"initialize",[o(["success"],{success:c(t,"proc",[],function i(){var t=null==i.$$s?this:i.$$s,a=n;return(a=d("Trace").$it(t).$reverse()).$pop(),u(e)&&u(g(e,a.$length()))&&a.$shift(m(a.$length(),e)),c(r,"call",f(a))},{$$arity:0,$$s:t})})],null)},2)}(y[0],v,y),function(r,$super,t){var a=i(r,$super,"When"),o=[a].concat(t),l=e.$r(o);a.$$prototype.wait=n,$(a,"$initialize",function d(e){d.$$p;var r=this;return delete d.$$p,null==e&&(e=[]),_(r,p(r,"initialize",d,!1,!0),"initialize",[],null),r.wait=[],c(e,"each",[],function t(e){var r=null==t.$$s?this:t.$$s;return null==e&&(e=n),r.$wait(e)},{$$arity:1,$$s:r})},-1),$(a,"$each",function g(){var e=g.$$p||n,r=this;return delete g.$$p,u(e)||r.$raise(l("ArgumentError"),"no block given"),c(r,"then",[],function(r){return null==r&&(r=n),c(r,"each",[],e.$to_proc())},1)},0),$(a,"$collect",function m(){var e=m.$$p||n,r=this;return delete m.$$p,u(e)||r.$raise(l("ArgumentError"),"no block given"),c(r,"then",[],function(r){return null==r&&(r=n),l("When").$new(c(r,"map",[],e.$to_proc()))},1)},0),$(a,"$inject",function v(){var r,t,i=v.$$p||n,a=this;return delete v.$$p,r=e.slice.call(arguments),t=r,c(a,"then",[],function(e){return null==e&&(e=n),c(e,"reduce",f(t),i.$to_proc())},1)},-1),$(a,"$wait",function(e){var r=this;return s(l("Promise"),e)||(e=l("Promise").$value(e)),u(e["$act?"]())&&(e=e.$then()),r.wait["$<<"](e),c(e,"always",[],function t(){var e=null==t.$$s?this:t.$$s;return null==e.next&&(e.next=n),u(e.next["$any?"]())?e.$try():n},{$$arity:0,$$s:r}),r},1),$(a,"$>>",function y(){var r,t=y.$$p||n,i=this;return delete y.$$p,r=e.slice.call(arguments),c(_(i,p(i,">>",y,!1,!0),">>",f(r),t),"tap",[],function a(){return(null==a.$$s?this:a.$$s).$try()},{$$arity:0,$$s:i})},-1),$(a,"$try",function(){var e=this,r=n;return u(c(e.wait,"all?",[],"realized?".$to_proc()))?(r=c(e.wait,"find",[],"rejected?".$to_proc()),u(r)?e.$reject(r.$error()):e.$resolve(c(e.wait,"map",[],"value".$to_proc()))):n},0),h(a,"map","collect"),h(a,"reduce","inject"),h(a,"and","wait")}(y[0],v,y)}(r[0],0,r),v(r[0],"PromiseV1",t("Promise"))},Opal.modules["opal/jquery/http"]=function(e){var r=e.top,t=[],n=e.nil,i=e.klass,a=e.const_set,o=e.send,$=e.hash2,s=e.defs,u=e.def,l=e.truthy;return e.add_stubs("require,to_n,each,define_singleton_method,send,new,define_method,attr_reader,delete,update,upcase,succeed,fail,promise,parse,private,tap,proc,ok?,resolve,reject,from_object,call"),r.$require("json"),r.$require("native"),r.$require("promise"),r.$require("opal/jquery/constants"),function(r,$super,t){var c=i(r,null,"HTTP"),f=[c].concat(t),d=e.$r(f),h=c.$$prototype;h.settings=h.payload=h.url=h.method=h.handler=h.json=h.body=h.ok=h.xhr=h.promise=h.status_code=n;var _=d("JQUERY_SELECTOR").$to_n();return a(f[0],"ACTIONS",["get","post","put","delete","patch","head"]),o(d("ACTIONS"),"each",[],function p(e){var r=null==p.$$s?this:p.$$s;return null==e&&(e=n),o(r,"define_singleton_method",[e],function t(r,i){var a=t.$$p||n,o=null==t.$$s?this:t.$$s;return delete t.$$p,null==r&&(r=n),null==i&&(i=$([],{})),o.$new().$send(e,r,i,a)},{$$arity:-2,$$s:r}),o(r,"define_method",[e],function i(r,t){var a=i.$$p||n,o=null==i.$$s?this:i.$$s;return delete i.$$p,null==r&&(r=n),null==t&&(t=$([],{})),o.$send(e,r,t,a)},{$$arity:-2,$$s:r})},{$$arity:1,$$s:c}),s(c,"$setup",function(){return d("Hash").$new(_.ajaxSetup())},0),s(c,"$setup=",function(e){return _.ajaxSetup(e.$to_n())},1),c.$attr_reader("body","error_message","method","status_code","url","xhr"),u(c,"$initialize",function(){var e=this;return e.settings=$([],{}),e.ok=!0},0),u(c,"$send",function(e,r,t,i){var a,o=this,$=n,s=n;return o.method=e,o.url=r,o.payload=t.$delete("payload"),o.handler=i,o.settings.$update(t),$=(a=[o.settings.$to_n(),o.payload])[0],"string"==typeof(s=a[1])?$.data=s:s!=n&&($.data=s.$to_json(),$.contentType="application/json"),$.url=o.url,$.type=o.method.$upcase(),$.success=function(e,r,t){return o.$succeed(e,r,t)},$.error=function(e,r,t){return o.$fail(e,r,t)},_.ajax($),l(o.handler)?o:o.$promise()},4),u(c,"$json",function(){var e=this,r=n;return e.json=l(r=e.json)?r:d("JSON").$parse(e.body)},0),u(c,"$ok?",function(){return this.ok},0),u(c,"$get_header",function(e){var r=this.xhr.getResponseHeader(e);return null===r?n:r},1),u(c,"$inspect",function(){var e=this;return"#<HTTP @url="+e.url+" @method="+e.method+">"},0),c.$private(),u(c,"$promise",function(){var e=this;return l(e.promise)?e.promise:e.promise=o(d("Promise").$new(),"tap",[],function r(e){var t=null==r.$$s?this:r.$$s;return null==e&&(e=n),t.handler=o(t,"proc",[],function(r){return null==r&&(r=n),l(r["$ok?"]())?e.$resolve(r):e.$reject(r)},1)},{$$arity:1,$$s:e})},0),u(c,"$succeed",function(e,r,t){var i=this;return i.body=e,i.xhr=t,i.status_code=t.status,"object"==typeof e&&(i.json=d("JSON").$from_object(e)),l(i.handler)?i.handler.$call(i):n},3),u(c,"$fail",function(e){var r=this;return r.body=e.responseText,r.xhr=e,r.status_code=e.status,r.ok=!1,l(r.handler)?r.handler.$call(r):n},3)}(t[0],0,t)},Opal.modules["opal/jquery/kernel"]=function(e){var r,t,n=[],i=e.nil,a=e.module,o=e.def;return r=n[0],t=a(r,"Kernel"),o(t,"$alert",function(e){return alert(e),i},1)},Opal.modules["opal/jquery"]=function(e){var r=e.top;e.nil;return e.add_stubs("require"),r.$require("opal/jquery/window"),r.$require("opal/jquery/document"),r.$require("opal/jquery/element"),r.$require("opal/jquery/event"),r.$require("opal/jquery/http"),r.$require("opal/jquery/kernel")},Opal.modules["opal-jquery"]=function(e){var r=e.top;e.nil;return e.add_stubs("require"),r.$require("opal/jquery")},Opal.queue(function(e){var r=e.top;e.nil;return e.add_stubs("require"),r.$require("opal"),r.$require("opal-jquery")});
